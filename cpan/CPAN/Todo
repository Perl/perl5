2009-07-08  Andreas J. Koenig  <andk@cpan.org>

	* from cpantesters-discuss

	05:04:06 <@ST47> Hey
	05:04:21 <@ST47> Anyone ever had a problem with the FTPstats.yml getting 
  corrupted?
	05:04:49 <@ST47> It keeps getting messed up and throwing a syntax error through 
  YAML::Syck and throwing my smokers into a useless state
	06:28:45 <@ST47> Probably ran out of disk space mid-write...
	07:53:33 <@rafl> yeah, i've seen that.

2009-07-02  Andreas J. Koenig  <andk@cpan.org>

	* Curtis Jewell reports failing tests that I overlooked on cpantesters.
	Seems to be that Expect-less systems fail some tests around push/pop on
	urllist???

	http://www.nntp.perl.org/group/perl.cpan.testers/2009/06/msg4356518.html

	Nope, I can remove Expect and still pass all tests.

	He is stuck in the test "urllist empty" and then gets the fail for the
	test "reordering urllist". Skipping the "urllist empty" test when no
	Expect is installed will most probably "fix" this. I mean, we're fixing
	a test, not code.

	Nope. Was a whitespace bug, FIXED.

2009-07-01  Andreas J. Koenig  <andk@cpan.org>

	* amend version numbers and let Andy Armstrongs script care for them
	automatically. 1.9402 was delivered with 3 decreasing version numbers.
	How come?

	Status: Decreasing version number
	=================================
	
	     module: CPAN::Distribution
	    version: 1.93
	    in file: CPAN-1.9402/lib/CPAN/Distribution.pm
	     status: Not indexed because CPAN-1.9304/lib/CPAN.pm in
	             A/AN/ANDK/CPAN-1.9304.tar.gz has a higher version number
	             (1.9304)
	
	     module: CPAN::Index
	    version: 1.93
	    in file: CPAN-1.9402/lib/CPAN/Index.pm
	     status: Not indexed because CPAN-1.9304/lib/CPAN.pm in
	             A/AN/ANDK/CPAN-1.9304.tar.gz has a higher version number
	             (1.9304)
	
	     module: CPAN::LWP::UserAgent
	    version: 1.00
	    in file: CPAN-1.9402/lib/CPAN/LWP/UserAgent.pm
	     status: Not indexed because CPAN-1.9304/lib/CPAN.pm in
	             A/AN/ANDK/CPAN-1.9304.tar.gz has a higher version number
	             (1.9304)

	Something like
	perl-reversion -current 0.0.4 -set 0.0.5 lib/**/*.pm

2009-04-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Acme::Badexample ($VERSION = do { $_++ while 1; return $_ };) breaks
	us. Could not get a stable solution from BSD::Resource. The problem was
	that when running the r command after a while the number of $SIG{XCPU}
	interrupts increased until finally the shell ended itself. Probably a
	bug somewhere else. Giving up at this state:

diff --git a/lib/CPAN/Module.pm b/lib/CPAN/Module.pm
index f9520d9..92d53c9 100644
--- a/lib/CPAN/Module.pm
+++ b/lib/CPAN/Module.pm
@@ -652,9 +652,32 @@ sub available_version {
 #-> sub CPAN::Module::parse_version ;
 sub parse_version {
     my($self,$parsefile) = @_;
+    our($soft0,$hard0,$used0);
+    if (CPAN->has_usable("BSD::Resource")) {
+        ($used0) = BSD::Resource::getrusage();
+        ($soft0,$hard0) = BSD::Resource::getrlimit(BSD::Resource::RLIMIT_CPU()) unless $soft0;
+        warn "used0[$used0]soft0[$soft0]hard0[$hard0]\n";
+        my $success = BSD::Resource::setrlimit(BSD::Resource::RLIMIT_CPU(),int(3+$used0),$hard0);
+        if ($success) {
+            $SIG{XCPU} = sub {
+                my $sig = shift;
+                die +{ SIG => $sig};
+            };
+        } else {
+            $CPAN::Frontend->mywarn("Could not set limit\n");
+        }
+    }
     my $have = eval { MM->parse_version($parsefile); };
     if ($@) {
-        $CPAN::Frontend->mywarn("Error while parsing version number in file '$parsefile'\n");
+        if (my $sig = $@->{SIG}) {
+            $CPAN::Frontend->mywarn("Signal $sig caught while parsing version number in file '$parsefile'\n");
+        } else {
+            $CPAN::Frontend->mywarn("Error while parsing version number in file '$parsefile'\n");
+        }
+    }
+    if ($soft0) {
+        BSD::Resource::setrlimit(BSD::Resource::RLIMIT_CPU(),$soft0,$hard0);
+        $SIG{XCPU} = 'IGNORE';
     }
     my $leastsanity = eval { defined $have && length $have; };
     $have = "undef" unless $leastsanity;

	Seems to be solved with a much simpler alarm call now but I had to
	choose a surprisingly high alarm value of 10. Below that I saw random
	errors.

2009-04-14  Andreas J. Koenig  <andk@cpan.org>

	* explicit option to prefer Archive::Tar over tar like suggested by
	https://rt.cpan.org/Ticket/Display.html?id=33686?

	explicit option for suppress readline!

	while being at readline: improve the wording "available" versus what
	Schwern suggested in https://rt.cpan.org/Ticket/Display.html?id=29862

2009-04-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* reminder: Solaris tar cannot read tarballs with a path with more than
	100 bytes. Wolfram re-reported it today.

	https://rt.cpan.org/Ticket/Display.html?id=43813 was the first report.
	No, https://rt.cpan.org/Ticket/Display.html?id=40843

	MST suggested switching to tgz. Good idea.

2009-03-13  Andreas J. Koenig  <andk@cpan.org>

	* git tags not exported. Why? Need to export the release tags. How?

	Do I actually have some? 

% git tag -l | tail
1.92_63
1.92_64
1.92_65
1.92_66
1.93
1.9301
1.9304
1.93_02
1.93_03
1.93_51

	But on the re-imported clone it ends with 1.9301

	git push --tags

	this is considered to dtrt. Can be checked visiting github and hovering
	over "all tags". According to
	http://blog.ashchan.com/archive/2008/06/30/tags-on-git/ at least.
	Problem with that is we have so many tags that we cannot scroll to the
	last in firefox.

	But indeed 'git push --tags' did work as expected and downloading to the
	the other box also

2009-03-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* test YAML::XS and YAML::Perl.

|                 | YAML::Syck | YAML::XS | YAML | YAML::Perl     | YAML::Tiny |
|                 |            |          |      |                |            |
| hosts command   | 0 s        | 0 s      | 5 s  | INTR after 1 m | FAILS      |
|                 |            |          |      |                |            |
| test Acme::Meta | 4 s        | 4 s      | 35 s | FAILS          | FAILS      |
|                 |            |          |      |                |            |

2009-02-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* support deprecate.pm: Nick's plan seems to be that when Switch.pm is
	installed at

	/Users/nick/Sandpit/511v/lib/perl5/5.11.0/Switch.pm

	then it is a second class citizen (because it came with perl) which
	warns when being loaded (due to deprecated.pm). But when it (the very
	same file) is installed from the CPAN it will live in a different
	location, say

	/Users/nick/Sandpit/511v/lib/perl5/site_perl/5.11.0/Switch.pm

	and then it will not warn about deprecate although the 'use deprecate'
	is in the file.

	The plan is to change CPAN.pm such that it installs from CPAN the very
	same version as the core version is. The difference should be recognized
	in the installation directory. So there shall be more magic in the INC
	order.
	
2009-02-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* todo/nice to have: completion on distros such that before the slash we
	complete user ids and after the slash not ls() but existing distros. Or
	maybe if we have more than x characters we complete the distros. Or some
	such.

2009-01-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* todo: add a new pause batch signing key

2009-01-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 12:04:17 <@Alias> What I'm suggesting is that CPAN.pm can be embedded inside of 
                  larger programs
12:04:36 <@Alias> Or at least, it should be... it is extremely front-end 
                  centric in many places
12:05:22 <@Alias> Well, I can't actually load up CPAN.pm inside my process, as 
                  it's unsafe...
12:05:29 <@Alias> Because it does permalocks on files and stuff
12:05:36 <@Alias> And that goes all explodey
12:05:47 <@Alias> So I have to isolate each CPAN.pm call out in seperate 
                  processes
12:06:20 <@Alias> Mostly via pip or "cpan Whatever" calls
12:07:04 <@klapperl> maybe we can get rid of the permalocks 
12:07:11 <@Alias> That would be nice
12:07:26 <@Alias> Also, to not apply the "don't try to reinstall" between 
                  user-land commands
12:08:12 <@Alias> But if we could flush some of this stuff out, it would be nice

2008-11-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* shlomi-regex-utf8.pl needs a trick to kill itself after a second or
	two but without alarm because alarm doesn't kill the running regexp.
	Implemented with open..."|-". It uses alarm but in the parent and the
	child runs the regex.

	* S/SR/SRI/Catalyst-Plugin-HTML-Widget-1.1.tar.gz also calls cpanplus.

2008-11-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* somebody has successfully called cpanplus. I suspect it was
	Devel-ebug-HTTP-0.32. Or Module::Install::Catalyst. Whatever. I now have
	a process standing in
	/home/sand/.cpanplus/5.11.0/build/Catalyst-Runtime-5.7015 doing nothing
	having 6 pipes open and giving me no clue.

	Yes, Leon has Module::Install 0.60 in inc/. Arrrrrrrgh.

	http://rt.cpan.org/Ticket/Display.html?id=40599

2008-10-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Scriptalicious had its first fail on 2008-07-08 with a bleadperl since
	then 6 green and 31 red.

2008-09-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Class::MOP and 32734:

Class-MOP-0.64_01.tar.gz  OK
Class-MOP-0.64_02.tar.gz  OK
Class-MOP-0.64_03.tar.gz  OK
Class-MOP-0.64_04.tar.gz  OK
Class-MOP-0.64_05.tar.gz  NOT OK

	A comment explains that the other versions did not load XS but fell back
	to the pure perl versions.

	It's not a trivial enough thing for me to simply fix it with an #if.

	Envariable CLASS_MOP_NO_XS? Fixes it, of course but does not help us much.

2008-09-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Class-MOP

----Program----
eval q{use Class::MOP 0.65};
print $@ ? "N/A" : "OK";
print "\n";

----Output of ...pIitLTW/perl-5.10.0@32733/bin/perl----
OK

----EOF ($?='0')----
----Output of ...p3OAlrp/perl-5.10.0@32734/bin/perl----
N/A

----EOF ($?='0')----

	http://rt.cpan.org/Ticket/Display.html?id=39149

2008-09-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* HOP-Parser-0.01 broke between

 FAIL  1754549 meta:from[DAGOLDEN] meta:date[2008-06-20T22:25:00]
 PASS  1727355 meta:from[andreas.koenig.gmwojprw] meta:date[2008-06-18T02:45:00]

	HOP::Stream 0.02 came out

	http://rt.cpan.org/Ticket/Display.html?id=37367 by RUDY with patch

2008-09-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ATOURBIN/rpm-build-perl-0.6.8.tar.gz (= B::PerlReq) broke between Jun
	28 and Jul 8 for all perls that had modules up to date. My 34053 is not
	uptodate and it still tests ok.

	Looking at the output of 'r' should reveal something.

	B::Debug                       1.07      1.11  OK
	B::Utils                       0.05      0.06  OK
	Devel::CallTrace                1.0       1.2  OK
	Devel::Backtrace               0.10      0.11  OK
	CPAN::Reporter                 1.15      1.1601 NOT OK

	https://rt.cpan.org/Ticket/Display.html?id=39054 by DAGOLDEN with patch

2008-09-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* limit the autogeneration of a Makefile.PL to single-file stuff should
	not break too many script distros. Requested by

Mailing-List: contact perl-qa-help@perl.org; run by ezmlm
To: perl-qa@perl.org
Subject: Re: imaginary Makefile.PL (and scripts)
Date: Wed, 3 Sep 2008 13:24:34 -0700
Message-Id: <200809031324.34780.ewilhelm@cpan.org>
From: Eric Wilhelm <scratchcomputing@gmail.com>

2008-08-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* it has already been reported as http://rt.cpan.org/Ticket/Display.html?id=36912

	Hook::Filter has a use_ok in a BEGIN block. Only reached one of several
	things is missing because then it is a skip_all. use_ok in BEGIN block?
	Wasn't this allowed in old times due to a Test::Simple bug? Yes. I added
	a comment to the ticket.

2008-07-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* mixed success with JSON::XS. At least a first binary search
	demonstrates that there must be some problem.

----Program----
eval q{use JSON::XS 2.22};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pQYroRO/perl-5.9.3@27322/bin/perl----
OK

----EOF ($?='0')----
----Output of .../piMBZQp/perl-5.9.3@27323/bin/perl----
N/A

----EOF ($?='0')----

	Is it a Test::Harness problem? The test output looks OK but the summary
	says FAIL. T:H is up to date, 3.12. Upgrading CPAN from 1.9205 to
	1.92_63. Upgrading CPAN::Reporter from 1.1601 to 1.16_51.

	Still same bad result.

	Upgrading to Test::Harness::Straps 0.30 No success

cpan[5]> install JSON::XS
Running install for module 'JSON::XS'
Running make for M/ML/MLEHMANN/JSON-XS-2.22.tar.gz
  Has already been unwrapped into directory /home/sand/.cpan/build/JSON-XS-2.22-bEP80n                                                                          
  Has already been made
Running make test
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/piMBZQp/perl-5.9.3@27323/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/00_load...............ok
t/01_utf8...............ok
t/02_error.............. All 31 subtests passed
t/03_types..............ok
t/04_dwiw_encode........ok
t/05_dwiw_decode........ok
t/06_pc_pretty..........ok
t/07_pc_esc.............ok
t/08_pc_base............ok
t/09_pc_extra_number....ok
t/10_pc_keysort.........ok
t/11_pc_expo............ok
t/12_blessed............ok
t/13_limit..............ok
t/14_latin1.............ok
t/15_prefix.............ok
t/16_tied...............ok
t/17_relaxed............ok
t/18_json_checker.......ok
t/19_incr...............ok
t/99_binary.............ok

Test Summary Report
-------------------
Files=21, Tests=25547, 24 wallclock secs ( 9.90 usr  0.04 sys + 13.26 cusr  0.25 csys = 23.45 CPU)
Result: FAIL
Failed 1/21 test programs. 0/25547 subtests failed.


	Most probably the t/02error.t thing, it has no "ok".

	Oh no! I saw the above thing several times and now I retried and it has
	disappeared with that same perl @27323.

2008-07-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* DBD-Pg on k81 hangs forever asking for 'Path to pg_config?'

	* STEVAN/FCGI-Engine-0.04 seems to hang forever

2008-07-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* App-Control-1.02 seems to call the wrong perl and when it then fails
	it goes into a--fortunately slow--endless loop. Need to investigate
	soonish if nobody beats me to it.

2008-07-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* XML::RSS::Tools has three FAILS that nobody else reported but me.

	Manually reproducable with 5.10.0 () and ParseReport does not lead me in
	any direction.

	So I decide to upgrade random pieces.

	I come by Archive::Any and I see it fail the same way as XML::RSS::Tools!!!

t/type............
#   Failed test 'right warning, unknown type'
#   at t/type.t line 15.
# found carped warning: uplevel 2 is more than the caller stack at /home/src/perl/repoperls/installed-perls/perl/pVNtS9N/perl-5.8.0@32642/lib/site_perl/5.10.0/Test/Warn.pm line 283
# found warning: No mime type found for type 'hominawoof' at /home/sand/.cpan/build/Archive-Any-0.0932-SZsz9I/blib/lib/Archive/Any.pm line 169.
# expected to find warning: (?-xism:No mime type found for type 'hominawoof')

#   Failed test 'right warning, no type'
#   at t/type.t line 19.
# found carped warning: uplevel 2 is more than the caller stack at /home/src/perl/repoperls/installed-perls/perl/pVNtS9N/perl-5.8.0@32642/lib/site_perl/5.10.0/Test/Warn.pm line 283
# found warning: No handler available for type 'text/plain' at /home/sand/.cpan/build/Archive-Any-0.0932-SZsz9I/blib/lib/Archive/Any.pm line 179.
# expected to find warning: (?-xism:No handler available for type 'text/plain')
# Looks like you failed 2 tests of 7.
 Dubious, test returned 2 (wstat 512, 0x200)
 Failed 2/7 subtests 

Test Summary Report
-------------------
t/type        (Wstat: 512 Tests: 7 Failed: 2)
  Failed tests:  5, 7


	Test-Warn has many used-by and many dependencies. I pick for example
	dependency on Sub::Uplevel and this perl has 0.19_03.

	Only few have 0.19_03 installed. And indeed, downgrading to 0.1901 fixes
	the issue.

2008-07-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Math-BaseCalc

	1802488 1802531 1813504 1814071 1819368 1823811 1826225 

2008-06-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	*  rt-perl-22977

----Program----
sub f ($); # Comment out to get right result!
sub f ($) {
        my $test = $_[0];
        write;
        format STDOUT =
@<<<<<<<
$test
.
}
f(1);
f(2);

----Output of .../pMZAcVt/perl-5.8.0@19648/bin/perl----
1
1

----EOF ($?='0')----
----Output of .../pgL2gwc/perl-5.8.0@19649/bin/perl----

----EOF ($?='11')----


2008-06-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Email-Simple 2.004/2.003: During the latest megainstall I installed
	first 2.004 and later 2.003 for whatever reason. And then, when he tried
	to install Email-Simple-FromHandle, he complained that 2.003 was
	insufficient.

	http://rt.cpan.org/Ticket/Display.html?id=37144

2008-06-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Sys-Syscall-0.22 hangs with 34066 (maint-5.8) during 02-sendfile. That
	makes Danga-Socket a DISCARD. Hmm. And then Perlbal hangs in its test.
	Hmm.

	update 2008-06-23: 34074@bleadperl also hangs. 34053 too. Why did I not
	notice that? 33949 same. Aha: since Jun 15 there is process 9195 running
	occupying port 60001, owned by sand, parent is 1 and it has plenty
	children. I kill it and run the tests for 33949 again. Doesn't help. Now
	process 21113, testing some t/31-realworld.t has occupied port 60001.

	When I kill that then the Syscall test runs through.

	Whose bug is that? I'd say Sys::Syscall should fail more gracefully
	instead of just hanging.

	Retrying 34053: now Sys-Syscall-0.22/t/01-epoll.t fails! But at least
	without hanging. Same with 33949:

t/01-epoll.........
#   Failed test 'made temp listening socket'
#   at t/01-epoll.t line 61.
Can't use an undefined value as a symbol reference at t/01-epoll.t line 62.
# Looks like you planned 20 tests but only ran 13.
# Looks like you failed 1 test of 13 run.
# Looks like your test died just after 13.
 Dubious, test returned 255 (wstat 65280, 0xff00)
 Failed 8/20 subtests 

	Of course, there's process 9193 listening on 60000 since Jun 15.

	And now epoll runs through everywhere.

	http://rt.cpan.org/Ticket/Display.html?id=37075

2008-06-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: report Data::Float the bug to switch to "traditional" instead of
	"passthrough".

	https://rt.cpan.org/Ticket/Display.html?id=36731

2008-06-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* As the last time in 2008-03-08 today I hit the Makefile.PLs written by
	Module::Build::Compat "passthough" model. This time with
	Data-Float-0.009 and Text-SimpleTable-0.03. Why does this perl have no
	Module::Build? I thought my megainstall rules install it because they
	install Bundle::CPANxxl? Yes, I do. But M:B FAILs with current
	5.8.9-tobe. Is it Test::Harness 3.11? At line 675 we install T:H 3.11
	and at 950 we fail the test compat.t, so yes, this is with 3.11.

	Retrying with 33994 I see T:H 3.11 fail in its
	t/compat/test-harness-compat.t. It has 3.10 and M:B PASSes.

	Retrying with 33935 I see M:B PASS with T:H 3.10. Here T:H 3.11 PASSes
	and is now installed. Testing M:B again FAILs on its t/compat.t test.

	Retrying with what next? I would like to have a stock 5.8.8 as it comes
	with just the bare metal.... Not needed because AndyA apparently
	already knows (witnessed on #p5p)

	Workaround is to force install M:B.

2008-06-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* URI::Escape::XS has 10 fails all of which have useperlio, usemymalloc,
	ld=cc, intsize=4, hint=recommended, dlsrc=dl_dlopen.xs,
	d_longlong=define, ccversion="", cc=cc, alignbytes=4. But what does that
	tell us?

	perl bin/quidi-getreports.pl -q=conf:intsize URI-Escape-XS | perl -nale 'if ($F[0] eq "FAIL"){ print "~/var/cpantesters/nntp-testers/$F[1]"}'|xargs echo

	With this list we can grep for the test failure (it is always 03-hashu.
	Uniq -c gives us:

      1 #   Failed test 'decodeURI(&quot;%uD869&quot;)'
      9 #   Failed test 'decodeURI(&quot;%uD869%uDEB2%u5F3E%u0064&quot;)'

	The shorter one is /home/k/var/cpantesters/nntp-testers/1595927 from chris.

	No clue.

2008-05-31  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* There seems to be a bug when the user has makepl_args and the
	distroprefs file has other pl/args.

2008-05-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* flock on windows is mandatory -- mail from Jan Dubois

2008-05-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* what's the matter with maint-5.10? need a perl between 33823 and 33921
	and because 33921 does not build I must read the available perls in the
	APC directory:

	% ls APC/perl-5.10.x-diffs

	Trying 33883. Trying lots of older 5.10s which all must have worked some
	time before because I do not think the I have skipped testing often. All
	fail in the same way. Some debian upgrade must have broken something.
	For the record:

ok 385 - Archive type recognized properly
not ok 386 - extract() for 'x.lzma' reports success

#   Failed test 'extract() for 'x.lzma' reports success'
#   at ../lib/Archive/Extract/t/01_Archive-Extract.t line 334.
ok 387 - No errors capturing buffers
not ok 388 - Found correct number of output files

#   Failed test 'Found correct number of output files'
#   at ../lib/Archive/Extract/t/01_Archive-Extract.t line 356.
#          got: '0'
#     expected: '1'
Modification of non-creatable array value attempted, subscript -1 at ../lib/Archive/Extract/t/01_Archive-Extract.t line 358.
1..388
# Looks like you failed 2 tests of 388.
# Looks like your test died just after 388.
dubious
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 386, 388
        Failed 2/388 tests, 99.48% okay
Failed Test                               Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
../lib/Archive/Extract/t/01_Archive-Extra  255 65280   388    2  386 388
Failed 1/1 test scripts. 2/388 subtests failed.
Files=1, Tests=388,  3 wallclock secs ( 1.05 cusr +  0.34 csys =  1.39 CPU)

	But Archive::Extract from CPAN passes its tests.

	Look, the x.lzma files in perl and in Archive::Extract differ:

% md5sum ~/.cpan/build/Archive-Extract-0.26-t7pU2J/t/src/x.lzma ./x.lzma
44c17dfa72c5277ff13518c9214f8a02  /home/sand/.cpan/build/Archive-Extract-0.26-t7pU2J/t/src/x.lzma
447ad6244441d9cccfa8ab690b6cd035  ./x.lzma
>sand@k75:/home/src/perl/repoperls/perl-m-5.10.0@33942/lib/Archive/Extract/t/src% cmp -l ~/.cpan/build/Archive-Extract-0.26-t7pU2J/t/src/x.lzma ./x.lzma
 1 135  43
 2   0  43
 3   0  43
 4 200  43
 5   0  43
 6   0  43
 7   0  43
 8   0  43
 9   0  43
10   0  43
11   0  43
12   0  43
13   0  43
14   0  43
15   0  43
16   0  43
17   0  43
18   0  43
cmp: EOF auf /home/sand/.cpan/build/Archive-Extract-0.26-t7pU2J/t/src/x.lzma.

	What? The test file in the CPAN distro is only 18 bytes? Bleedperl's
	also has only 18 bytes.

	see http://public.activestate.com/cgi-bin/perlbrowse/r///depot/maint-5.10/perl/lib/Archive/Extract/t/src/x.lzma.packed which says:

//depot/maint-5.10/perl/lib/Archive/Extract/t/src/x.lzma.packed
... #2 change 33943 integrate on 2008/05/28 by davem@davem-pigeon (text) 'Integrate: [ 33414] Subject: [p'
... ... copy from //depot/perl/lib/Archive/Extract/t/src/x.lzma.packed#2
... #1 change 33113 branch on 2008/01/29 by nicholas@nicholas-saigo (text) 'Integrate: [ 32652] Upgrade to '
... ... branch from //depot/perl/lib/Archive/Extract/t/src/x.lzma.packed#1

	And the same for bleadperl http://public.activestate.com/cgi-bin/perlbrowse/r///depot/perl/lib/Archive/Extract/t/src/x.lzma.packed

//depot/perl/lib/Archive/Extract/t/src/x.lzma.packed
... #2 change 33470 edit on 2008/03/10 by rgs@scipion (text) 'Subject: Re: [PATCH] make Archi'
... ... copy into //depot/maint-5.10/perl/lib/Archive/Extract/t/src/x.lzma.packed#2
... #1 change 33098 add on 2008/01/28 by stevep@stevep-kirk (text) 'Upgrade to Archive-Extract-0.26'
... ... branch into //depot/maint-5.10/perl/lib/Archive/Extract/t/src/x.lzma.packed#1

	main-5.10 has the packed file instead of the unpacked one. So who calls
	uupacktool and how?

	Ahh, 33943 must fix it. My last try was 33942.

2008-05-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* >>>>> On Sun, 25 May 2008 12:53:15 -0400, "David Golden" said:

  > So here's what I think should be the logic, more or less:

  > * under "install", all 'requires' must be satisfied without adding
  > build directories to PERL5LIB or else they need to be queued.  All
  > "build_requires" must be satisfied including build directories or they
  > need to be queued.

  > * under "test/make", "requires" or "build_requires" must be satisfied
  > including build directories or they need to be queued

  > What do you think?

	Excellent summary. This will indeed allow the user to mix install and
	make/test commands.

2008-05-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Games::RolePlay::MapGen puzzling fails may need autobundle diffs.

	/home/sand/.cpan/Bundle/Snapshot_2008_05_21_00.pm

2008-05-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* David did some refactoring and now we see that satisfy_requires and
	satisfy_configure_requires are similar but not foldable into one thing.
	Is this intentional or are there bugs lurking?

	* "later_for" seems an unused variable, David said. Dispensable or lost
	in transition? Not lost in transition, rather introduced without a clear
	mission.

	* bleedperl between 33832 and 33845 broke CPAN::Reporter?

t/51_test_report_fail..................
#   Failed test 't-MultipleMatch: 'make test' grade explanation correct'
#   at t/51_test_report_fail.t line 105.
#          got: ''make test' error detected.'
#     expected: 'One or more tests failed.'
# Looks like you failed 1 test of 102.
 Dubious, test returned 1 (wstat 256, 0x100)
 Failed 1/102 subtests

	This is in the logfile but I cannot reproduce it.

2008-05-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Kwiki::Test and 5.10.1 tobe have a problem. 33787 is my maint-5.10,
	33788 my blead. Autobundles in

	    /home/sand/.cpan/Bundle/Snapshot_2008_05_10_0[01].pm

	First suspect File::Path 2.04 vs 2.06?

	http://rt.cpan.org//Ticket/Display.html?id=35761

2008-05-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Devel::Profiler

	http://rt.cpan.org/Ticket/Display.html?id=35620

	* new bug in Module::Install? MooseX::Storage declares the dependency
	"Best" on feature "YAML". Then I set my usual environment variables for
	Module::Install and nobody asks a question and Best is not being
	installed. Who's doing wrong?

	To find out, we need a perl without Best.pm. 33711

	Trying on the commandline both

	/home/src/perl/repoperls/installed-perls/perl/pw3p8BE/perl-5.10.0@33711/bin/perl Build.PL
	and
	/home/src/perl/repoperls/installed-perls/perl/pw3p8BE/perl-5.10.0@33711/bin/perl Makefile.PL

	ask the right questions, But setting either PERL_AUTOINSTALL=--skip or
	PERL_EXTUTILS_AUTOINSTALL=--skip leads to no questions asked.

	This is contrary to my expectations but as I'm not sure how
	Module::Install intends to behave I cannot really tell what's up.

	I filed a ticket against Module::Install to please provide some docs.

	https://rt.cpan.org/Ticket/Display.html?id=35619

2008-05-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* SOAP-WSDL fails sometimes with Can't locate object method "new" via
	package "SOAP::WSDL::Transport::HTTP"

	Stepping through the debugger reveals it may have to do with the fact
	that I have Test::Without::Module installed. Because otherwise he skips
	tests silently.

	http://rt.cpan.org/Ticket/Display.html?id=35610

	* Catalyst-View-Jemplate 0.06 had a few fails recently, the first on May
	1.

	Jemplate 0.22 seems to break it

    CPAN_FILE    R/RK/RKRIMEN/Jemplate-0.22.tar.gz
    UPLOAD_DATE  2008-04-29

	There is no older version in the RKRIMEN directory. Previous maintainer
	was INGY. Downgrading to INGY/Jemplate-0.21? Does not fix it. 0.20 fixes
	this.

	http://rt.cpan.org//Ticket/Display.html?id=35609

	* DROLSKY/Log-Dispatch-2.21.tar.gz has its first fail ever yesterday.

	Looks like a Params::Validate issue

	k75 33755 0.89 PASS
	k75 33755 0.90 FAIL
	k81 32642 0.89 PASS
	k81 32642 0.90 FAIL
	k78 5.8.8 0.89 PASS
	k78 5.8.8 0.90 FAIL

	http://rt.cpan.org/Ticket/Display.html?id=35608

	* SHA256-0.01b has some 64bit issue. All FAILs are systems that have
	use64bitint set.

	http://rt.cpan.org/Ticket/Display.html?id=33944

2008-04-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* XML::SAX::RTF needs an emergency release

	* Bug in new distroprefs: sorting has been lost

2008-04-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* get-reports: when we get no clue from whatever we try we would like to
	have an automaton that tests for every possible dependency, calculates a
	regression and lists them. POE::API::Peek is such a case but also
	List-Sliding-Changes might be analyzable that way.

	L:S:C is fixed and get-reports did not help. Would have needed more
	insights into tests but most reports do not provide that especially not
	when it is a PASS.

2008-04-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* IPC::Run fails today with any perl I try even with perls that have
	installed it successfully in the past and recent days. Either a
	dependency on a module has got a new version or something on that system
	(semaphores?). Interesting is http://rt.cpan.org/Ticket/Display.html?id=28150
	Locale! distropref written.

2008-04-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Event::Lib seems to need a binarysearch. Might be a Test::Harness issue.

	Ok, came to the conclusion it is Test::Harness 3.0 related.

	http://rt.cpan.org/Ticket/Display.html?id=35355

	* JSON::XS 2.2 is accused to need a binary search but I find it working
	under many bleadperls and indeed failing with a very old bleedperl
	(30953).

	cpantesters currently count Pass 65 : Fail 3, so this seems to be a
	bogus report.

2008-04-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* apc-overview says/should say

maint-5.10                   5.10.1   32695  33660 ( 116) [have 33642]
maint-5.8                     5.8.9   27041  33694 ( 982) [have 33638]
perl                         5.11.0   32643  33714 ( 810) [have 33714]

	missing number of patches since last build

2008-04-20  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Coming back to Data::Serializer. The trick was to do what in the
	debugger?

	make testdb TEST_FILE=t/05-Encryption.t

	b 53 "JSON" eq $serializer
	s
	c 340
	s
	c 738
	s
	c 642

	Ahja, now we can reconstruct.

	use Crypt::CBC;
	my $secret = "test";
	my $cipher = "Blowfish";
	my $digest = qq{deadbeef};
	$digest .= chr(256); chop $digest;
	my $cipher_obj = Crypt::CBC->new($secret,$cipher);
	print length $cipher_obj->encrypt($digest)==32 ? "ok\n" : "not ok\n";

	http://rt.cpan.org/Ticket/Display.html?id=35239

	And a perlbug

	Bitops on strings when UTF8 flag is set

2008-04-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* would like to get DJHD/Speech-Recognizer-SPX-0.09.tar.gz running on
	debian but it needs more work:

Package pocketsphinx was not found in the pkg-config search path.
Perhaps you should add the directory containing `pocketsphinx.pc'
to the PKG_CONFIG_PATH environment variable
No package 'pocketsphinx' found
Unable to locate PocketSphinx using pkg-config.  Please make sure that
you have installed pkg-config and PocketSphinx on your system, and
that PKG_CONFIG_PATH is set correctly.


2008-04-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* would like to get JavaScript to compile. Needs work on Debian. The
	$lib/$libs thing is broken, fixing it was easy but then the compilation
	and the tests still failed.

	* refresh investigations Data::Serializer

	The string that is brought from JSON via Data::Serializer to Crypt::CBC::encrypt is this:

  DB<10> Devel::Peek::Dump $data
SV = PVMG(0x8a9e908) at 0x87e1964
  REFCNT = 2
  FLAGS = (PADMY,POK,pPOK,UTF8)
  IV = 0
  NV = 0
  PV = 0x8b32198 "6cbcecd11182ea942e597f5a5b77b2883885cceccff88f6b08e025db66316c96=[\"one\",\"two\",\"three\"]"\0 [UTF8 "6cbcecd11182ea942e597f5a5b77b2883885cceccff88f6b08e025db66316c96=["one","two","three"]"]
  CUR = 86
  LEN = 221
  MAGIC = 0x85c4148
    MG_VIRTUAL = &PL_vtbl_utf8
    MG_TYPE = PERL_MAGIC_utf8(w)
    MG_LEN = 86

	So far no difference between 2396[56] in Crypt::CBC::crypt.

	The difference comes after 

	my @blocks = unpack("a$bs "x(int(length($self->{'buffer'})/$bs)) . "a*", $self->{'buffer'});

	These blocks are UTF8 since 23966 and were not so in 23965. Even with
	identical 7bit content this makes a difference later.

2008-04-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* may be a bug in Distroprefs.pm the $abs in line 122. Seen with some DD
	only perl.

	* OOTools:

----Program----
eval q{use Class::Error 2.21};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pBnR154/perl-5.9.2@24659/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pWYtCAP/perl-5.9.2@24660/bin/perl----
N/A

----EOF ($?='0')----


2008-04-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CharsetDetector

----Program----
eval q{use CharsetDetector 1.0};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pdVMYpV/perl-5.9.2@25178/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p1Kjy6j/perl-5.9.2@25179/bin/perl----
N/A

----EOF ($?='0')----


	* There are some perls on my system that cannot compile current Expect!

	Which are that? At the moment just 25185. 25180 and 25194 both have it,
	so the gap must be pretty small.	

2008-04-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Data-Serializer:

----Program----
eval q{use Data::Serializer 0.44; use JSON 2.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p691lTk/perl-5.9.1@23965/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pSMD0sR/perl-5.9.1@23966/bin/perl----
N/A

----EOF ($?='0')----


2008-04-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Ricardo Signes suggested to discuss PAUSE issues on some list and I
	suggested reviving cpan-workers. Now I am not sure that I'm subscribed
	there. Google suggests the address is cpan-workers@perl.org

	http://www.nntp.perl.org/group/perl.cpan.workers/

	has the last posting from 2005. I'll now retry to send a message.

	update 2008-04-03 akoenig : seems to be disabled. But perl.cpan.discuss
	is in the slow lists and alive and I'm probably not subscribed.

	* Both Barbie and David Golden agreed to my plan to refuse the make
	phase when we are in the make(1) domain AND some files have a future
	timestamp. Slaven is opposed to the idea but has no better suggestion.
	Details in the thread on cpan-testers-discuss starting on 2008-03-28.

	* To understand #34582 I need a perl without Glib, ExtUtils::Depends,
	and ExtUtils::PkgConfig. Then I should issue a 'test Glib'

	No, better would be a perl with ExtUtils::Depends < 0.300 and/or
	ExtUtils::PkgConfig < 1.00 to see if they can pick up the right one.

	See also David Golden Message-ID:
	<5d4beb40803052058w7f774a8u3a72891b1aba9803@mail.gmail.com> on
	cpan-testers-discuss

2008-03-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* No useable patch available between 17639 and 17672

	This is where we lost JSON.

----Program----
eval q{use JSON 2.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p0IId7q/perl-5.8.0@17639/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p957hf5/perl-5.8.0@17672/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 17639 and 17672
(but 17642, 17654, 17656 could not successfully be used to build perl)

	For some reason -Ui_db does not seem to work with these? No it seems the
	-Ui_db was lost or forgotten.

	So I retried after deleting much remainings from the previous binary
	search and finally found a straight patch threshold:

----Program----
eval q{use JSON 2.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pfB6YBj/perl-5.8.0@17656/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pgWUpay/perl-5.8.0@17671/bin/perl----
N/A

----EOF ($?='0')----

	So it is 17671. And as expected it has (pretty certainly) to do with the
	change of the PERL_VERSION in patchlevel.h from 8 to 9.

	http://rt.cpan.org/Ticket/Display.html?id=34599 reports/fixes JSON
	
	* distname vs modulename: david golden recently seemed to have suggested
	a solution to the distname trap that everybody so far had been ignoring.
	Where is a link?

	The thread was Subject: RFC: URI::cpan on the module-authors@perl.org
	mailing list.

	* No useable patch available between 17639 and 17836

	-Ui_db as described further down

2008-03-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* timestamps in the future:

>  I'm going beyond that: toss the entire _make_ unless they say
>  "allow_future_timestamps". Then CPAN::Reporter could refuse to send
>  reports when they actually do set "allow_future_timestamp".

I think that's a very reasonable way to go.

	This needs to be done soonish.

	* Crypt-CBC-2.27 seems to not declare prereq Crypt-Rijndael but fail
	without it? Seen with 25418. Reported in
	http://rt.cpan.org/Ticket/Display.html?id=34521

2008-03-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Data::Serializer: I stopped a binary search because of Math::Pari

	Then I restarted it and it ended with the impossible resolution:

----Program----
eval q{use Data::Serializer 0.44};
print $@ ? "N/A" : "OK";
print "\n";

----Output of ...pVDHwBj/perl-5.10.0@33153/bin/perl----
OK

----EOF ($?='0')----
----Output of ...pyNdNAp/perl-5.10.0@33154/bin/perl----
N/A

----EOF ($?='0')----

	Crap because 33154 is a patch of just a test.

-optimize='-g';
+optimize='-O2';

-archname='i686-linux-64int';
+archname='i686-linux';

	Let's remove 33154. Next iteration ends here:

----Program----
eval q{use Data::Serializer 0.44};
print $@ ? "N/A" : "OK";
print "\n";

----Output of ...pyQ307v/perl-5.10.0@33550/bin/perl----
OK

----EOF ($?='0')----
----Output of ...p0PdUk4/perl-5.10.0@33551/bin/perl----
N/A

----EOF ($?='0')----

	with only configdiff:

-d_builtin_expect='define';
+d_builtin_expect='undef';

	Stepping through the debugger reaches a point:

643:      return $cipher_obj->encrypt($digest);
  DB<42> x $digest
0  '6cbcecd11182ea942e597f5a5b77b2883885cceccff88f6b08e025db66316c96=["one","two","three"]'
  DB<43> x $cipher_obj
0  Crypt::CBC=HASH(0x90d1b74)
   'blocksize' => 8
   'cipher' => 'Crypt::Blowfish'
   'header_mode' => 'salt'
   'iv' => undef
   'key' => undef
   'keysize' => 56
   'legacy_hack' => undef
   'literal_key' => ''
   'make_random_iv' => 1
   'make_random_salt' => 1
   'padding' => CODE(0x8aa745c)
      -> &Crypt::CBC::_standard_padding in /home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm:461-476
   'passphrase' => 'test'
   'pcbc' => undef
   'salt' => undef
  DB<44> s
Crypt::CBC::encrypt(/home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm:173):
173:        my ($self,$data) = @_;
  DB<44> n
Crypt::CBC::encrypt(/home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm:174):
174:        $self->start('encrypting');
  DB<44> 
Crypt::CBC::encrypt(/home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm:175):
175:        my $result = $self->crypt($data);
  DB<44> 
input must be 8 bytes long at /home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/i686-linux-64int/Crypt/Blowfish.pm line 56.
 at /home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/i686-linux-64int/Crypt/Blowfish.pm line 56
        Crypt::Blowfish::encrypt('Crypt::Blowfish=HASH(0x90cc684)', 'u¿&µ[²k') called at /home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm line 250
        Crypt::CBC::crypt('Crypt::CBC=HASH(0x90d1b74)', '6cbcecd11182ea942e597f5a5b77b2883885cceccff88f6b08e025db66316...') called at /home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm line 175
        Crypt::CBC::encrypt('Crypt::CBC=HASH(0x90d1b74)', '6cbcecd11182ea942e597f5a5b77b2883885cceccff88f6b08e025db66316...') called at blib/lib/Data/Serializer.pm line 643
        Data::Serializer::_encrypt('Data::Serializer=SCALAR(0x909efac)', '["one","two","three"]', 'Blowfish', 'SHA-256') called at blib/lib/Data/Serializer.pm line 738
        Data::Serializer::serialize(undef, 'ARRAY(0x8510aac)') called at ./t/serializer-testlib line 340
        main::run_test('ExtUtils::TBone=HASH(0x85122ac)', 'JSON', 'simplearray', 'encryption') called at t/05-Encryption.t line 53


	Retrying

  DB<47> 
Crypt::CBC::crypt(/home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/Crypt/CBC.pm:245):
245:        foreach my $block (@blocks) {
  DB<47> x \@blocks
0  ARRAY(0x8a93128)
   0  '6cbcecd1'
   1  '1182ea94'
   2  '2e597f5a'
   3  '5b77b288'
   4  '3885ccec'
   5  'cff88f6b'
   6  '08e025db'
   7  '66316c96'
   8  '=["one",'
   9  '"two","t'
  DB<48> l
245==>      foreach my $block (@blocks) {
246:          if ($d) { # decrypting
247:            $result .= $iv = $iv ^ $self->{'crypt'}->decrypt($block);
248:            $iv = $block unless $self->{pcbc};
249           } else { # encrypting
250:            $result .= $iv = $self->{'crypt'}->encrypt($iv ^ $block);
251           }
252:          $iv = $iv ^ $block if $self->{pcbc};
253         }
254:        $self->{'civ'} = $iv;               # remember the iv
  DB<48> c 254
input must be 8 bytes long at /home/src/perl/repoperls/installed-perls/perl/prFWwqr/perl-5.10.0@33580/lib/site_perl/5.11.0/i686-linux-64int/Crypt/Blowfish.pm line 56.


	After some more stepping down into the debugger I discover that somebody
	passes in an 8 character string to Blowfish and as it is UTF8 it is not
	8 bytes and Blowfish correctly dies. Seems to be JSON 2.07 related.
	33550 has no JSON installed. Is it that? Yes, maybe. But if I add JSON
	into the prereq mix I need to go much further back in history. 5.8.8 is
	OK, 24518 isn't and for perls before patch 25000 several things fall
	apart for different reasons.

	19173 cannot have JSON and subsequently Data::Serializer succeeds. So
	the test scripts must add JSON as explicit requirement.

	Now I find out that JSON does not run on 17968 either. So where did JSON
	2.07 stop? 17639 was the beginning of 5.9.0 the day after 5.8.0. And
	JSON 2.07 still did work with 17637.

	* Math::Pari: a perlmonks posting leads to success but later perls broke
	it again

2008-03-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* maybe still unreported: Safe::World, Data::Dump::Streamer,
	Authen-Htpasswd-0.16, YAML::LibYAML, Handel

	* reported but unfixed: Devel::ebug, Storable, Tk, Devel::Size

	* reported and fixed: FreezeThaw, Test::Deep, Params::Validate

2008-03-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Repeatedly observed a "Possible unintended interpolation of ...@33430"

	Where did it come from? Probably my fault!

2008-03-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* RSOD/IPC-Run-0.80.tar.gz fails? Apparently yes, from time to time.

2008-03-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Does Clone have issues ATM? Object-Relation has a problem and among
	all dependencies the reddest is Clone. But I do have Clone in current
	blead, why is it red? Simply because Steve and I have patched for 5.11
	and not reported on RT as it seems.  Now done with

	http://rt.cpan.org/Ticket/Display.html?id=34317

2008-03-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Devel::Profiler has a very annoying test that tests plausible speed
	and sets the threshod so low that nearly everybody fails.

2008-03-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Slaven reports a special problem with Util-Properties 0.17 with
	current CPAN.pm. It complains about -T while 1.9205 does not. With 5.8.8.

	I have seen quite some successes with current CPAN.pm and several perls.
	But also inexplicable behaviour (but not wrt -T).

	Other contenders:

	BBKR/IPC-Concurrency-0.4.tar.gz
	JACQUELIN/RRDTool-Creator-0.9.tar.gz
	ADIE/Test-Class-0.28.tar.gz


2008-03-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* PERL5INC/OPT/LIB needs more testing. Net::Amazon::Signature is well
	suited because it depends on Spiffy but doesn't declare that. Somebody
	seems to put the PERL5OPT into INC:

	I got it. It seems not possible to load two -M with one PERL5OPT (?)

	At least this does not work:

	PERL5OPT="-MCPAN::PERL5INC=yaml_module,YAML::Syck -MCPAN::PERL5INC=yaml_module,YAML::Syck" make test

	So I must 

2008-03-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Slaven's segfault in RT 34066 needs more thought!!!

2008-03-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* GSHANK/Form-Processor-Model-DBIC-0.01.tar.gz has something that triggers

Can't use string ("--") as a HASH ref while "strict refs" in use at /home/src/perl/repoperls/installed-perls/maint-5.8/pnDGtsd/perl-5.8.7@27040/lib/5.8.8/CPAN.pm line 8441.
ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN
      Something went wrong during
      /home/src/perl/repoperls/installed-perls/maint-5.8/pnDGtsd/perl-5.8.7@27040/bin/perl
      G/GS/GSHANK/Form-Processor-Model-DBIC-0.01.tar.gz
      (sleeping 30)
ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN-ATTN

	Fixed in my sources, too early to write RT ticket.

	At least wrote http://rt.cpan.org//Ticket/Display.html?id=34073 on
	YAML::Syck which should (probably?) not have accepted this META.yml.

2008-03-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 

----Program----
eval q{use Hatena::Keyword 0.05};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pW6uQKQ/perl-5.9.1@24009/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pBwPNFp/perl-5.9.1@24010/bin/perl----
N/A

----EOF ($?='0')----

	thinnercache tells me that Unicode::RecursiveDowngrade broke at the same
	patch
	
2008-03-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Some day Ken Williams made a few statements about what CPAN.pm is
	considered to do in the face of a recommends or an optional_features.
	Where is it? Can't find it.

	So recap what Slaven hashed out today:

	If the user says dynamic_config=0 and specifies optional_features and
	the distroprefs give me want_optional_features, then I can merge these
	requires and build_requires and configure_requires into the main stuff
	and proceed without asking questions. Really cool.

	* VPIT/IPC-MorseSignals-0.13 hangs during t/62-fork-storable.t under
	maint-5.10@33443.

	And it hangs on t/61-fork-utf8 under maint-5.10.0@33412

	* AI::Prolog jumped into my eye:

2007-12-20T21:07  perl  32674   584   JJORE/AI-Prolog-0.739.tar.gz  NOT OK
2007-12-18T19:17  perl  32642   441   JJORE/AI-Prolog-0.739.tar.gz  OK

	Red since then independent of the branch. Already reported in RT 31905,
	it's the infamous Test::Simple fix.

2008-03-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ExtUtils::Command broken; suspect Test::Simple

perl/pMDhhVO/perl-5.10.0@33370;5.11.0;thr=;opt=-O2;perl_patchlevel=              PASS 0.75
perl/paM8WrN/perl-5.10.0@33387;5.11.0;thr=;opt=-O2;perl_patchlevel=              FAIL 0.77
                         33390                                                   PASS
perl/pXTMoRe/perl-5.10.0@33401;5.11.0;thr=;opt=-O2;perl_patchlevel=
perl/pXZ43Pl/perl-5.10.0@33409;5.11.0;thr=;opt=-O2;perl_patchlevel=              FAIL
perl/p5BztI8/perl-5.10.0@33411;5.11.0;thr=;opt=-O2;perl_patchlevel=              FAIL
perl/paD9wDz/perl-5.10.0@33423;5.11.0;thr=;opt=-g;perl_patchlevel=33423
perl/pRu8vDi/perl-5.10.0@33450;5.11.0;thr=define;opt=-O2;perl_patchlevel=33450
perl/pq7Gob0/perl-5.10.0@33451;5.11.0;thr=;opt=-O2;perl_patchlevel=33451         FAIL
perl/pPLJssF/perl-5.10.0@33452;5.11.0;thr=;opt=-O2;perl_patchlevel=33452         FAIL 0.78

	http://rt.cpan.org/Ticket/Display.html?id=33926

2008-03-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* This I get with maint-5.8@33449:

WARNING: DBIx::Class::StartupCheck: This version of Perl is likely to exhibit
extremely slow performance for certain critical operations.
Please consider recompiling Perl.  For more information, see
https://bugzilla.redhat.com/show_bug.cgi?id=196836 and/or
http://lists.scsys.co.uk/pipermail/dbix-class/2007-October/005119.html.
You can suppress this message by setting DBIC_NO_WARN_BAD_PERL=1 in your
environment.

	* Data::Structure::Util broke somewhere 24650..24661

  CPAN.pm: Going to build F/FO/FOTANGO/Data-Structure-Util-0.12.tar.gz

This module requires Module::Build to install itself.
  Install Module::Build from CPAN? [y] 

	Aha. This is a special Module::Build silliness that calls CPAN
	recursively to install Module::Build::Compat. If you say no, it dies.

	update 2008-06-12 akoenig : what's the politically correct way to deal
	with this Makefile.PL nowadays? Large Module::Build::Compat thread at
	http://www.nntp.perl.org/group/perl.perl5.porters/2008/01/msg133202.html
	(just a random point in the middle), no conclusion there. My conclusion:
	install Module::Build really early and never see this discussion again.
	And if Module::Build cannot be built? When this happens it will be fixed
	within days or we can force install it and with 5.10 this is moot.

	Nope, changing mind again. If there is no reason to use "passthrough",
	they really should use "traditional", the only sane option when there is
	no special reason why you'd absolutely need Module::Build.

2008-03-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* PIJLL/DateTime-Format-Epoch-0.11.tar.gz has both fails and passes. 64bitint?

	33008 MIX  no64bitint -O2 nothreads
	33409 PASS 64bitint -O2 nothreads
	33411 PASS 64bitint -O2 nothreads
	33423 MIX  no64bitint -g nothreads
	33430 FAIL no64bitint threads

	http://rt.cpan.org//Ticket/Display.html?id=33816

2008-03-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* FreezeThaw is pure perl and is written such that the test goes
	somewhere out of reach, out of memory, unlimited recursion or some such.
	make testdb comes to the last test which is really a large eval and
	there is gets lost. It's definitely only related to Regexp.

ok 27
# 'FrT;@1|/13|(?mi-xs:^abc)'

ok 27
# 'FrT;@1|/13|(?mi-xs:^abc)'
# 'FrT;!0|{>0|$6|Regexp/13|(?mi-xs:^abc)})0|@1|@3|<0|<0|$2|11'

	http://rt.cpan.org/Ticket/Display.html?id=33844

	* what is my latest 5.10.1? It could be 33412 but it is 33288:5.10.0::thr=:opt=-g

	* what is my latest 5.8.9? It could be 33424 but it is
	pBxK9vV/perl-5.8.8@33243:5.8.8::thr=:opt=-O2

	* POE-0.9999

	make test TEST_FILES=t/90_regression/cfedde-filter-httpd.t

	FAIL under Test::Simple 0.78 with perl@33409
	PASS under Test::Simple 0.74 with perl@33409
	PASS under Test::Simple 0.74 with perl@33390
	FAIL under Test::Simple 0.78 with perl@33390
	PASS under Test::Simple 0.74 with perl@32642 (5.10.0)
	FAIL under Test::Simple 0.74 with perl@32642 (5.10.0)

	http://rt.cpan.org/Ticket/Display.html?id=33768

2008-03-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* SAPER/CPAN-Dependency-0.12 hangs:

>sand@k75:~/CPAN-SVN% ps -A -o user,pid,ppid,start_time,cmd | grep '^sand'|grep 3533
sand      3533  3527 12:26 /home/src/perl/repoperls/installed-perls/perl/pXTMoRe/perl-5.10.0@33401/bin/perl -w t/02internals.t
sand      7509 27737 12:42 grep 3533
>sand@k75:~/CPAN-SVN% strace -p 3533
Process 3533 attached - interrupt to quit
select(8, [4], NULL, NULL, {278, 608000} <unfinished ...>
Process 3533 detached
>sand@k75:~/CPAN-SVN% kill 3533     
>sand@k75:~/CPAN-SVN% 

	Or, it seems, it has very long timeouts and connects ftp without passive
	or whatever.

	RT 33726

	* I need to keep a pointer to the last BBC articles and I should check
	if all unresolved ones are in RT. Today somebody reported Readonly::XS
	on RT. Should have been there already. Now as a reply in

	http://rt.cpan.org/Ticket/Display.html?id=33711

	Nowadays I think I always post BBCs immediately to RT which is the right
	thing.

2008-02-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Test::Class 0.28 is a candidate to prove something between 33356 and 33358

	Maybe Test::Simple, Test::More, Test::Builder? Yes.

	http://rt.cpan.org/Ticket/Display.html?id=33574

	Is there more to it?

	new fails
    ILYAZ/modules/Math-Pari-2.010709.tar.gz[42]        # the usual
	  PDENIS/Test-Strict-0.09.tar.gz[244]                # Devel::Cover
	  MIYAGAWA/Catalyst-View-JSON-0.23.tar.gz[329]       # broken dependency declaration
	  MTHURN/I18N-Charset-1.388.tar.gz[630]              # random due to skip
	  REDTREE/PDF-API2-Simple-1.1.4u.tar.gz[657]         # flaky ever since
	  ADIE/Test-Class-0.28.tar.gz[847]                   # see above
	  NEELY/Data-Serializer-0.43.tar.gz[939]             # random since months
	  BBC/Email-MIME-CreateHTML-1.026.tar.gz[940]        # dep on Data::Serializer
	  JAYK/Catalyst-Authentication-Store-DBIx-Class-0.104.tar.gz[1010]
                                                       # not reproducable, flaky ever since
	  MIYAGAWA/Apache-GuessCharset-0.03.tar.gz[1266]     # dep on I18N::Charset
	  CHOCOLATE/Scalar-Util-Clone-0.10.tar.gz[1332]      # not bleadperl compat
	  MSTROUT/Devel-REPL-1.002000.tar.gz[1513]           # dep on DDS

2008-02-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Curious:

----Program----
eval q{use Devel::LeakTrace 0.05};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p9aWFUh/perl-5.8.0@17967/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pUEVfU9/perl-5.8.0@17968/bin/perl----
N/A

----EOF ($?='0')----

	Also in maint-5.8:

----Program----
eval q{use Devel::LeakTrace 0.05};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pcZcM34/perl-5.8.0@18079/bin/perl----
OK

----EOF ($?='0')----
----Output of .../piE8rWS/perl-5.8.0@18080/bin/perl----
N/A

----EOF ($?='0')----

	Reported on P5P: http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2008-02/msg00717.html

	And on RT: https://rt.cpan.org/Ticket/Display.html?id=33548

	* Spending some tuits on 01.DISABLED.yml

  CPAN.pm: Going to build A/AD/ADAMK/ThreatNet-IRC-0.01.tar.gz

==> ExtUtils::AutoInstall 0.49 required. Install it from CPAN? [Y/n] n
Undefined subroutine &ExtUtils::AutoInstall::_make_args called at inc/Module/Install/AutoInstall.pm - /usr/local/share/perl/5.8.4/Module/Install/AutoInstall.pm line 46, <STDIN> line 1.
Warning: No success on command[/home/src/perl/repoperls/installed-perls/perl/pyIdwn2/perl-5.10.0@33356/bin/perl Makefile.PL]
  ADAMK/ThreatNet-IRC-0.01.tar.gz
  /home/src/perl/repoperls/installed-perls/perl/pyIdwn2/perl-5.10.0@33356/bin/perl Makefile.PL -- NOT OK
Running make test
  Make had some problems, won't test
Failed during this command:
 ADAMK/ThreatNet-IRC-0.01.tar.gz              : writemakefile NO '/home/src/perl/repoperls/installed-perls/perl/pyIdwn2/perl-5.10.0@33356/bin/perl Makefile.PL' returned status 2304

	What for is ExtUtils::AutoInstall required? Where is it documented?


2008-02-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ARTURAZ/Net-Vypress-Chat-0.72.1.tar.bz2

2008-02-12  Andreas Koenig  <k@k78.linux.bogus>

	* Investigate new noise from a
	Lingua-Stem-Snowball-0.941/5.11/Test-Harness-3.09/whatever combination.
	Megabytes of warnings against uc(undef) apparently starting yesterday.

	The error reads:

	Use of uninitialized value $dir in uc at /home/src/perl/repoperls/installed-perls/perl/pvCr5Qs/perl-5.10.0@33278/lib/5.11.0/TAP/Parser/Grammar.pm line 371.

	RT#33146

2008-02-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 

----Program----
eval q{use Safe::World 0.14};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pGZP5H3/perl-5.9.2@24965/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pR6Z2HL/perl-5.9.2@24966/bin/perl----
N/A

----EOF ($?='0')----

	This was a SEGV at that time but in the meantime it is a 'Unknown
	operator name "threadsv" at ....Safe/World/Compartement.pm line 95.'

	This means that 24966 is of only marginal interest.

2008-02-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Wrote a new entry into http://rt.cpan.org/Ticket/Display.html?id=30145
	to nail down XML::RSS::LibXML which failed again today with

t/items-are-0....................http://my.netscape.com/publish/formats/rss-0.91.dtd:1: parser error : Content error in the external subset
<br />
^
Can't call method "getNamespaces" on an undefined value at /home/sand/.cpan/build/XML-RSS-LibXML-0.3002-NE3qqm/blib/lib/XML/RSS/LibXML.pm line 172.
# Looks like you planned 502 tests but only ran 472.
# Looks like your test died just after 472.
 Dubious, test returned 255 (wstat 65280, 0xff00)
 Failed 30/502 subtests 
^I(less 23 skipped subtests: 449 okay)

	* http://rt.cpan.org/Ticket/Display.html?id=32841 Would have to consider
	all possible directories on a given system. Compare them if they are at
	all different. Offer the user a chance to resolve things if they are
	different.

	Found more than one CPAN/MyConfig.pm files:

	[1] .../...
	[2] .../...
	[3] .../...

	Please tell me which one I shall use.

	* http://rt.cpan.org/Ticket/Display.html?id=32525: sent me a nice patch
	to make the listings prettier by using representative module names for
	the distros that have one so instead of this:

App::Prove                     3.07      3.08  ANDYA/Test-Harness-3.08.tar.gz
DBD::Gofer::Transport::Base  0.010088  0.010377  TIMB/DBI-1.602.tar.gz

	....we would see

DBI                           1.601     1.602  TIMB/DBI-1.602.tar.gz
Test::Harness                  3.07      3.08  ANDYA/Test-Harness-3.08.tar.gz

	I rolled my own implementation of this idea today that needed less code
	to change. It costs a bit more CPU to sort the raw list of modules and
	the stupid thing is that we sort all, not only those that are being
	displayed finally. But that was always our goal: to display while we go
	so the user gets information as soon as possible. So now the list is
	sorted by the boolean "representative module" and on second order
	alphabetically. This means that after a first pass through the alphabet
	there is a second as in:

XML::SimpleObject::LibXML      0.53      0.60  DBRIAN/XML-SimpleObject-LibXML-0.60.tar.gz
Catalyst::Model::Search::Item     undef      0.01  MRAMBERG/Catalyst-Model-Search-0.01.tar.gz


2008-02-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Slaven suspects a misbehaviour of the new recursion detection. He
	encountered it with Tcl.

	* cpantesters website seems to have stalled. Reported to Robert.

2008-02-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Frank asks me to investigate this based on program which is already in
	rt.perl.org since Jan 8.

	$p -Itests -MUnknownError

31253:5.9.5::thr=:opt=-g
Global symbol "$asd" requires explicit package name at tests/UnknownError.pm line 8.
BEGIN not safe after errors--compilation aborted at tests/UnknownError.pm line 9.
Compilation failed in require.
BEGIN failed--compilation aborted.
31384:5.9.5::thr=:opt=-g
Unknown error
Compilation failed in require.
BEGIN failed--compilation aborted.

	Wrote a call_UnknownError.pl. The UnknownError.pm was already there.
	Apparently I was disturbed when running it the first time.

----Program----
my $out = `'$^X' -Itests -MUnknownError 2>&1`;
$out =~ s/at .*$//mg;
print $out;

----Output of .../plx9DAz/perl-5.9.4@31254/bin/perl----
Global symbol "$asd" requires explicit package name 
BEGIN not safe after errors--compilation aborted 
Compilation failed in require.
BEGIN failed--compilation aborted.

----EOF ($?='0')----
----Output of .../pwiMCxf/perl-5.9.4@31255/bin/perl----
Unknown error
Compilation failed in require.
BEGIN failed--compilation aborted.

----EOF ($?='0')----

	Reported to P5P

	* inspired by RT#33004

----Program----
eval q{use Mail::Mbox::MessageParser 1.5};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../paCcXxw/perl-5.9.1@23470/bin/perl----
OK

----EOF ($?='0')----
----Output of .../prlkihB/perl-5.9.1@23471/bin/perl----
N/A

----EOF ($?='0')----

	There is a regex written with qr/.../ which is later used within a
	pattern. The -m of the inner pattern was overruled by the outer /m until
	23470 and not overruled in 23471. It's the pattern 'from_pattern' from
	the Config.pm. Fixing this fixes one test, not all. Two more spots to
	patch.

	distroprefs/DCOPPIT.Mail-Mbox-MessageParser.yml

	http://rt.cpan.org/Ticket/Display.html?id=33004

2008-02-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* need to re-visit OLAF/Net-DNS-0.62.tar.gz, not in RT and not inspected
	closely enough.

	http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2008-01/msg01365.html

	* need to find the autobox mail that said something	about
	1.22?

	http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-12/msg00809.html

	No need to run binary search again. Now in RT:

	http://rt.cpan.org/Ticket/Display.html?id=32928

2008-02-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Frank Wiegand tells me stories about a bug in AUTOLOAD, version, or
	CPAN.pm.

	http://perlmonks.org/?node_id=665058

	After installing a few thousand modules I can reproduce the failure.
	With both 1.9205 and current repository version. I must call 'reload
	index' and then 'r'. An 'r' when loading the data from Metadata
	succeeds.

	Introducing more evals allows me to identify the modules that *trigger*
	the bug:

	'Acme::MetaSyntactic::nethack':
	'Class::Accessor::Classy':
	'Class::DBI':
	'Class::Std':
	'Config::Std':
	'Getopt::Euclid':
	'Smart::Comments':
	'Sub::Installer':
	'Text::Balanced':

	I can then also step through the debugger in the AutoLoader which
	believes it is being called for:

	  DB<<11>> x $AUTOLOAD
0  'main::version::(""'

	Before we reach there we see a version object that looks like so:

	  DB<7> x $have
0  main::version=HASH(0xcc1b6ec)
   'original' => 'v1.0.0'
   'qv' => 1
   'version' => ARRAY(0xcc1b8e4)
      0  1
      1  0
      2  0

	and the debugger displays it as such, so apparently overloading is
	turned off somehow. Because if I construct such an object manually, it
	has overloading and the 'x $have' just does:

	  DB<16> x $have                                       
0  v1.0.0


	I now have it down to:

% /home/src/perl/repoperls/installed-perls/maint-5.8/p8tnrrm/perl-5.8.0@27144/bin/perl -Ilib -MCPAN -e '
use CPAN;
CPAN::Shell->reload("index");
$TRACEMODULE = CPAN::Shell->expand('Module','Acme::MetaSyntactic::nethack');
$traceinst = $TRACEMODULE->inst_version;
print $traceinst;         
'

	Bombs immediately.

	My perllocal.pod has many candidates that might have changed something.

	A binary search would probably compare two perls and add one module
	after the other to the one that is still sane?

	stop,stop,stop Frank has found the culprit in Safe.pm 2.14.

	* Could it be a way to increase responsibility consciousness among MI
	users: report it as a bug when they distribute an old version? Makes
	little sense in the absence of a good recent version. Ajj, but Chroniton
	distributes 0.63 and that version seems to have not even a check for
	PERL5_CPANPLUS_IS_RUNNING.

	http://rt.cpan.org/Ticket/Display.html?id=32984

	* A plan how we could protect the world from recursive usage. Inc the
	counter in the environment, display it, display in which directory we
	are, sleep for a long and increasing time, recommend the user to hit ^C
	and file a bug report. Display the process number. Display a countdown
	when we will continue. Display some sort of stack trace.

2008-02-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 

----Program----
eval q{use Devel::StackTrace 1.15};
print $@ ? "N/A" : "OK";
print "\n";

----Output of ...pnKj4xI/perl-5.10.0@33021/bin/perl----
OK

----EOF ($?='0')----
----Output of ...pMXqMnB/perl-5.10.0@33022/bin/perl----
N/A

----EOF ($?='0')----


2008-01-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 

----Program----
eval q{use Net::DNS 0.62};
print $@ ? "N/A" : "OK";
print "\n";

----Output of ...pm8xeIK/perl-5.10.0@33087/bin/perl----
OK

----EOF ($?='0')----
----Output of ...pjheziE/perl-5.10.0@33088/bin/perl----
N/A

----EOF ($?='0')----


2008-01-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: post to P5P:

----Program----
eval q{use Devel::Cover 0.63};
print $@ ? "N/A" : "OK";
print "\n";

----Output of ...po5d47x/perl-5.10.0@33071/bin/perl----
OK

----EOF ($?='0')----
----Output of ...pPgv7op/perl-5.10.0@33072/bin/perl----
N/A

----EOF ($?='0')----

	* bisect for Florian Math::Pari patch

	* bisect for Moritz Lenz the regex thing.


2008-01-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Carp-Clan?

cpan[2]> install Carp::Clan 
Running install for module 'Carp::Clan'

  The module Carp::Clan isn't available on CPAN.

  Either the module has not yet been uploaded to CPAN, or it is
  temporary unavailable. Please contact the author to find out
  more about the status. Try 'i Carp::Clan'.

	I find 

     471 2008-01-11 JJORE/Carp-Clan-5.10.meta
   18618 2008-01-11 JJORE/Carp-Clan-5.10.tar.gz

	but it isn't indexed. Probably a decreasing version number case?

2008-01-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* (from Slaven) Diese Datei ist leer:

   JHI/Math-Complex-1.41.tar.gz

	und führt dazu, dass mein Smoker abbricht. Könntest du CPAN.pm hier
	beibringen, auch nur den Fehler anzuzeigen und weiterzumachen?

2008-01-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Randy/PPM/etc. More thoughts needed.

2007-12-31  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Need a tool to bring all broken distros into a tree shape as to
	eliminate leaves below a common node.

2007-12-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* summary

	32707: Data::Alias, Devel::Declare, autobox

	All other fails are not reproducable or dependencies.

	* 32719

new fails
    ZOOLEIKA/RDF-Simple-0.3.tar.gz[332], ASH/DBIx-Class-0.08008.tar.gz[470], ADAMK/CPAN-Index-0.01.tar.gz[473], ADEO/Data-Random-0.05.tar.gz[786], AUDREYT/Encode-IBM-0.07.tar.gz[809], BRICAS/DBIx-Class-Indexed-0.02.tar.gz[908], DAXIM/Yahoo-Photos-0.0.2.tar.gz[995], OVID/Test-JSON-0.02.tar.gz[1089], MAURICE/IPC-ShareLite-0.09.tar.gz[1126], CFRANKS/DBIx-Class-HTML-FormFu-0.01004.tar.gz[1246], BLBLACK/Catalyst-Model-DBIC-Schema-0.20.tar.gz[1251], MRAMBERG/Catalyst-Plugin-Authentication-Store-DBIC-0.09.tar.gz[1252], BRICAS/DBIx-Class-DateTime-Epoch-0.03.tar.gz[1268], JROCKWAY/Task-Catalyst-Tutorial-0.03.tar.gz[1315], CLACO/DBIx-Class-Validation-0.02001.tar.gz[1429], CLACO/DBIx-Class-UUIDColumns-0.02002.tar.gz[1538]

	* 32717

new fails
    NI-S/Tk-HTML-3.003.tar.gz[89], LGODDARD/Tk-Wizard-2.128.tar.gz[128], XMATH/Data-Alias-1.07.tar.gz[132], BSMITH/Devel-EvalContext-0.09.tar.gz[133], MSTROUT/Devel-Declare-0.001006.tar.gz[620], CHOCOLATE/autobox-1.22.tar.gz[625], STEVAN/Moose-Autobox-0.05.tar.gz[626], NEELY/Data-Serializer-0.43.tar.gz[780], BBC/Email-MIME-CreateHTML-1.026.tar.gz[781], RIZEN/Config-JSON-1.1.1.tar.gz[897], CHORNY/Apache-Session-1.85.tar.gz[1104], ANDK/Apache-Session-Counted-1.118.tar.gz[1310], SAMTREGAR/DBIx-Timeout-1.01.tar.gz[1316], ADUITSIS/IPC-Mmap-0.14.tar.gz[1482]

2007-12-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* want to have: CPANPLUS::Dist::Deb with CPAN.pm as backend.

2007-12-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* on blead@32674. Sigh.

new fails
  RIZEN/Config-JSON-1.1.1.tar.gz[124]
	BRADFITZ/Danga-Socket-1.57.tar.gz[203]
	DMAKI/Danga-Socket-Callback-0.01200.tar.gz[204]
	OLAF/Net-DNS-0.61.tar.gz[258]
	RJBS/Email-Valid-0.179.tar.gz[259]
	MIYAGAWA/Email-Valid-Loose-0.05.tar.gz[261]
	LYOKATO/FormValidator-Simple-0.22.tar.gz[263]
	CLACO/DBIx-Class-Validation-0.02001.tar.gz[264]
	GMPASSOS/Safe-World-0.14.tar.gz[285]
	NODINE/Text-Restructured-0.003037.tar.gz[292]
	CFRANKS/HTML-Widget-1.11.tar.gz[303]
	JJORE/B-Generate-1.11.tar.gz[318]
	MIYAGAWA/Email-Find-0.10.tar.gz[436]
	RCAPUTO/POE-Component-Client-DNS-1.00.tar.gz[455]
	JJORE/AI-Prolog-0.739.tar.gz[584]
	DPAVLIN/Search-Estraier-0.08.tar.gz[748]
	RCAPUTO/POE-Component-Client-Keepalive-0.1000.tar.gz[761]
	RCAPUTO/POE-Component-Client-HTTP-0.82.tar.gz[762]
	DMAKI/Xango-1.08.tar.gz[770]
	JMASON/Mail-SpamAssassin-3.2.3.tar.gz[775]
	PIJLL/DateTime-Format-Epoch-0.11.tar.gz[785]
	NEELY/Data-Serializer-0.43.tar.gz[806]
	BBC/Email-MIME-CreateHTML-1.026.tar.gz[841]
	SARTAK/Jifty-0.71129.tar.gz[856]
	NUFFIN/Test-TAP-Model-0.09.tar.gz[934]
	NUFFIN/Test-TAP-HTMLMatrix-0.09.tar.gz[935]
	GAAL/Task-Smoke-0.16.tar.gz[936]
	BINGOS/POE-Component-Server-IRC-1.24.tar.gz[1009]
	JOHANL/Devel-PerlySense-0.0136.tar.gz[1014]
	VKON/Tcl-0.95.tar.gz[1025]
	LGODDARD/Tk-Wizard-2.124.tar.gz[1101]
	MIYAGAWA/CGI-Untaint-email-0.03.tar.gz[1269]

2007-12-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* And on RT #31708 I found Data::Swap as being a binary search help seeker.

----Program----
eval q{use Data::Swap 0.05};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../poY9GSb/perl-5.8.0@22739/bin/perl----
OK

----EOF ($?='0')----
----Output of .../piOkQwD/perl-5.8.0@22741/bin/perl----
N/A

----EOF ($?='0')----

	Sent a one-line note to Matthijs. Saying goodbye to the usual BBC
	articles.

2007-12-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 5.10 is out and I find at home this binarysearch

----Program----
eval q{use Apache::DB 0.13};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pmRlzse/perl-5.8.0@32012/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p7cydGv/perl-5.8.0@32013/bin/perl----
N/A

----EOF ($?='0')----

	What's in it? Signalhandler stuff, and yes, the error message is

/home/src/perl/repoperls/installed-perls/perl/psSfy01/perl-5.8.0@32032/bin/perl /home/src/perl/repoperls/installed-perls/perl/psSfy01/perl-5.8.0@32032/lib/5.10.0/ExtUtils/xsubpp  -typemap /home/src/perl/repoperls/installed-perls/perl/psSfy01/perl-5.8.0@32032/lib/5.10.0/ExtUtils/typemap  DB.xs > DB.xsc && mv DB.xsc DB.c
cc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g   -DVERSION=\"0.13\" -DXS_VERSION=\"0.13\" -fPIC "-I/home/src/perl/repoperls/installed-perls/perl/psSfy01/perl-5.8.0@32032/lib/5.10.0/i686-linux-thread-multi-64int/CORE"   DB.c
DB.xs: In function XS_DB_ApacheSIGINT:
DB.xs:59: error: too few arguments to function ApacheSIGINT
make: *** [DB.o] Fehler 1

	What I don't know is how to get the right ifdef. BBC written 2007-12-27.

	* 32631:

new fails
    DROLSKY/HTML-Mason-1.37.tar.gz[821], JESSE/HTTP-Server-Simple-Mason-0.09.tar.gz[822], MJEWELL/docparser/Biblio-Document-Parser-1.10.tar.gz[913], SARTAK/Jifty-0.71129.tar.gz[947], FWILES/Apache-DB-0.13.tar.gz[997], BDFOY/Test-HTTPStatus-1.07.tar.gz[1116], RCLAMP/Devel-LeakTrace-0.05.tar.gz[1324], FLORA/Catalyst-View-Mason-0.15.tar.gz[1337], GWYN/POE-Component-Daemon-0.1006.tar.gz[1340], AUDREYT/Encode-IBM-0.07.tar.gz[1407]

	The new fails are only due to new discoveries by Alexandr Chorny

2007-12-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* From Chorny:

----Program----
eval q{use Test::HTTPStatus 1.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p9mfFVw/perl-5.8.0@31020/bin/perl----
OK

----EOF ($?='0')----
----Output of .../prYHaRP/perl-5.8.0@31021/bin/perl----
N/A

----EOF ($?='0')----

	But this is crap. We must declare an external dependency on
	Test::Pod::Coverage first. So now we get:

----Program----
eval q{use Test::HTTPStatus 1.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../psiUhc4/perl-5.8.0@26486/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pQD0dEL/perl-5.8.0@26487/bin/perl----
N/A

----EOF ($?='0')----

	On Apache::DB we will start the binary search between 31941 and 32032.
	BBC written 2007-12-27.

	On Biblio::Document::Parser between 23232 and 23606.

2007-12-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: next BBC summary must include today's mail from/to Alexandr
	Chorny.

2007-12-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* BSUGARS/IPC-Shareable-0.60.tar.gz needs a bugreport, maybe is a BBC
	"can't use...". On top of that several perls hang on test ipchv.t so
	that I must disable it.

	But, but, but nobody seems to use it, it's latest release is from 2001.
	Just ignore it!

2007-12-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Final binsearch on P5NCI:

----Program----
eval q{use P5NCI 0.31};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pecvOBn/perl-5.8.0@32401/bin/perl----
N/A

----EOF ($?='0')----
----Output of .../pbMBeR9/perl-5.8.0@32405/bin/perl----
OK

----EOF ($?='0')----

	http://rt.cpan.org/Ticket/Display.html?id=27963

	* Bug: I just did a 'fforce get' on modperl followed by a 'install'. The
	install tried to apply the patch a second time and then quickly failed
	because apparently the "install" attribute wasn't cleared. Eeek. Low
	prio because 'fforce get' is a bit of nonsense on the user side (it
	seems).

2007-12-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* P5NCI may need a binary search where it *started* to work. Depends
	what chromatic wants to know. Ticket 27963. 32395 fails, 32444 passes
	tests. DONE.

2007-12-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ALERT

2007-12-10T07:35  perl  32603   25  DAGOLDEN/CPAN-Reporter-1.06.tar.gz  NOT OK
2007-12-09T16:21  perl  32601   25  DAGOLDEN/CPAN-Reporter-1.06.tar.gz  OK

	It cannot be perl because the changes were .... 

32603 on 2007/12/10 by craigb@craigb-brianor

	Fix uninitialized pointer bug in VMS version of readdir() when
	case preservation feature is enabled.

32602 on 2007/12/09 by craigb@craigb-brianor

	Tolkien quote for vms/vms.c.

	autobundle? No, I think it is Test-Harness 3.05. Trying on PAUSE with 32602

	FIXED by David in 1.0601
	
2007-12-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ELLIOTJS via RT has brought evidence about CPAN.pm failures on solaris

2007-12-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Test::Harness 3.04 failing when Encode not installed?

t/unicode.........................
#   Failed test 'Unicode smiley (script): value for description matches'
#   at t/unicode.t line 111.
Wide character in print at t/lib/Test/Builder.pm line 1266.
#          got: 'Everything is fine âº'
#     expected: 'Everything is fine %Gâº%@'
# Looks like you failed 1 test of 20.
 Dubious, test returned 1 (wstat 256, 0x100)
 Failed 1/20 subtests

	Haven't seen this before.

	http://rt.cpan.org/Ticket/Display.html?id=31314 and fixed.

	* Jifty failed on IPC::PubSub::Cache::Memcached: Can't locate
	Cache/Memcached.pm. Looks like somebody forgot a dependency decl.

	In the Jifty dependency preparations I see only IPC::PubSub and
	Cache::Cache but no Memchache stuff. The full error states:

	Cannot load backend module: IPC::PubSub::Cache::Memcached: Can't locate Cache/Memcached.pm in @INC (@INC contains: /home/sand/.cpan/build/Jifty-0.71129-LHzsQe/inc /home/sand/.cpan/build/Jifty-0.71129-LHzsQe/blib/lib /home/sand/.cpan/build/Jifty-0.71129-LHzsQe/blib/arch /home/src/perl/repoperls/installed-perls/perl/p0klOEE/perl-5.8.0@32600/lib/5.10.0/i686-linux /home/src/perl/repoperls/installed-perls/perl/p0klOEE/perl-5.8.0@32600/lib/5.10.0 /home/src/perl/repoperls/installed-perls/perl/p0klOEE/perl-5.8.0@32600/lib/site_perl/5.10.0/i686-linux /home/src/perl/repoperls/installed-perls/perl/p0klOEE/perl-5.8.0@32600/lib/site_perl/5.10.0 . /home/sand/.cpan/build/Jifty-0.71129-LHzsQe/lib Jifty::ClassLoader=HASH(0x8b21e68) Jifty::ClassLoader=HASH(0x8b245a8) Jifty::ClassLoader=HASH(0x8b24358) Jifty::ClassLoader=HASH(0x8b25778) Jifty::ClassLoader=HASH(0x96c9790) Jifty::ClassLoader=HASH(0x96cb800) Jifty::ClassLoader=HASH(0x96cbe20) Jifty::ClassLoader=HASH(0x972f5a8) /home/sand/.cpan/build/Jifty-0.71129-LHzsQe/lib) at /home/src/perl/repoperls/installed-perls/perl/p0klOEE/perl-5.8.0@32600/lib/site_perl/5.10.0/IPC/PubSub/Cache/Memcached.pm line 5.

	and happens during t/04-test_file


2007-12-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* New BBC candidate

----Program----
eval q{use Test::Class 0.25};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pykQRSb/perl-5.8.0@32581/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pvgC1Ko/perl-5.8.0@32582/bin/perl----
N/A

----EOF ($?='0')----

	We have many other victims between 32580 and now but most of them are
	shaky things that have already exhibited random behaviour in the past.

	XML::RSS::LibXML                     ok
	DBIx::Timeout                        ok
	XML::RSS::Liberal                    ok
	Net::FTP::Common                     ok
	WebService::Bloglines                ok
	Getopt::Attribute                    not ok
	Module::Changes                      not ok (dependency of Getopt::Attribute)
	CGI-Session                          not ok but only due to SKIPs ok on 32980
	Log-Dispatch-Config                  ok
	POE-Component-Logger                 ok
	POE-Component-MessageQueue           ok
  Attribute-Types                      not ok
	Attribute::Overload                  not ok
	Finance-Currency-Convert-WebserviceX ok
	Data-Currency                        ok
	SVG-Plot                             not ok but was not ok before too
	HTML::GMap                           not ok (dependency of CGI::Session)
	CGI-Application-Plugin-Session       not ok (dependency of CGI::Session)

	#32582 (Attribute::Handlers) breaks Test::Class, Getopt::Attribute,
	Attribute::Types, Attribute::Overload and more. Shall I write a BBC on
	it or is there something in the pipeline?

	I wrote a BBC and then quickly somebody provided a fix (he had not even
	noticed my posting). So forget it.

2007-12-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Alias says: "YAML::Tiny is quite clear about what it is, a module that
	supports reading and writing of the block-mode JSON-subset of the YAML
	specification."

	mauzo writes a more complete spec:

Perl doesn't have a formal spec, either, yet it seems to acquire its fair share of bugs :).

YAML::Tiny has a perfectly decent (informal, implicit) spec:

   1. if write_string is passed any Perl data structure consisting only of unmagical scalars, arrays and hashes, produce a spec-compliant YAML document representing it which can be parsed by YAML::Tiny or any more complete YAML parser;
   2. if write_string is passed any other Perl data structure, report an error saying so;
   3. if read_string is passed any spec-compliant YAML document, either
         1. parse that document correctly and return the corresponding Perl data structure, or
         2. report an error that this document is unsupported and a more complete parser should be used;
   4. if read_string is passed anything that isn't a spec-compliant YAML document, report an error saying so.

Any other behaviour, such as Adam has just fixed, is a bug. The only thing that might be useful is documentation of which cases get 3.1 and which get 3.2.

	I must write a RT ticket demanding these specs become part of the manpage.

	http://rt.cpan.org/Ticket/Display.html?id=31275 where Alias say "A challenge"

	* off topic: http://use.perl.org/~pmichaud/journal/35049

	patrick on state of perl6/parrot

2007-12-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Feature request to David Golden: turn on/off cc_author via
	distroprefs. How?

2007-12-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Gtk2 has one single PASS. It fails on 27002 more or less the same way
	as with current 5.10. It fails on 23023 because Glib fails there. Maybe
	it would be interesting to find the place in history when Glib started
	working and then to run Gtk2 through that version. Just a binarysearch
	without --build should do.

----Output of .../p4eJlzo/perl-5.8.0@25733/bin/perl----
N/A

----EOF ($?='0')----
----Output of .../pdv4QaU/perl-5.8.0@25948/bin/perl----
OK

----EOF ($?='0')----

	Perfect! The error summary with 25948 is shorter than the one with 5.10.

	Wohoo, on "look" the DISPLAY isn't set, of course. But then the test
	succeeds just fine:

DISPLAY=:121 make test TEST_FILES="t/GdkDisplayManager.t" TEST_VERBOSE=1
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pdv4QaU/perl-5.8.0@25948/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(1, 'blib/lib', 'blib/arch')" t/GdkDisplayManager.t
t/GdkDisplayManager......
1..4
ok 1 - The object isa Gtk2::Gdk::DisplayManager
ok 2
ok 3
ok 4 - The object isa Gtk2::Gdk::Device
ok
All tests successful.
Files=1, Tests=4,  1 wallclock secs ( 0.02 usr  0.00 sys +  0.25 cusr  0.01 csys =  0.28 CPU)
Result: PASS

	But from 'test Gtk2' in the CPAN shell I get:

t/GdkDisplayManager..................The application 'GdkDisplayManager.t' lost its connection to the display :121.0;
most likely the X server was shut down or you killed/destroyed
the application.
 Dubious, test returned 1 (wstat 256, 0x100)
 No subtests run 
t/GdkDnd.............................Gdk-WARNING **: Drops for GDK_DRAG_PROTO_ROOTWIN must be handled internally at t/GdkDnd.t line 100.
ok


	So under CPAN shell the connection is lost, under 'make test' tests are
	succeeding? NO, under make test with arguments it works, under make test
	without arguments it fails. NO, it's once again RANDOM TEST RESULTS.

	When I run the command

	DISPLAY=:121 make test TEST_FILES="t/00.Gtk2.t t/01.GtkWindow.t t/02.GtkContainer.t t/Gdk.t t/GdkCairo.t t/GdkColor.t t/GdkCursor.t t/GdkDisplay.t t/GdkDisplayManager.t"

	several times then I get both a success and a failure. But the problem
	case is always the last one.

	AND there's another one that is even more annoying:

DISPLAY=:121 make test TEST_FILES=t/PangoLayout.t
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pdv4QaU/perl-5.8.0@25948/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/PangoLayout.t
t/PangoLayout......1/68 Modification of a read-only value attempted at t/PangoLayout.t line 134.
# Looks like you planned 68 tests but only ran 36.
# Looks like your test died just after 36.
t/PangoLayout...... Dubious, test returned 255 (wstat 65280, 0xff00)
 Failed 32/68 subtests 


	If I run it in the debugger it loses track of the debugger context
	completely and I cannot set a breakpoint. At least with 25948. So
	switching to current bleadperl I reach that line and see that the
	argument 23 is sent to some C lib and there it chokes. Not my area of
	interest.

	I made the random test results a ticket:

	http://rt.cpan.org/Ticket/Display.html?id=31255

2007-11-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* JJORE/overload-eval-0.07.tar.gz fails on 2007-11-28T09:27??

	Also fails on 32032 which was also threaded. Works with many others.

	Trying 30952 which is also threaded. FAIL.

	Trying 27048 which is also threaded. FAIL.

	Trying 23232 which is also threaded. Perl v5.9.4 required--this is only v5.9.2

	Everything before 28317 fails.

	http://rt.cpan.org/Ticket/Display.html?id=31139

2007-11-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Sepia binary search

----Program----
our $have_warned;
BEGIN { $SIG{__WARN__} = sub { return if $have_warned++; print "suppressing one or more warnings\n" }; }
eval q{use Sepia "0.95_02"};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pA0wlau/perl-5.8.0@30609/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pV9JsIn/perl-5.8.0@30610/bin/perl----
N/A

----EOF ($?='0')----


	* Long time been there, never noticed:

	2007-07-04T01:03  perl  31526   529   JONALLEN/a2pdf-1.13.tar.gz  NOT OK
	2007-07-02T15:26  perl  31515   299   JONALLEN/a2pdf-1.13.tar.gz  OK

	Now I see this has been discussed in this file but no conclusion.

	http://rt.cpan.org/Ticket/Display.html?id=28152

	A perl/$^X issue. Voiced myself in the ticket.

2007-11-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* PHRED/Apache-Test-1.30.tar.gz has a new dialog that needs to be
	distropreffed.

	This might need further work. Yesterday I saw a dialog despite
	envariable APACHE being set?

	* SEANO/Sepia-0.95.tar.gz might need a binary search. But it is
	problematic because CPAN::Reporter and Sepia have an issue with each
	other so it seems. Twice I have seen a hang after CPAN says
	"CPAN::Reporter loaded". No! What looks like a hang is just something
	taking many minutes. No?

	No, it's just a buggy question/answer game for installing dependencies.
	Somebody seems to have forgotten to set $| or something.

	http://rt.cpan.org/Ticket/Display.html?id=30998

2007-11-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Schwern posted about RT::Client::REST. Looks interesting.

	http://use.perl.org/~schwern/journal/34967

2007-11-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Overlooked this one

	2007-11-07T01:28  perl  32230   282   GAAS/Font-AFM-1.19.tar.gz   NOT OK
	2007-11-06T07:57  perl  32226   919   GAAS/Font-AFM-1.19.tar.gz   OK

	Looks like Test::Harness. 3.00 came out on 11-06. With 32474 and 3.0 I
	see FA fail too.

	http://rt.cpan.org/Ticket/Display.html?id=30962

2007-11-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* TEVERETT/Class-Prototyped-1.10.tar.gz looks like crying for a binary search help.

----Program----
eval q{use Class::Prototyped 1.10};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pLNXwon/perl-5.8.0@30979/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pTP10LN/perl-5.8.0@30980/bin/perl----
N/A

----EOF ($?='0')----

	BBC? Yes. And ticket. http://rt.cpan.org/Ticket/Display.html?id=31556

	* Random test failures with re-engine-Plan9:

	http://rt.cpan.org/Ticket/Display.html?id=30928

	* DONEILL/MIME-tools-5.425.tar.gz tests hang under 5.6.2

	At about the same time a bleadperl test complained:

	t/Smtpsend.............can't create socket: Address already in use at t/Smtpsend.t line 18.
# Looks like your test died before it could output anything.
 Dubious, test returned 255 (wstat 65280, 0xff00)
 Failed 9/9 subtests 

	So this might be a concurrency issue between the two tests? Sure!

	http://rt.cpan.org/Ticket/Display.html?id=30927

	And 12 days ago already the companion

	http://rt.cpan.org/Ticket/Display.html?id=30645

	and now stopped with a distropref.

2007-11-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Re: [perl #47632] Undef loop while condition, loop code motion, and bad warning line number? 5.10-RC1 + 5.8.8

	Schwern asks for a binary search. DONE

	* My own module?

	2007-10-30T23:51  perl  32204   495  ANDK/MAB2-0.06.tar.gz   NOT OK
	2007-10-30T08:15  perl  32202  1121  ANDK/MAB2-0.06.tar.gz   OK

	t/dualdb.........Could not tie @recs: illegal flag specified to DB->open; Filename => kafka.dualdb, Subname => recno, Mode => 0664, Flags => 524289 at /home/sand/.cpan/build/MAB2-0.06-EfNVot/blib/lib/Tie/MAB2/Dualdb/Recno.pm line 28.

	-rw-r--r-- 1 root root     299 Oct 30 22:30 libdb-dev.list

	Was this the upgrade to libdb 4.6.19-1?

	Or the upgrade to 1.816?

     395 2007-02-04 PMQS/DB_File-1.815.meta
   87656 2007-02-04 PMQS/DB_File-1.815.tar.gz
     395 2007-10-28 PMQS/DB_File-1.816.meta
   87854 2007-10-29 PMQS/DB_File-1.816.tar.gz

	Downgrading to 1.815 does not help. Downgrading to libdb 4.3 does not help either.

	My perl 32147 passes all tests, it has DB_File 1.816 already. I
	re-install 1.816 and re-test Encode::MAB2 and it succeeds again.

	My perl 32208 fails that test, it has 1.816 already. I re-install 1.816
	and re-test Encode::MAB2 and it fails again.

	Everything looks like a perl bug except that between 32202 and 32204
	nothing interesting happened.

	So does the downgrade of libdb only have an effect on newer perls? If
	so, then we will see 32177 and all others I build now succeed.

	I do not understand the reason for that. Reading the output of the perl
	compilation indicates that -ldb is called on the linker for DB_File.so.
	But why is there a -L/usr/local/lib? Dunno, but irrelevant because there
	is no libdb. And DB_File is a dynamic extension that gets stored into
	../../lib/auto/DB_File/DB_File.so. This then gets installed into

	/home/src/perl/repoperls/installed-perls/perl/pbMhvub/perl-5.8.0@32444/lib/5.10.0/i686-linux-64int/DB_File.pm
	and
	/home/src/perl/repoperls/installed-perls/perl/pbMhvub/perl-5.8.0@32444/lib/5.10.0/i686-linux-64int/auto/DB_File/DB_File.so

-r-xr-xr-x 1 sand sand 51221 2007-11-22 08:50 /home/src/perl/repoperls/installed-perls/perl/pbMhvub/perl-5.8.0@32444/lib/5.10.0/i686-linux-64int/auto/DB_File/DB_File.so
-r--r--r-- 1 sand sand 63485 2007-11-22 08:50 /home/src/perl/repoperls/installed-perls/perl/pbMhvub/perl-5.8.0@32444/lib/5.10.0/i686-linux-64int/DB_File.pm

	Nonono, wrong way down the road. BerkeleyDB is it, not DB_File, right? Yes

                                  'requires' => {
                                                  'BerkeleyDB' => '0.20',
                                                  'Encode' => '1.41'
                                                }

	Now verified with

Get:1 http://k66.linux.bogus testing/main libdb4.6 4.6.21-4 [562kB]
Get:2 http://k66.linux.bogus testing/main libdb-dev 4.6.21-4 [643kB]

	After that reinstalling BerkeleyDB, then testing Encode::MAB2 => FAIL.

	http://rt.cpan.org/Ticket/Display.html?id=30926

	* TkCarp has only fails for a while. Last srezic PASS with and first
	srezic FAIL with 5.8.8

    Left:  http://www.nntp.perl.org/group/perl.cpan.testers/2007/06/msg504007.html
    Right: http://www.nntp.perl.org/group/perl.cpan.testers/2007/10/msg672129.html

    Module Need Have                 Module Need Have       
    ------ ---- -----------          ------ ---- -----------
    Carp   0    1.04                 Carp   0    1.04       
    Tk     0    804.027_500          Tk     0    804.027_501

    Module              Have         Module              Have  
    ------------------- ------       ------------------- ------
    CPAN                1.9102       CPAN                1.9203
    Cwd                 3.24         Cwd                 3.25  
    ExtUtils::CBuilder  0.18         ExtUtils::CBuilder  0.18  
    ExtUtils::Command   1.09         ExtUtils::Command   1.13  
    ExtUtils::Install   1.41         ExtUtils::Install   1.41  
    ExtUtils::MakeMaker 6.32         ExtUtils::MakeMaker 6.36  
    ExtUtils::Manifest  1.48         ExtUtils::Manifest  1.51  
    ExtUtils::ParseXS   2.15         ExtUtils::ParseXS   2.15  
    File::Spec          3.12         File::Spec          3.12  
    Module::Build       0.2806       Module::Build       0.2806
    Module::Signature   0.55         Module::Signature   0.55  
    Test::Harness       2.56         Test::Harness       2.64  
    Test::More          0.70         Test::More          0.70  
    version             n/a          YAML                0.66  
                                     YAML::Syck          0.91  
                                     version             0.7203

	Did 501 break it?

	http://rt.cpan.org/Ticket/Display.html?id=30909

2007-11-21  Andreas J Koenig  <akoenig@iconmobile.com>

	* Slaven: Give the LWP::UserAgent a conn cache to incr performance.

	Patch in the mail but still undecided if this is really an improvement.

2007-11-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* some encoding change

	2007-11-20T10:28  perl  32412  1240   MIYAGAWA/Web-Scraper-0.22.tar.gz  NOT OK
	2007-11-19T18:21  perl  32405   471   MIYAGAWA/Web-Scraper-0.22.tar.gz  OK

	In the meantime 32405 also fails, I must go back to 32395 for an
	autobundle comparison.

	http://rt.cpan.org/Ticket/Display.html?id=30886 (HTML::TreeBuilder::XPath)

	* where is the Gabor page with all the 5.005 modules?

	http://cpantesters.szabgab.com/stats/perl_5.5.5.html

	* V is a module but not indexed (?) what's up?

    4934 2007-11-07 ABELTJE/V-0.13.tar.gz

	??? Mail sent, answer received, needs further processing.

2007-11-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* BUG! I just discovered that a success report was sent for Readonly::XS
	after a patch was applied. This was once forbidden and must remain
	forbidden.

	* MAROS/Mail-Builder-1.03.tar.gz seems to hang on 5.6.2 I just ^Ced it.

	It was probably DONEILL/MIME-tools-5.425.tar.gz? See above.

	* Just discovered that we lost JRED recently:

	2007-11-08T16:04  perl  32244   494  JRED/Event-ExecFlow-0.63.tar.gz   NOT OK
	2007-11-07T17:02  perl  32235   969  JRED/Event-ExecFlow-0.63.tar.gz   NOT OK
	2007-11-07T01:28  perl  32230  1282  JRED/Event-ExecFlow-0.63.tar.gz   NOT OK
	2007-11-06T07:57  perl  32226   456  JRED/Event-ExecFlow-0.63.tar.gz   OK
	2007-11-05T13:08  perl  32222   402  JRED/Event-ExecFlow-0.63.tar.gz   OK
	2007-11-04T20:10  perl  32219   124  JRED/Event-ExecFlow-0.63.tar.gz   OK

	and since then 12 more fails out of 12 sessions.

	It's a dependency on AnyEvent. Long day comparing AnyEvent results
	follows. Mail to Marc has been sent. Update 2007-11-25 akoenig : FIXED

	* <URL: http://rt.cpan.org/Ticket/Display.html?id=30051 >

	Answers Yanick: pdflatex is the culprit littering /tmp. As I didn't find any easy way to...

2007-11-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: write a clean_tested() method. Suggests Adam Kennedy:

ah, ok, I understand.
Although if there is dependencies involved, would that also clean A?
Or perhaps we need a clean_all, so that CPAN Testers can just call that each cycle?
Adam K

	* 32327 was a debugging build. I see a strange INC path without blib but
	I see nothing suspect in the two patches 329 and 330 (328 is maintperl).
	And the diff in the autobundles is a bit funny because 327 started
	earlier and finished later, so it is a mix of upgrades and downgrades.

	2007-11-16T13:38  perl  32330   709  YANICK/XML-XPathScript-1.52.tar.gz  NOT OK
	2007-11-15T23:07  perl  32327  1008  YANICK/XML-XPathScript-1.52.tar.gz  OK
	2007-11-14T09:33  perl  32308   325  YANICK/XML-XPathScript-1.52.tar.gz  OK

	Module::Build 0.2808 vs 0.2808_01 is the most likely cause. But no, this
	is it not. I tried it on 32354 which gives still a FAIL and then
	downgraded to M:B 1.2808 and it stayed a FAIL. Upgrading to 0.2808_01
	again does no change things either.

	Ahhh, what does it really mean for a test script when ther is a shebang
	line of

	#!perl -t

	?? What was the exact error message again?

t/04unicode......................Can't locate XML/XPathScript.pm in @INC (@INC contains: /home/src/perl/repoperls/installed-perls/perl/pztfddi/perl-5.8.0@32354/lib/5.10.0/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pztfddi/perl-5.8.0@32354/lib/5.10.0 /home/src/perl/repoperls/installed-perls/perl/pztfddi/perl-5.8.0@32354/lib/site_perl/5.10.0/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pztfddi/perl-5.8.0@32354/lib/site_perl/5.10.0) at t/04unicode.t line 7.
BEGIN failed--compilation aborted at t/04unicode.t line 7.
# Looks like your test died before it could output anything.
 Dubious, test returned 255 (wstat 65280, 0xff00)
 Failed 11/11 subtests

	So it is the right perl being called but not the module in blib being
	tested.

	So I try it once again with 32308, run the test. UNINSTALL it. Run the
	test again. There we have it. Fails just the same.

	http://rt.cpan.org/Ticket/Display.html?id=30796

2007-11-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Nicholas says that B::Generate still suffers from an assertion under
	debugging. So I probably need to run a binary search on debugging perls
	for B::Generate. The binary search leads us again to 22314/5 that has
	already gone into a B:Generate BBC, so nothing to shout out.

	* Marek Rouchal has opened a ticket about Module::ExtractUse. Resolved
	in a MakeMaker ticket.

2007-11-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Another breakage by Test::Distribution. Hopefully this will be fixed
	in TD 2.00.

	2007-11-11T18:16   maint-5.8   32273   838   SNOWHARE/Unicode-MapUTF8-1.11.tar.gz  NOT OK
	2007-11-11T01:45   perl        32269   320   SNOWHARE/Unicode-MapUTF8-1.11.tar.gz  OK

2007-11-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Another BBC article?

	----Program----
	eval q{use B::PerlReq 0.006005};
	print $@ ? "N/A" : "OK";
	print "\n";

	----Output of .../pDKyJRO/perl-5.8.0@31962/bin/perl----
	OK

	----EOF ($?='0')----
	----Output of .../pdIAoqO/perl-5.8.0@31963/bin/perl----
	N/A

	----EOF ($?='0')----

	Nope, BBC not justified. badly written test obviously.
	http://rt.cpan.org/Ticket/Display.html?id=30717

	Resolved in 0.006006.

	* todo: publish the hvds patches DONE

	* Need to try to fix Danga::Socket with Class::PseudoHash.

        use fields;
        use Class::PseudoHash;
        # $ref = Class::PseudoHash->new;
        $Class::PseudoHash::FixedKeys = 0;

	Nope, does not seem to work.

	* To write a bradfitz special BBC it needs a list of all his modules
	that are broken because of pseudo hashes.

	Danga::Socket is only the lowest-level broken module. As long as it is
	not fixed we cannot even *see* the others (unless we read the source).

	* Test::Distribution is living in a strangely infected neighborhood. E.g. List::Tuples fails with

  NKH/List-Tuples-0.03.tar.gz
  /usr/bin/make test -- NOT OK
//hint// to see the cpan-testers results for installing this module, try:
  reports NKH/List-Tuples-0.03.tar.gz
Running make install
  make test had returned bad status, won't install without force
Failed during this command:
 ATOURBIN/rpm-build-perl-0.6.5.tar.gz         : make_test NO
 ZEV/Test-Dependencies-0.08.tar.gz            : make_test NO
 SMUELLER/Test-Strict-0.08.tar.gz             : make_test NO
 NKH/Carp-Diagnostics-0.03.tar.gz             : make_test NO
 NKH/List-Tuples-0.03.tar.gz                  : make_test NO

	I need Cantrell's website for resolving. AHA: 0% chance of success:)

	Actually this example is exposing the problem that is in the system that
	failing modules with failing dependencies are not reported on
	cpantesters: Carp::Diagnostics has 2 fails but only 2 reports, not more.
	Probably because Test::Dependencies has so many fails. Downgrading to
	Test::Dependencies 0.07 also fails a test but "CPAN::Reporter: test
	results were not valid, Prerequisite missing."

	- B::PerlReq            ...missing.
	- PerlReq::Utils        ...missing.

	B::PerlReq missing in megainstall and a candidate for BBC. Fails with
	blead, succeeds with 5.8.8. Now also Test::Dependencies has a test.

	Update 2007-12-26 : Ticket to Test-Dependencies opened today
	http://rt.cpan.org/Ticket/Display.html?id=31906 But both
	Carp-Diagnostics and List-Tuples are by Nadim and make no sense as it
	seems and I cannot argue over it. Hrm. I can:
	http://rt.cpan.org/Ticket/Display.html?id=31914

	* Lingua::Stem with Test::Harness 3.01 and 2.64 on 32274 broken

t/97_distribution......no such test type: sig
# Looks like your test died before it could output anything.
 Dubious, test returned 255 (wstat 65280, 0xff00)
 No subtests run

  2007-11-11T01:45  perl  32269    939  SNOWHARE/Lingua-Stem-0.83.tar.gz  NOT OK
	2007-11-10T02:38  perl  32262   1151  SNOWHARE/Lingua-Stem-0.83.tar.gz  OK

	cpan[9]> m Test::Distribution
Module id = Test::Distribution
    CPAN_USERID  SRSHAH (Sagar R. Shah <srshah@cpan.org>)
    CPAN_VERSION 1.29
    CPAN_FILE    S/SR/SRSHAH/Test-Distribution-1.29.tar.gz
    UPLOAD_DATE  2007-11-10
    MANPAGE      Test::Distribution - perform tests on all modules of a distribution
    INST_FILE    /home/src/perl/repoperls/installed-perls/perl/p4CNbhs/perl-5.8.0@32274/lib/site_perl/5.10.0/Test/Distribution.pm
    INST_VERSION 1.29

	Downgrading to 1.28 fixes that.

	http://rt.cpan.org/Ticket/Display.html?id=30687
	
2007-11-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* My release of 1.92_52 gives FAILs in 6 of *my* smokes. As the error
	messages mention File::Spec too I wonder if this has to do with a recent
	glitch that I have not yet understood.

	  116743 2007-05-22 KWILLIAMS/PathTools-3.25.tar.gz
    118823 2007-10-14 KWILLIAMS/PathTools-3.25_01.tar.gz

	So 31790 has only 3.25 according to the m command.

	And I get lots of these messages:

Use of uninitialized value $file in string ne at /home/src/perl/repoperls/installed-perls/perl/pNaGaP6/perl-5.8.0@31790/lib/5.9.5/File/Spec/Unix.pm line 312.
Use of uninitialized value $file in concatenation (.) or string at /home/src/perl/repoperls/installed-perls/perl/pNaGaP6/perl-5.8.0@31790/lib/5.9.5/File/Spec/Unix.pm line 320.

	And after that failing tests.

	The File/Spec.pm in current bleadperl 32269 is the same, but I do not
	get these errors. Maybe the r command gives us a clue? No, it spits too
	much output.

	So I try an "update" to svk 3446 which was before Rich's patches and the
	failures are the same. I should also try 3275. Indeed, the test failure
	stays which should now have proven that it is not a change in my code
	that broke but something that which I have installed in my smoke perls.

	I should try perls close to 31790: 31613 and 31882. OK and OK. Now I can
	go through diffs in the modules and upgrade until I have the jerk. Fun.
	[...hours later...] This strategy does not lead anywhere.

	32248 has no problem with this test either. But the scope of the problem
	to compare whole trees with hundreds of interdependencies is simply too
	big.

	New idea: CPAN::Test::Dummy::Perl5::Make has been installed on those
	perls, has it not? Yes. And when I uninstall it, all's well.

	* This should become a BBC article:

----Program----
eval q{use Brackup 1.06};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pDjpgoB/perl-5.8.0@22314/bin/perl----
OK

----EOF ($?='0')----
----Output of .../prHc4Oy/perl-5.8.0@22315/bin/perl----
N/A

----EOF ($?='0')----

	

2007-11-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Apache::Session failed today on 32235 because Test::Deep was missing.
	seq was 388 and the seq of Test::Deep was 390. The latter was
	successful, don't understand why it was not found by Apache::Session.
	Needs more investigations.

	* t/wmf/read..........
1..2
ok 1
ok 2
ok
You already have a parser for (t/wmf/read.t) at /home/src/perl/repoperls/installed-perls/perl/pe1S7WD/perl-5.8.0@32235/lib/5.10.0/TAP/Harness.pm line 412

	This happens with Image::MAgick and bleadperl@3223[05] even after I
	fixed the test output of t/setattribute.t.

	* RHANDOM/Template-Alloy-1.009.tar.gz works with 5.9.4, 5.9.5, 5.10.0
	but hangs with 5.8.* during 05_tt_base. I ^Ced all 5.8 tests. 5.6.2 worked again.
	Same for RHANDOM/Template-Parser-CET-0.05.tar.gz, even the test has the same name.

	* [rt.cpan.org #30554] Not possible to upgrade from v1.9101 

	Seems that I need to test with a perl that has no YAML.

2007-11-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Net::SSLeay 1.32: make fails with "could not answer a question during the
	dialog" or some such. Fails with 32230, 32226, 32222, 32219, 32216.

	32212 seems different at first sight but then fails too.

	* merejn on P5P:

On Wed, 07 Nov 2007 05:30:34 +0100, andreas.koenig.7os6VVqR@franz.ak.mind.de
(Andreas J. Koenig) wrote:

> This patch brings bleadperl to 1.9204

Can I please have an option or environment variable or install-time question
to *NOT* ask if it is ok to connect to the internet please?


	* where is the wiki? need to add hvds patches, Data::Dump::Streamer,
	bradfitz, Devel::Cover, etc. to my Sunday posting.

	http://www.perlfoundation.org/perl5/index.cgi

	* need a (v)box without gzip or tar so I can see the tests succeed or fail

2007-11-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* (Eric Wilhelm on module build mailing list) I think CPAN has a bug
	which causes it to pass make_arg to ./Build install. (I seem to remember
	having some grief with -j recently.)

	* [rt.cpan.org #30481] Fail Installing New Mail::SpamAssassin 3.2.3

	Need a fresh perl without spamassassin and build&test SpamAssassin as root.

2007-11-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Subject: [rt.cpan.org #30481] Failed Test Suite with Mail::SpamAssassin 3.2.3 

	Looks dangerous.

	* http://users.endeworks.jp/~daisuke/code/pl/File-MMagic-XS-0.09003.tar.gz ?

2007-11-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* what I want more than anything else before 5.10 is a list of all
	modules that need patching or don't work.

	A first approximation to the list that I really want would be a summary
	of all BBC articles and the state they reached.

	Shit, groups.google finds only 14 hits on "Bleadperl breaks CPAN" in a
	narrow timeframe. So how do I find the older postings?

	xray to the rescue: 373 hits on BBC. Now the list of affected modules.
	"*" is for "not yet investigated". something else for "still relevant"
	and "fixed"

  Unsolved:
    BRYCE/SVG-Metadata-0.28.tar.gz                    http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00996.html
    DMAKI/File-MMagic-XS-0.09002.tar.gz               http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-11/msg00025.html; only with threads and debugging; 
    DOMIZIO/OOTools-2.21.tar.gz                       http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00432.html
    EDPRATOMO/Algorithm-Permute-0.06.tar.gz           http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-05/msg00297.html
    HAYASHI/Term-ReadLine-Gnu-1.16.tar.gz             http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2006-11/msg00464.html
    ILYAZ/modules/Math-Pari-2.010709.tar.gz           http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2006-10/msg00860.html
    JJORE/B-Generate-1.10.tar.gz                      http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-08/msg00488.html
    MARCEL/Exporter-Simple-1.10.tar.gz                http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00710.html
    MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz        http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-10/msg00811.html; only with threads; 
    NAOYA/Hatena-Keyword-0.04.tar.gz                  http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-05/msg00210.html
    PDCAWLEY/Class-Inner-0.1.tar.gz                   http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00499.html
    PHOENIX/Term-ReadPassword-0.07.tar.gz             http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-08/msg00183.html
    PJCJ/Devel-Cover-0.61.tar.gz                      http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-05/msg00861.html
    RCLAMP/Devel-Caller-0.11.tar.gz                   http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-10/msg00813.html; only with threads;
    RMUHLE/classes-0.943.tar.gz                       http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-05/msg00351.html
    ROODE/Readonly-XS-1.04.tar.gz                     http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00437.html
    SAMTREGAR/XML-Validator-Schema-1.08.tar.gz        http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-05/msg00137.html
    SAVA/Encode-IMAPUTF7-1.00.tar.gz                  http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-06/msg00375.html
    TANIGUCHI/Unicode-RecursiveDowngrade-0.03.tar.gz  http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-06/msg00498.html
    VKON/Tcl-0.95.tar.gz                              http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-10/msg00822.html; only with debugging; 

  Tested patches available
    Text::Query                   0.07             http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00434.html
                                                   patch on CPAN: ANDK/patches/Text-Query-0.07-ROBIN-01.patch.gz               
    Unicode::Lite                 0.12             http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-06/msg00012.html
                                                   patch on CPAN: ANDK/Unicode-Lite-0.12-NWCLARK-01.patch.gz
    XML::Parser                   2.34             http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-07/msg00662.html
                                                   patch on CPAN: ANDK/patches/XML-Parser-2.34-ANDK-01.patch.gz

  Authors fixed:                    broken           fixed
    Class::Fields                 0.202            0.203
    Class::MOP                    0.40             0.42
    Clone                         0.25             0.28
    DBI                           1.57             1.601
    Data::Alias                   1.03             1.07
    Devel::Size                   0.68             0.69
    JSON                          1.12             1.14
    PerlPoint::Parser             0.451            1.05
    Regexp::Assemble              0.28             0.32
    Rose::HTML::Object::Messages  0.549            0.550               https://rt.cpan.org/Ticket/Display.html?id=30021
    ShiftJIS::X0213::MapUTF       0.30             0.31
    TAP::Parser                   0.52             0.54

  Bleadperl fixed:                  was broken
    Acme::MetaSyntactic           0.99             fixed in bleadperl
    Best.pm                       0.11             fixed in bleadperl
    Class::Trait                  0.22             fixed in bleadperl
    Contextual::Return           v0.2.1            fixed in bleadperl
    Perl6::Attributes             0.04             fixed in bleadperl
    SQL::Translator               0.08001          fixed in bleadperl
    String::Multibyte             1.05             fixed in bleadperl
    Test::MockObject              1.07             fixed in bleadperl
    Text::WikiFormat              0.78             fixed in bleadperl
    YAML                          0.66             fixed in bleadperl

	* new fails
    CHORNY/Apache-Session-1.84.tar.gz[545], RCLAMP/POE-Component-Server-HTTP-0.09.tar.gz[615], ADUITSIS/IPC-Mmap-0.14.tar.gz[767], ANDK/Apache-Session-Counted-1.118.tar.gz[793], DMAKI/DateTime-Calendar-Japanese-0.06001.tar.gz[930], TEVERETT/Class-Prototyped-1.10.tar.gz[1376], MERLYN/CGI-Prototype-0.9053.tar.gz[1377], MAURICE/IPC-ShareLite-0.09.tar.gz[1443]

	I see that somebody has filled the messages and semaphore space and I
	had to clean them up. Need to watch each of these beasts and write
	Bugreports.

	http://rt.cpan.org/Ticket/Display.html?id=30440

2007-11-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* /tmp again:

	30425 CatalystX-CRUD                  Cleaning up /tmp directory

	* Today a new 32025 maintperl finished and it has many fails that I have
	not noticed before. See 2007-11-01T02:38. This was due to the glitch
	with disabling Sub-Uplevel. So this should not have caused harm because
	no reports were sent out in such cases.

2007-11-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Rethink the recent mail exchange with Barbie about timestamps in the future.

	* Some distro removed the Config.pm of my testing perls so I lost 6 perl
	installations. I removed them immediately and now let only one perl run.

	From the history of sent test reports it seems that Perl-Dist is to blame.

I'm starting cpan for bleadperl@32194 which has a working -V command so must have
a Config.pm. Let me see it:

			% ls -l /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int/Config.pm
		-r--r--r-- 1 sand sand 3383 2007-10-26 06:17:43 /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int/Config.pm

And copy it away:

			cp /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int/Config.pm /tmp/Config.pm.32194

Ah, I see Adam has uploaded a 0.29_02 in the meantime. No mention of an
alert. So let's try it now.

			cpan[6]> install ADAMK/Perl-Dist-0.29_02.tar.gz
		Running make for A/AD/ADAMK/Perl-Dist-0.29_02.tar.gz

			CPAN.pm: Going to build A/AD/ADAMK/Perl-Dist-0.29_02.tar.gz

		CPAN: CPAN::Reporter loaded ok (v1.04)
		Checking if your kit is complete...
		Looks good
		Warning: prerequisite Perl::Dist::Downloads 0.02 not found.
		Writing Makefile for Perl::Dist
		Looking for Inno Setup 5... Failed to find the Program Files directory

		(/home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/bin/perl Makefile.PL exited with 0)
		CPAN::Reporter: Makefile.PL result is 'pass', No errors.
		---- Unsatisfied dependencies detected during ----
		----      ADAMK/Perl-Dist-0.29_02.tar.gz      ----
				Perl::Dist::Downloads [requires]
		Running make test
			Delayed until after prerequisites
		Running make install
			Delayed until after prerequisites
		Running install for module 'Perl::Dist::Downloads'
		Running make for A/AD/ADAMK/Perl-Dist-Downloads-0.03.tar.gz
		Checksum for /home/ftp/pub/CPAN/authors/id/A/AD/ADAMK/Perl-Dist-Downloads-0.03.tar.gz ok

			CPAN.pm: Going to build A/AD/ADAMK/Perl-Dist-Downloads-0.03.tar.gz

		Checking if your kit is complete...
		Looks good
		Writing Makefile for Perl::Dist::Downloads
		(/home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/bin/perl Makefile.PL exited with 0)
		CPAN::Reporter: Makefile.PL result is 'pass', No errors.
		Installing blib/lib/auto/Perl/Dist/Downloads/mingw-runtime-3.13.tar.gz
		Installing blib/lib/auto/Perl/Dist/Downloads/gcc-g++-3.4.5-20060117-1.tar.gz
		Installing blib/lib/auto/Perl/Dist/Downloads/dmake-4.8-20070327-SHAY.zip
		Installing blib/lib/auto/Perl/Dist/Downloads/gcc-core-3.4.5-20060117-1.tar.gz
		Installing blib/lib/auto/Perl/Dist/Downloads/w32api-3.10.tar.gz
		Installing blib/lib/auto/Perl/Dist/Downloads/mingw32-make-3.81-2.tar.gz
		Installing blib/lib/auto/Perl/Dist/Downloads/binutils-2.17.50-20060824-1.tar.gz
		cp lib/Perl/Dist/Downloads.pm blib/lib/Perl/Dist/Downloads.pm
		Manifying blib/man3/Perl::Dist::Downloads.3
		(/usr/bin/make exited with 0)
		CPAN::Reporter: make result is 'pass', No errors.
			ADAMK/Perl-Dist-Downloads-0.03.tar.gz
			/usr/bin/make -- OK
		Running make test
		PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t
		t/01_compile....ok
		t/02_main.......ok
		t/98_pod........skipped
						all skipped: Author tests not required for installation
		t/99_pmv........skipped
						all skipped: Author tests not required for installation
		All tests successful, 2 tests skipped.
		Files=4, Tests=9,  1 wallclock secs ( 0.21 cusr +  0.05 csys =  0.26 CPU)
		(/usr/bin/make test exited with 0)
		CPAN::Reporter: Test result is 'pass', All tests successful.
		Preparing a CPAN Testers report for Perl-Dist-Downloads-0.03
		Sending test report with 'pass' to cpan-testers@perl.org
			ADAMK/Perl-Dist-Downloads-0.03.tar.gz
			/usr/bin/make test -- OK
		Running make install
		Prepending /home/sand/.cpan/build/Perl-Dist-Downloads-0.03-QjvVtv/blib/arch /home/sand/.cpan/build/Perl-Dist-Downloads-0.03-QjvVtv/blib/lib to PERL5LIB for 'install'
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/Perl/Dist/Downloads.pm
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/mingw-runtime-3.13.tar.gz
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/gcc-g++-3.4.5-20060117-1.tar.gz
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/dmake-4.8-20070327-SHAY.zip
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/gcc-core-3.4.5-20060117-1.tar.gz
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/w32api-3.10.tar.gz
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/mingw32-make-3.81-2.tar.gz
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/auto/Perl/Dist/Downloads/binutils-2.17.50-20060824-1.tar.gz
		Installing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/man/man3/Perl::Dist::Downloads.3
		Writing /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/i686-linux-thread-multi-64int/auto/Perl/Dist/Downloads/.packlist
		Appending installation info to /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int/perllocal.pod
			ADAMK/Perl-Dist-Downloads-0.03.tar.gz
			/usr/bin/make install UNINST=1 -- OK
		Running make for A/AD/ADAMK/Perl-Dist-0.29_02.tar.gz
			Has already been unwrapped into directory /home/sand/.cpan/build/Perl-Dist-0.29_02-uH5Hsi

			CPAN.pm: Going to build A/AD/ADAMK/Perl-Dist-0.29_02.tar.gz

		Installing blib/lib/auto/Perl/Dist/Config.pm
		Installing blib/lib/auto/Perl/Dist/LICENSE.txt
		Installing blib/lib/auto/Perl/Dist/README.w32api
		Installing blib/lib/auto/Perl/Dist/Installed.pm
		Installing blib/lib/auto/Perl/Dist/Packlist.pm
		Installing blib/lib/auto/Perl/Dist/FinalConfig.pm
		Installing blib/lib/auto/Perl/Dist/libnet.cfg
		Installing blib/lib/auto/Perl/Dist/README
		Installing blib/lib/auto/Perl/Dist/Install.pm
		cp lib/Perl/Dist/Asset.pm blib/lib/Perl/Dist/Asset.pm
		cp lib/Perl/Dist/Builder.pm blib/lib/Perl/Dist/Builder.pm
		cp lib/Perl/Dist/Inno/Registry.pm blib/lib/Perl/Dist/Inno/Registry.pm
		cp lib/Perl/Dist.pm blib/lib/Perl/Dist.pm
		cp lib/Perl/Dist/Inno.pm blib/lib/Perl/Dist/Inno.pm
		cp lib/Perl/Dist/Asset/Module.pm blib/lib/Perl/Dist/Asset/Module.pm
		cp lib/Perl/Dist/Asset/Perl.pm blib/lib/Perl/Dist/Asset/Perl.pm
		cp lib/Perl/Dist/Asset/Binary.pm blib/lib/Perl/Dist/Asset/Binary.pm
		cp lib/Perl/Dist/Inno/File.pm blib/lib/Perl/Dist/Inno/File.pm
		cp lib/Perl/Dist/Asset/File.pm blib/lib/Perl/Dist/Asset/File.pm
		cp lib/Perl/Dist/Inno/Icon.pm blib/lib/Perl/Dist/Inno/Icon.pm
		cp lib/Perl/Dist/Asset/Distribution.pm blib/lib/Perl/Dist/Asset/Distribution.pm
		cp script/perldist blib/script/perldist
		/home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/bin/perl "-Iinc" "-MExtUtils::MY" -e "MY->fixin(shift)" blib/script/perldist
		Manifying blib/man3/Perl::Dist::Builder.3
		Manifying blib/man3/Perl::Dist.3
		(/usr/bin/make exited with 0)
		CPAN::Reporter: make result is 'pass', No errors.
			ADAMK/Perl-Dist-0.29_02.tar.gz
			/usr/bin/make -- OK
		Running make test
		PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t
		t/01_compile..........ok
		t/03_inno_file........ok
		t/04_inno_icon........ok
		t/05_inno_registry....ok
		t/06_inno.............skipped
						all skipped: Not on Win32
		t/07_asset_file.......ok
		t/10_dist_new.........skipped
						all skipped: Not on Win32
		t/11_dist_run.........skipped
						all skipped: Not on Win32
		t/98_pod..............skipped
						all skipped: Author tests not required for installation
		t/99_pmv..............skipped
						all skipped: Author tests not required for installation
		All tests successful, 5 tests skipped.
		Files=10, Tests=41,  8 wallclock secs ( 1.52 cusr +  0.14 csys =  1.66 CPU)
		(/usr/bin/make test exited with 0)
		CPAN::Reporter: Test result is 'pass', All tests successful.
		Preparing a CPAN Testers report for Perl-Dist-0.29_02
		Sending test report with 'pass' to cpan-testers@perl.org
			ADAMK/Perl-Dist-0.29_02.tar.gz
			/usr/bin/make test -- OK
		Running make install
		Prepending /home/sand/.cpan/build/Perl-Dist-0.29_02-uH5Hsi/blib/arch /home/sand/.cpan/build/Perl-Dist-0.29_02-uH5Hsi/blib/lib to PERL5LIB for 'install'
		Can't locate Config.pm in @INC (@INC contains: inc /home/sand/.cpan/build/Perl-Dist-0.29_02-uH5Hsi/blib/arch /home/sand/.cpan/build/Perl-Dist-0.29_02-uH5Hsi/blib/lib /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0 /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0/i686-linux-thread-multi-64int /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/site_perl/5.10.0 .) at /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/AutoSplit.pm line 4.
		BEGIN failed--compilation aborted at /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/AutoSplit.pm line 4.
		Compilation failed in require at /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/ExtUtils/Install.pm line 9.
		BEGIN failed--compilation aborted at /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/ExtUtils/Install.pm line 9.
		Compilation failed in require.
		BEGIN failed--compilation aborted.
		make: *** [pure_site_install] Fehler 2
			ADAMK/Perl-Dist-0.29_02.tar.gz
			/usr/bin/make install UNINST=1 -- NOT OK
		Failed during this command:
		 ADAMK/Perl-Dist-0.29_02.tar.gz               : install NO

		cpan[7]> q
		Warning: Configuration not saved.
		Lockfile removed.
		......>sand@k75:~/CPAN
		>sand@k75:~/CPAN-SVN% ls -l /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int/Config.pm
		ls: /home/src/perl/repoperls/installed-perls/perl/pICDJJz/perl-5.8.0@32194/lib/5.10.0/i686-linux-thread-multi-64int/Config.pm: Datei oder Verzeichnis nicht gefunden

Which means in English: not found. So installing ADAMK/Perl-Dist-0.29_02.tar.gz removes the Config.pm if the installer is owner (which he usually is).

	2007-11-01 akoenig : I have issued above text as a "security alert"
	ticket on RT.cpan.org (#30404), informed the cpan-testers-discussion
	mailing list and removed the two Perl-Dist-0.29_0[12].tar.gz files from
	CPAN.

	* Is it true that apache2 does not build with blead?

2007-10-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Today I saw this ugly result:

PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/p6GHBr2/perl-5.8.0@27906/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/01-sanity..............ok
t/02-runthrough..........panic: free from wrong pool, <F> line 3.
# Looks like your test died just after 13.
t/02-runthrough..........dubious
        Test returned status 255 (wstat 65280, 0xff00)
        after all the subtests completed successfully
t/03-error...............panic: free from wrong pool.
# Looks like your test died just after 3.
t/03-error...............dubious
        Test returned status 255 (wstat 65280, 0xff00)
        after all the subtests completed successfully
t/99_pod-coverage........skipped
        all skipped: Enable TEST_POD environment variable to test POD
t/99_pod.................skipped
        all skipped: Enable TEST_POD environment variable to test POD
t/compat_01-selfcheck....panic: free from wrong pool.
# Looks like your test died just after 2.
t/compat_01-selfcheck....dubious
        Test returned status 255 (wstat 65280, 0xff00)
        after all the subtests completed successfully
t/compat_02-extmagic.....panic: free from wrong pool.
# Looks like your test died just after 2.
t/compat_02-extmagic.....dubious
        Test returned status 255 (wstat 65280, 0xff00)
        after all the subtests completed successfully
Failed Test             Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/02-runthrough.t        255 65280    13    0   0.00%  ??
Failed Test             Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/03-error.t             255 65280     3    0   0.00%  ??
Failed Test             Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/compat_01-selfcheck.t  255 65280     2    0   0.00%  ??
Failed Test             Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/compat_02-extmagic.t   255 65280     2    0   0.00%  ??
2 tests skipped.
Failed 4/7 test scripts, 42.86% okay. 0/21 subtests failed, 100.00% okay.
Files=7, Tests=21,  1 wallclock secs ( 0.76 cusr +  0.10 csys =  0.86 CPU)
  DMAKI/File-MMagic-XS-0.09002.tar.gz
  /usr/bin/make test -- OK

	who wrote the result and who could not read it? Test::Harness 2.57_05
	and CPAN::Reporter (not installed!), so it was me!

	* Bug in File::Temp version checking code. A simple < is wrong, you must
	use CPAN::Version!

	* MLEHMANN/Gtk-Perl-0.7009.tar.gz fails because gtk-config not found or
	something. Installed libgtk1.2-dev. More libraries missing in the next
	round of trial and error.

	* File-MMagic-XS failed on 32195, 32186 which is threaded and debugging.
	I started to watch F:M:X with 31568 but we have one other
	threaded+debugging perl since then: 32032. But yes, 32032 was not a
	regular megainstall. So let's try DMAKI/File-MMagic-XS-0.09002.tar.gz
	with 32032. And on a maintperl? Try 31223.

	Yes, it fails with blead@32032 (panic free from wrong pool), it succeeds
	with maint@31223.

	And it fails for this:

	  MMagic.xs:455: error: expected declaration specifiers	or '...' before '(' token'

	with 27680, 27704, 27705, 27729, 27732, 27733, 27734
	
	It fails with the same panic free from wrong pool on 30953, 30952,
	29353, 28507, 28106, 27906, 27806, 27755, 27741, 27735.

	Next: According to the comment in 27735 we must go back in time before
	27649 and I see a good place at 23232 which is 51 points from 23181
	which is quite a good distance. 23240 would have been the better choice.
	Oh well.

----Program----
eval q{use File::MMagic::XS 0.09002};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p3g2zXo/perl-5.8.0@26177/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p2IzPOM/perl-5.8.0@26178/bin/perl----
N/A

----EOF ($?='0')----

	This is no way possible. 26178 did nothing but remove comments. Ahhh,
	there is an old 27177 from 2005 involved.

----Output of .../pql0Vj4/perl-5.8.0@26176/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p1BkiZu/perl-5.8.0@26177/bin/perl----
N/A

----EOF ($?='0')----

	Yes, this is the real thing. BBC article posted to P5P.

2007-10-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* watching /tmp is boring and I want to delay the next RT tickets until
	after the next release of File::Temp.

	* I wish I had an overview over all BBC articles and the status they are
	in and links to the articles and the RT tickets and all postings that
	preceded BBC saying something like "23456 breaks Term::ReadLine::Gnu".
	This (at least the still open parts) should find its way into
	perl5100delta.pod. Math::Pari and T:R:G being the most prominent
	victims.

	* Tcl maybe broke around 31941? We do not have the config of our perls
	in the database, so SQL will not do it. We need to find all Tcl=OK for
	perl=debugging. So some grep through all perl-V and all VKON! or so.

	
for d in logs/megainstall.2007{09,10}*.d; do
grep -H " optimize" $d/perl-V.txt | perl -pe 's/\n//'
grep ok= $d/VKON!Tcl-* |& perl -nle 'print /( ok=".+?")/'
done
[...]
logs/megainstall.20070922T1716.d/perl-V.txt:    optimize='-g', ok="OK"
logs/megainstall.20070923T1153.d/perl-V.txt:    optimize='-g', ok="NOT OK"


	This means 31939-31941 and we need a config with optimize=-g. Nonono,
	because 39 and 41 have long since been purged we need to order 40
	directly, then the neighbor and then write the BBC (unless the neighbor
	behaves differently from what we see in the database; which means 41
	must fail).

	31941 is easy peasy. The subject line says exactly what it is doing. But
	is it correct to limit an assertion to debugging mode? Are the two
	extensions doing stupid things? Let's examine the diagnostics. Tcl:

t/call.........Assertion ((svtype)((_svi)->sv_flags & 0xff)) >= SVt_RV failed: file "Tcl.xs", line 647 at t/call.t line 38.
dubious
^ITest returned status 88 (wstat 22528, 0x5800)
DIED. FAILED tests 9-10
^IFailed 2/10 tests, 80.00% okay

	And Coro? 4.13 does not work with 31940.

	31847/31854 MLEHMANN/Coro-3.63.tar.gz from NA to OK
	31682/31684 MLEHMANN/Coro-3.63.tar.gz from OK to NA

	SEGV during test: 31613, 31021, 30019, 29743, 29619

	PL_parser undeclared in State.xs:1111: 29023, 29503, 29537

	As this PL_parser is dependent on 5.9.0 I do not expect that any older perl will now compile

	Try older Coro: 4.11 no, 4.1 no, 4.03 SEGV

	SEGV during test with 4.03: 29537, 28022, 27002, 25229, 24044

	State.xs:263: error: too few arguments to function Perl_pad_push: 23023, 23494, 23768, 23973

	This State.xs:263 thing is even in the oldest Coro, 3.63 and I'm not up
	to searching backpan.

	So I will now have a look at the gdb analysis and then check in maint perl.

Failed to read a valid object file image from memory.
Core was generated by `/home/src/perl/repoperls/installed-perls/perl/pm5CFa8/perl-5.8.0@32198/bin/perl'.
Program terminated with signal 11, Segmentation fault.
#0  coro_transfer (prev=Cannot access memory at address 0xfffffffc
) at libcoro/coro.c:153
153     }
(gdb) bt
#0  coro_transfer (prev=Cannot access memory at address 0xfffffffc
) at libcoro/coro.c:153
Cannot access memory at address 0x4

	Well. And maintperl? Ahhh, same thing! Stock 5.8.8 has it. 5.8.1 is
	simply too old to understand current Coro code. 22251(5.8.3) has the
	SEGV too. So no BBC in here.
	
	* Bugreport to self: File::Temp needs a minimum of 0.14 if we use the
	object interface. FIXED

	* Devel-Caller poking around.

	30955:

t/Devel-Caller....ok 1/72
#   Failed (TODO) test 'with lexical $foo'
#   at t/Devel-Caller.t line 36.
#          got: 'GLOB(0x8319b70)'
#     expected: 'SCALAR(0x840c250)'

#   Failed (TODO) test 'with lexical @foo'
#   at t/Devel-Caller.t line 37.
#          got: 'SCALAR(0x843b3a8)'
#     expected: 'ARRAY(0x84417fc)'

#   Failed (TODO) test 'with lexical %foo'
#   at t/Devel-Caller.t line 38.
#          got: 'GLOB(0x843b268)'
#     expected: 'HASH(0x8441824)'
Assertion ((svtype)((shplep)->sv_flags & 0xff)) == SVt_PVGV || ((svtype)((shplep)->sv_flags & 0xff)) == SVt_PVLV failed: file "lib/Devel/Caller.xs", line 49 at /home/sand/.cpan/build/Devel-Caller-0.11-JPp6H1/blib/lib/Devel/Caller.pm line 32.
# Looks like you planned 72 tests but only ran 43.
# Looks like your test died just after 43.
t/Devel-Caller....dubious
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 44-72
        Failed 29/72 tests, 59.72% okay

	32195:

t/Devel-Caller....
#   Failed (TODO) test 'with lexical $foo'
#   at t/Devel-Caller.t line 36.
#          got: 'GLOB(0x838b8d0)'
#     expected: 'SCALAR(0x83a47b0)'

#   Failed (TODO) test 'with lexical @foo'
#   at t/Devel-Caller.t line 37.
#          got: 'SCALAR(0x84af790)'
#     expected: 'ARRAY(0x84b6690)'

#   Failed (TODO) test 'with lexical %foo'
#   at t/Devel-Caller.t line 38.
#          got: 'GLOB(0x84af678)'
#     expected: 'HASH(0x84b66b8)'
dubious
        Test returned status 0 (wstat 11, 0xb)
DIED. FAILED tests 44-72
        Failed 29/72 tests, 59.72% okay



	Ah, das heisst doch coredump, oder?

% gdb /home/src/perl/repoperls/installed-perls/perl/pbCbNp9/perl-5.8.0@32195/bin/perl core 
GNU gdb 6.6.90.20070912-debian
Copyright (C) 2007 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i486-linux-gnu"...
Using host libthread_db library "/lib/i686/cmov/libthread_db.so.1".

warning: Can't read pathname for load map: Input/output error.
Reading symbols from /lib/i686/cmov/libnsl.so.1...done.
Loaded symbols for /lib/i686/cmov/libnsl.so.1
Reading symbols from /lib/i686/cmov/libdl.so.2...done.
Loaded symbols for /lib/i686/cmov/libdl.so.2
Reading symbols from /lib/i686/cmov/libm.so.6...done.
Loaded symbols for /lib/i686/cmov/libm.so.6
Reading symbols from /lib/i686/cmov/libcrypt.so.1...done.
Loaded symbols for /lib/i686/cmov/libcrypt.so.1
Reading symbols from /lib/i686/cmov/libutil.so.1...done.
Loaded symbols for /lib/i686/cmov/libutil.so.1
Reading symbols from /lib/i686/cmov/libpthread.so.0...done.
Loaded symbols for /lib/i686/cmov/libpthread.so.0
Reading symbols from /lib/i686/cmov/libc.so.6...done.
Loaded symbols for /lib/i686/cmov/libc.so.6
Reading symbols from /lib/ld-linux.so.2...done.
Loaded symbols for /lib/ld-linux.so.2
Reading symbols from /home/src/perl/repoperls/installed-perls/perl/pbCbNp9/perl-5.8.0@32195/lib/site_perl/5.10.0/i686-linux-thread-multi-64int/auto/PadWalker/PadWalker.so...done.
Loaded symbols for /home/src/perl/repoperls/installed-perls/perl/pbCbNp9/perl-5.8.0@32195/lib/site_perl/5.10.0/i686-linux-thread-multi-64int/auto/PadWalker/PadWalker.so
Reading symbols from /home/sand/.cpan/build/Devel-Caller-0.11-4u9D7a/blib/arch/auto/Devel/Caller/Caller.so...done.
Loaded symbols for /home/sand/.cpan/build/Devel-Caller-0.11-4u9D7a/blib/arch/auto/Devel/Caller/Caller.so
Failed to read a valid object file image from memory.
Core was generated by `/home/src/perl/repoperls/installed-perls/perl/pbCbNp9/perl-5.8.0@32195/bin/perl'.
Program terminated with signal 11, Segmentation fault.
#0  0xb7f7b51c in glob_out (sigil=36 '$', op=0x84c2cc8, want_name=0)
    at lib/Devel/Caller.xs:49
49          case '$': ret = (SV*) GvSV(gv); break;


	Hey, it even has debugging symbols. But what's that 'Failed to read a
	valid object file image from memory.'?


	27705:

/home/src/perl/repoperls/installed-perls/perl/pBY7a0s/perl-5.8.0@27705/bin/perl Build --makefile_env_macros 1 test
t/Devel-Caller....ok 1/72                                                    
#   Failed (TODO) test 'with lexical $foo'
#   in t/Devel-Caller.t at line 36.
#          got: 'GLOB(0x82bac48)'
#     expected: 'SCALAR(0x839aedc)'

#   Failed (TODO) test 'with lexical @foo'
#   in t/Devel-Caller.t at line 37.
#          got: 'SCALAR(0x83f58c0)'
#     expected: 'ARRAY(0x8401304)'

#   Failed (TODO) test 'with lexical %foo'
#   in t/Devel-Caller.t at line 38.
#          got: 'GLOB(0x83f5758)'
#     expected: 'HASH(0x840132c)'
t/Devel-Caller....dubious                                                    
        Test returned status 0 (wstat 11, 0xb)
DIED. FAILED tests 44-72
        Failed 29/72 tests, 59.72% okay


	Core dump looks the same.

	27048:

	Same thing, core dump without symbols:

(gdb) bt
#0  0xb7f39941 in glob_out ()
   from /home/sand/.cpan/build/Devel-Caller-0.11-K2jwTc/blib/arch/auto/Devel/Caller/Caller.so
#1  0xb7f39eb4 in XS_Devel__Caller__called_with ()
   from /home/sand/.cpan/build/Devel-Caller-0.11-K2jwTc/blib/arch/auto/Devel/Caller/Caller.so
#2  0x080d090b in Perl_pp_entersub ()
#3  0x080c85a9 in Perl_runops_standard ()
#4  0x0806559b in perl_run ()
#5  0x0806034d in main ()

	16500:

	Ahh, PadWalker 1.5 denies working with 5.7.3, demands minimum 5.8.2

	19367:

	Everything like in 27048 and the others above.

	17706:

	PadWalker 1.5 does not pass its own tests:

t/test........FAILED tests 9, 15
        Failed 2/15 tests, 86.67% okay
t/tt..........FAILED tests 3-4
        Failed 2/5 tests, 60.00% okay

	I do a 'force install' on it. I then have to install Module::Build and
	ExtUtils::CBuilder and then I can install Devel::Caller and it tests OK:

cc -shared -L/usr/local/lib -o blib/arch/auto/Devel/Caller/Caller.so lib/Devel/Caller.o
Manifying blib/lib/Devel/Caller.pm -> blib/libdoc/Devel::Caller.3
  RCLAMP/Devel-Caller-0.11.tar.gz
  /usr/bin/make -- OK
Warning (usually harmless): 'YAML' not installed, will not store persistent state                                                                               
Running make test
/home/src/perl/repoperls/installed-perls/perl/pY6kBLf/perl-5.8.0@17706/bin/perl Build --makefile_env_macros 1 test
t/Devel-Caller....ok
        26/72 unexpectedly succeeded
All tests successful (26 subtests UNEXPECTEDLY SUCCEEDED).
Files=1, Tests=72,  0 wallclock secs ( 0.09 cusr +  0.01 csys =  0.10 CPU)
  RCLAMP/Devel-Caller-0.11.tar.gz
  /usr/bin/make test -- OK
Warning (usually harmless): 'YAML' not installed, will not store persistent state                                                                               

	A few minutes later I have installed several other modules for a
	frictionless binary search and these programs then find a Devel::Caller
	that does not pass its own test anymore. Why?

	I remove the installation and reinstall with ./installperl from the
	build directory. I install as above the three PadWalker, M:B and EU:CB

	I see Devel::Caller working again. I make a backup or this tree. I
	re-run './Build test' several times in the Devel-Caller-0.11-iL3qS5/
	directory, always success.

	Now I try to install the Bundle::CPANxxl piece by piece. YAML::Syck
	fails. IO::Tty OK. Expect OK. YAML fails. Test::Harness OK.

% ./Build test
t/Devel-Caller....ok                                                         
        26/72 unexpectedly succeeded
TODO PASSED tests 12-14, 44-66

All tests successful (26 subtests UNEXPECTEDLY SUCCEEDED).
Passed TODO      Stat Wstat TODOs Pass  List of Passed
-------------------------------------------------------------------------------
t/Devel-Caller.t               26   26  12-14 44-66
Files=1, Tests=72,  0 wallclock secs ( 0.07 cusr +  0.03 csys =  0.10 CPU)

	Arrrrgrrrr, I misread this as a fail in my previous look at the terminal.

	18554:

	PadWalker passes its tests but D:C dumps core

	18037:

	PadWalker fails the two tests mentioned above and I force the install.
	Devel::Caller passes its tests.

	18300:

	PadWalker is installed, so must have passed its test. D:C has its SEGV.

	18150:

	Padwalker fails as above. force install. D:C SEGV.

	18078:
	
	Padwalker fails as above. force install. D:C SEGV.

	18057:
	
	Padwalker fails as above. force install. D:C SEGV.

	18048:

	Padwalker fails as above. force install. D:C SEGV.

	18047: no SEGV

2007-10-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Net-Daemon's recent FAILS under threads seems to be due to the way the
	old Thread.pm has now become a compatibility layer. Its t/thread.t tests

if (!eval { require Thread; my $t = Thread->new(sub { }) }) {
    print "1..0\n";
    exit 0;
}

	The compat layer seems to have started working between 30910 and 32032:

% for p in `binsearchaperl --show-cache  --bounds 27048-33000 --apcdir /home/src/perl/repoperls/APC --prefix /home/src/perl/repoperls/installed-perls --cachefilter tests/filter-threaded.pl `; do
$p -MThread -e 'print substr($^X,64), ": ", eval{Thread->new(sub { })} ? "" : "not ", "ok\n"'
done 2>/dev/null
@27048/bin/perl: ok
@29353/bin/perl: not ok
@30910/bin/perl: not ok
@31500/bin/perl: ok
@32032/bin/perl: ok
@32174/bin/perl: ok
@32186/bin/perl: ok
@32194/bin/perl: ok
@32195/bin/perl: ok

	but probably not good enough to run the whole code in t/thread.t.

	I would guess that somewhere between 27048 and 29353 the compatibility
	layer broke heavily and somewhere between 30910 and 31500 they
	fixed it a bit. 30955 was the last change to Thread.pm. The fix for our
	minimal testcase came a bit before that:

----Program----
require Thread;
print eval{Thread->new(sub { })} ? "ok\n" : "not ok\n";

----Output of .../pCY4xFO/perl-5.8.0@30952/bin/perl----
not ok

----EOF ($?='0')----
----Output of .../pQ8RfLX/perl-5.8.0@30953/bin/perl----
ok
Perl exited with active threads:
        1 running and unjoined
        0 finished and unjoined
        0 running and detached

----EOF ($?='0')----

----Program----
require Thread;
print eval{Thread->new(sub { })} ? "ok\n" : "not ok\n";

----Output of .../ppYBvaY/perl-5.8.0@27704/bin/perl----
ok
A thread exited while 2 threads were running.

----EOF ($?='0')----
----Output of .../pBY7a0s/perl-5.8.0@27705/bin/perl----
not ok

----EOF ($?='0')----

	Running a Net::Daemon 0.43 comare between 30952 and 53 shows the
	equivalent result. Now let's see for Devel-Caller and Sub-Multi.
	Devel-Caller needs a separate investigation (fails on both 3095[23]).
	Now I discover the dependency chain of Sub-Multi. I see that
	Devel::LexAlias depends on Devel-Caller. And Data::Bind depends on
	Devel::LexAlias and Sub::Multi depends on Data::Bind. So Sub::Multi can
	be dropped from further investigation.

	Note that we have not yet looked which construct it is that breaks in
	the test. So it might be interesting to look if 27704 was still ok. Yes,
	it passes all tests and does not skip the t/thread.t.

	BBC article is posted.

	* /tmp again

	30297 HTML-Display                            Cleaning up /tmp directory

2007-10-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* mod_perl also broke recently. Between 32090 and 32101. And it suddenly
	worked again in 32192 which was a nothreads nodebugging build without
	relocatable inc. nothing obvious, of course.

	I made a autobundle for 32085. And 32108. The diffs are huge.

	/home/sand/.cpan/Bundle/Snapshot_2007_10_26_0[01].pm

	Nono, that's something entirely different. The test server cannot be
	started and nothing's there that would tell me an error message. I have
	already cited the error message below but I repeat

/home/src/www/apache/apache/apache_1.3.37/src/httpd -f `pwd`/t/conf/httpd.conf -X -d `pwd`/t &
httpd listening on port 8529
will write error_log to: t/logs/error_log
letting apache warm up...\c
[Sat Oct 27 13:24:44 2007] [error] Can't locate lib.pm in @INC (@INC contains: /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0/i686-linux-thread-multi-64int /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0 /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0/i686-linux-thread-multi-64int /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0 /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t/ /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t/lib/perl) at /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t//docs/startup.pl line 8.\nBEGIN failed--compilation aborted at /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t//docs/startup.pl line 8.\nCompilation failed in require at (eval 2) line 1.\n
Syntax error on line 62 of /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t/conf/httpd.conf:
Can't locate lib.pm in @INC (@INC contains: /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0/i686-linux-thread-multi-64int /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0 /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0/i686-linux-thread-multi-64int /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0 /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t/ /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t/lib/perl) at /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t//docs/startup.pl line 8.
BEGIN failed--compilation aborted at /home/sand/.cpan/build/mod_perl-1.30-zALo0v/t//docs/startup.pl line 8.
Compilation failed in require at (eval 2) line 1.

done

	I found the lib.pm that should be found at
	/home/src/perl/repoperls/installed-perls/perl/pFAmPwI/perl-5.8.0@32085/lib/5.10.0/i686-linux-64int
	and indeed this is missing in the above list.

	Maybe it is because of relocateableinc? Not directly, of course, because
	we have had it working for 32085 and do not have it working for 32085
	now. So to compare autobundles we would first need a perl that currently
	correctly builds and tests mod_perl.

	32059 nowadays has the same problem. 32032 ditto. I untar the apache
	tarball once again and retry with 32032. Same result. 32009 was built on
	Oct 3 and I want to see the logs really, really exactly as they were.
	And what do I find? The same results but at that time CPAN::Reporter
	reported OK although so many tests were not run. A very interesting
	discovery. Probably this is just thanks to Test::Harness 2.99 now
	popping up?

	I'll now skip back in time and visit 31824 (if possible). It was the
	first perl I built with relocateableinc and it reported OK on mod_perl.
	Of course it also has the same bug with mod_perl 1.30. CPAN::Reporter
	reports (and reported on 2007-09-09) UNKNOWN in this case. But it got
	installed and make install was OK, so I did not discover the bug.

	Next stop in our time travel shall bring us to 31790 (2007-09-05T01:07).
	It was the last perl without relocateableinc. And all tests run and
	pass. Cheerio!

	http://rt.cpan.org/Ticket/Display.html?id=30300

	* 32194 came with change profile:

new fails
    PERIGRIN/JSON-Any-1.12.tar.gz[255], UNOBE/WWW-Facebook-API-v0.4.7.tar.gz[256], MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz[465], TBONE/Net-FTP-Common-6.0.tar.gz[756], MNOONING/PlRPC/PlRPC-0.2020.tar.gz[768], RCLAMP/Devel-Caller-0.11.tar.gz[787], RCLAMP/Devel-LexAlias-0.04.tar.gz[788], CLKAO/Data-Bind-0.28.tar.gz[789], CTHOM/Net-Twitter-1.06.tar.gz[808], MWS/ResourcePool-1.0104.tar.gz[856], RICKM/Net-Jaiku-0.0501.tgz[1089], CLKAO/Sub-Multi-0.003.tar.gz[1100], FGLOCK/v6-0.020.tar.gz[1102], RCAPUTO/Lexical-Persistence-0.97.tar.gz[1124], VPIT/Variable-Magic-0.04.tar.gz[1165], NUFFIN/Tie-RefHash-Weak-0.07.tar.gz[1168], NUFFIN/Devel-Events-Objects-0.03.tar.gz[1169], MSCHILLI/CPAN-Unwind-0.05.tar.gz[1207]
gone
    LARSLUND/PDF-Reuse-Barcode-0.05.tar.gz, RONAN/SVG-Template-Graph-0.13.tar.gz, WRW/Barcode-Code128-2.01.tar.gz

	* possible todos:

	- list all perlconfigs for the few succeeding Date-Simple

	- pick any of the others in the contingency table summary and make a
	filtered binary search into the past.

2007-10-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: NOG/AFS-2.4.0 look how the indexer fails DONE

	* Summary of recent builds only watching 8 pieces:
	VKON/Tcl-0.95.tar.gz
	MLEHMANN/Coro-4.{11,13}.tar.gz
	MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz
	RCLAMP/Devel-Caller-0.11.tar.gz
	
     useithreads                no threads
	+--------------------------+--------------------------+
	|  bleadperl@32186,32195   |  bleadperl@32181,32198   |
	|  PASS                    |  PASS                    |
	|                          |                          |
	|                          |  Net-Daemon              |
	|                          |  Devel-Caller            |
-g|                          |                          |
	|  FAIL                    |  FAIL                    |
	|                          |                          |
	|  Coro 4.13               |  Coro 4.11               |
	|  Net-Daemon              |  Tcl                     |
	|  Devel-Caller            |                          |
	|  Tcl                     |                          |
	|                          |                          |
	+--------------------------+--------------------------+
	|  bleadperl@32180,32194   |  bleadperl@32192,32193   |
	|  PASS                    |  PASS                    |
	|                          |                          |
	|  Coro 4.11,4.13          |  Coro 4.13               |
	|  Tcl                     |  Net-Daemon              |
	|                          |  Devel-Caller            |
no|                          |  Tcl                     |
-g|                          |                          |
	|  FAIL                    |  FAIL                    |
	|                          |                          |
	|  Net-Daemon              |                          |
	|  Devel-Caller            |                          |
  +--------------------------+--------------------------+
	

	* 32186 (threads+debugging) came with this change profile:

new fails
    BRADFITZ/Perlbal-1.60.tar.gz[311]
	  DMAKI/File-MMagic-XS-0.09002.tar.gz[358]
	  RCLAMP/Devel-Caller-0.11.tar.gz[400]
	  RCLAMP/Devel-LexAlias-0.04.tar.gz[405]
	  CLKAO/Data-Bind-0.28.tar.gz[406]
	  CLKAO/Sub-Multi-0.003.tar.gz[716]
	  FGLOCK/v6-0.020.tar.gz[717]
	  MLEHMANN/Coro-4.13.tar.gz[725]
	  MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz[790]
	  MNOONING/PlRPC/PlRPC-0.2020.tar.gz[797]
	  AVAR/re-engine-Plan9-0.14.tar.gz[862]
	  MAURICE/IPC-ShareLite-0.09.tar.gz[889]
	  MWS/ResourcePool-1.0104.tar.gz[942]
	  RCAPUTO/Lexical-Persistence-0.97.tar.gz[944]
	  DMAKI/File-Extract-0.06.tar.gz[956]
	  SREZIC/Tk-Splash-0.14.tar.gz[1339]
gone
    BRADFITZ/Perlbal-1.59.tar.gz
	  GAFFIE/ETL-Pequel-2.4-6b.tar.gz
	  MARKOV/Mail-Box-2.075.tar.gz
	  MLEHMANN/Coro-4.11.tar.gz
	  REDTREE/PDF-API2-Simple-1.1.2.tar.gz
	  TBONE/Net-FTP-Common-6.0.tar.gz

		whereas 32192 (nothreads+nodebugging) had this:

new fails
    PETERW/SVG-Parser-1.01.tar.gz[33]
	  RONAN/SVG-Template-Graph-0.13.tar.gz[36]
	  PETDANCE/Test-WWW-Mechanize-1.14.tar.gz[182]
	  CHROMATIC/Sub-Context-1.00.tar.gz[249]
	  AUTRIJUS/Encode-compat-0.07.tar.gz[298]
	  SCHWIGON/class-methodmaker/Class-MethodMaker-2.10.tar.gz[493]
	  FLUFFY/Term-ProgressBar-2.09.tar.gz[494]
	  AUTRIJUS/Lingua-ZH-HanDetect-0.04.tar.gz[635]
	  CHROMATIC/Test-Kwalitee-0.30.tar.gz[728]
	  DMAKI/POE-Component-StackedProcessor-0.05.tar.gz[766]
	  SCHWIGON/pdf-fdf-simple/PDF-FDF-Simple-0.11.tar.gz[855]
	  DBDPG/DBD-Pg-1.49.tar.gz[911]
	  TBONE/Net-FTP-Common-6.0.tar.gz[929]
	  SRSHAH/Test-Distribution-1.26.tar.gz[1103]
	  SUNGO/POE-API-Peek-1.0802.tar.gz[1104]
	  GWYN/POE-Component-Daemon-0.1006.tar.gz[1105]
	  CHROMATIC/Crypt-CipherSaber-1.00.tar.gz[1107]
	  AUTRIJUS/WWW-REST-0.01.tar.gz[1111]
	  JESSE/GnuPG-Interface-0.36.tar.gz[1148]
	  IMACAT/Locale-Maketext-Gettext-1.22.tar.gz[1171]
	  LBROCARD/Test-WWW-Mechanize-Catalyst-0.41.tar.gz[1184]
	  JROCKWAY/Catalyst-Plugin-Unicode-0.8.tar.gz[1185]
	  RCLAMP/POE-Component-Server-HTTP-0.09.tar.gz[1238]
	  SUNGO/POE-Component-DebugShell-1.0411.tar.gz[1406]
gone
    AUDREYT/Encode-IBM-0.06.tar.gz
	  AVAR/re-engine-Plan9-0.14.tar.gz
	  AWWAIID/Continuity-0.95.tar.gz
	  CLKAO/Data-Bind-0.28.tar.gz
	  CLKAO/Sub-Multi-0.003.tar.gz
	  DAXIM/Yahoo-Photos-0.0.2.tar.gz
	  DMAKI/File-Extract-0.06.tar.gz
	  DMAKI/File-MMagic-XS-0.09002.tar.gz
	  FGLOCK/v6-0.020.tar.gz
	  GOZER/mod_perl-1.30.tar.gz
	  LARSLUND/PDF-Reuse-Barcode-0.05.tar.gz
	  MAURICE/IPC-ShareLite-0.09.tar.gz
	  MIYAGAWA/Apache-GuessCharset-0.03.tar.gz
	  MLEHMANN/Coro-4.13.tar.gz
	  MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz
	  MNOONING/PlRPC/PlRPC-0.2020.tar.gz
	  MWS/ResourcePool-1.0104.tar.gz
	  NUFFIN/Devel-Events-Objects-0.03.tar.gz
	  NUFFIN/Tie-RefHash-Weak-0.07.tar.gz
	  RCAPUTO/Lexical-Persistence-0.97.tar.gz
	  RCLAMP/Devel-Caller-0.11.tar.gz
	  RCLAMP/Devel-LexAlias-0.04.tar.gz
	  SREZIC/Tk-Splash-0.14.tar.gz
	  STAS/libapreq-1.33.tar.gz
	  TIMB/Apache-Status-DBI-1.012.tar.gz
	  VKON/Tcl-0.95.tar.gz
	  VPIT/Variable-Magic-0.04.tar.gz
	  WRW/Barcode-Code128-2.01.tar.gz

	* Pugs needs some extralibs installed. Installed mtl

	* /tmp dir again:

	30255 SVG-Template-Graph                   Cleaning up /tmp directory; predictable tmp filename
	30256 svg-svg2zinc                         Cleaning up /tmp directory; predictable tmp filenames

2007-10-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* What exactly were the differences between 32173,32174,32180,32181?

...32173 -Dinstallusrbinperl=n -Uversiononly -Doptimize=-g -des -Duse64bitint -Dusedevel
...32174 -Dinstallusrbinperl=n -Uversiononly               -des               -Dusedevel -Dusethreads -Duserelocatableinc
...32180 -Dinstallusrbinperl=n -Uversiononly               -des               -Dusedevel -Dusethreads -Duserelocatableinc
...32181 -Dinstallusrbinperl=n -Uversiononly -Doptimize=-g -des -Duse64bitint -Dusedevel              -Duserelocatableinc

	So for 86 I wish that we use

...32186 -Dinstallusrbinperl=n -Uversiononly -Doptimize=-g -des -Duse64bitint -Dusedevel -Dusethreads -Duserelocatableinc
...32192 -Dinstallusrbinperl=n -Uversiononly               -des -Duse64bitint -Dusedevel              -Duserelocatableinc

	DONE.

	* And 32181 is the first that is unthreaded again:

new fails
	  AWWAIID/Continuity-0.95.tar.gz[629],
	  DAXIM/Yahoo-Photos-0.0.2.tar.gz[1429],
	  MLEHMANN/Coro-4.11.tar.gz[628],
	  REDTREE/PDF-API2-Simple-1.1.2.tar.gz[359],
	  TBONE/Net-FTP-Common-6.0.tar.gz[756],
	  TEEJAY/Maypole-2.121.tar.gz[1439]
	  TMTM/CGI-Untaint-date-1.00.tar.gz[1435],
	  VKON/Tcl-0.95.tar.gz[88],
	  YVES/Date-Simple-3.02.tar.gz[567],
gone
	  CLKAO/Data-Bind-0.28.tar.gz,
	  CLKAO/Sub-Multi-0.003.tar.gz,
	  DMAKI/Xango-1.08.tar.gz,
	  FGLOCK/v6-0.020.tar.gz,
	  JROCKWAY/Catalyst-Plugin-Unicode-0.8.tar.gz,
	  LBROCARD/Test-WWW-Mechanize-Catalyst-0.41.tar.gz,
	  MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz,
	  MNOONING/PlRPC/PlRPC-0.2020.tar.gz,
	  PETDANCE/Test-WWW-Mechanize-1.14.tar.gz,
	  RCAPUTO/Lexical-Persistence-0.97.tar.gz,
	  RCAPUTO/POE-Component-Client-HTTP-0.82.tar.gz,
	  RCLAMP/Devel-Caller-0.11.tar.gz,
	  RCLAMP/Devel-LexAlias-0.04.tar.gz

	Does that mean that we have N modules that work only on threaded or only on non threaded perls?

	started to work on threaded+nondebugging and stopped to work on nonthreaded+debugging:
	  [dep] AWWAIID/Continuity-0.95.tar.gz
	  MLEHMANN/Coro-4.11.tar.gz
	  [dep] TEEJAY/Maypole-2.121.tar.gz
	  TMTM/CGI-Untaint-date-1.00.tar.gz
	  VKON/Tcl-0.95.tar.gz
	  YVES/Date-Simple-3.02.tar.gz

	stopped to work on threaded+nondebugging and started to work on nonthreaded+debugging:
	  [dep] CLKAO/Data-Bind-0.28.tar.gz
	  CLKAO/Sub-Multi-0.003.tar.gz
	  [dep] FGLOCK/v6-0.020.tar.gz
	  JROCKWAY/Catalyst-Plugin-Unicode-0.8.tar.gz
	  MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz
	  [dep] MNOONING/PlRPC/PlRPC-0.2020.tar.gz
	  [dep] RCAPUTO/Lexical-Persistence-0.97.tar.gz
	  RCLAMP/Devel-Caller-0.11.tar.gz
	  [dep] RCLAMP/Devel-LexAlias-0.04.tar.gz

	works on threaded+debugging:
	  CLKAO/Sub-Multi-0.003.tar.gz
	  JROCKWAY/Catalyst-Plugin-Unicode-0.8.tar.gz (but never seems to work with optimize=O2 ???)

	does not work on threaded+debugging:
	  MLEHMANN/Coro-4.13.tar.gz
	  VKON/Tcl-0.95.tar.gz
	  YVES/Date-Simple-3.02.tar.gz
	  MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz
	  RCLAMP/Devel-Caller-0.11.tar.gz

	always worked with O2:
	  MLEHMANN/Coro-4.11.tar.gz
	
2007-10-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 32174 has broken Devel::Caller 0.11 and fixed quite a lot of others.
	Maybe a threaded thing? Need to start book keeping. 32174 says:

new fails
	  CLKAO/Data-Bind-0.28.tar.gz[770],
	  CLKAO/Sub-Multi-0.003.tar.gz[807],
	  FGLOCK/v6-0.020.tar.gz[808],
	  JPEACOCK/SVN-Notify-Mirror-0.03603.tar.gz[553],
	  JROCKWAY/Catalyst-Plugin-Unicode-0.8.tar.gz[1230],
	  LBROCARD/Test-WWW-Mechanize-Catalyst-0.41.tar.gz[1166],
	  MIYAGAWA/Log-Dispatch-Config-1.02.tar.gz[939],
	  MNOONING/Net-Daemon/Net-Daemon-0.43.tar.gz[709],
	  MNOONING/PlRPC/PlRPC-0.2020.tar.gz[1355]
	  MSERGEANT/POE-Component-Logger-1.00.tar.gz[940],
	  PETDANCE/Test-WWW-Mechanize-1.14.tar.gz[438],
	  RCAPUTO/Lexical-Persistence-0.97.tar.gz[92],
	  RCLAMP/Devel-Caller-0.11.tar.gz[90],
	  RCLAMP/Devel-LexAlias-0.04.tar.gz[91],
gone
    AWWAIID/Continuity-0.95.tar.gz,
	  CLACO/Data-Currency-0.04002.tar.gz,
	  CLACO/Finance-Currency-Convert-WebserviceX-0.06001.tar.gz,
	  DAXIM/Yahoo-Photos-0.0.2.tar.gz,
	  DCONWAY/Contextual-Return-v0.2.1.tar.gz,
	  JROBINSON/SQL-Translator-0.08001.tar.gz,
	  MLEHMANN/Coro-4.11.tar.gz,
	  NIKIP/Authen-PAM-0.16.tar.gz,
	  RCLAMP/POE-Component-Server-HTTP-0.09.tar.gz,
	  TEEJAY/Maypole-2.121.tar.gz,
	  TMTM/CGI-Untaint-date-1.00.tar.gz,
	  VKON/Tcl-0.95.tar.gz,
	  YVES/Date-Simple-3.02.tar.gz

	and 32180 has no substantial change. 81 will be unthreaded again.

	* spamassassin seems to have bugs in the test suite that then are
	ignored. Seems to call out to the perl in the path which chokes on the
	prototype "_".

	* DWHEELER/Exception-Class-DBI-0.95.tar.gz failed for the first time
	ever in 32154. It was with DBI 1.601 and I think it was the first to
	encounter 1.601. Yes, when compiling with 32152 it was still DBI 1.59. 

	http://rt.cpan.org/Ticket/Display.html?id=30230

	* off topic AndyA has created coop google searches for perl and cpan:

	http://google.com/coop/cse?cx=008709583689349882482%3Aw2_rnxeqmu0
	http://google.com/coop/cse?cx=008709583689349882482%3Aj5fu_7cy8vu

	* /tmp watching again:

	30209 Apache-Session                   Cleaning up /tmp directory

	* -rw-------  1 sand sand   2212 Oct 23 02:04 CyoWt00GDv

	find . -depth -user sand -and -newer a0u4eNQ7UO -and -not -newer saoDrTlcuA -exec rm -rv {} \;

2007-10-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 32154 fails with

Failed 1 test out of 1430, 99.93% okay.
        ../ext/threads/shared/t/waithires.t

	on perl itself. 'make nok' sent. Seems to be because I tried a threaded
	perl. Sorry, forgot to make a backup, reconstruct running...

	It turns out that I see the same on 32174 and that it is load dependent.
	And JDHEDDEN says this is not a bug and he is not willing to change the
	timeouts. I wonder if this is related to threaded builds (321[57]4 were
	threaded) or really only load driven.

	* Yesterday I built my first jifty installation with current SVN and
	bleadperl. 32147 was the patchnumber. Soon after this installation was
	completed this perl was used to test Email-Send-2.191 and it failed
	miserably with errors leading to something jifty:

	http://www.nntp.perl.org/group/perl.cpan.testers/2007/10/msg702186.html

	Retrying the tests with 32152 succeeds nicely and with 32147 I can
	reproduce the bug. Resolution simple:

	http://rt.cpan.org/Ticket/Display.html?id=30183

2007-10-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Variable::Magic is a candidate for a BBC article but the binary search
	is veiled by the fact that 28380/28381 is an important transition but
	there is another important transition. 28381 fails all tests with glibc
	noise but nowadays only one test fails. I need to find the transition
	from glibc noise to code that at least runs.

	The other end seems to be 28968 so that 28969 fixed the glibc thing. But
	this is very surprising because that patch only "bumped version to
	5.9.5". Maybe Variable::Magic uses the 4/5 somewhere.

	Now running Variable::Magic tests with 28969:

Failed Test  Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/31-array.t    2   512    21    2  20-21
3 tests skipped.

	But current bleadperl 32152 failes with

Failed Test   Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/10-simple.t    0    11    14    4  13-14
Failed 1/20 test scripts. 2/217 subtests failed.
Files=20, Tests=217,  9 wallclock secs ( 4.43 cusr +  0.27 csys =  4.70 CPU)
Failed 1/20 test programs. 2/217 subtests failed.


	32015 is the first perl that breaks on 10-simple in this manner.

	http://rt.cpan.org/Ticket/Display.html?id=30197

2007-10-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 32138 break keepcool and pingomatic--why? The logfiles for them are
	not being split out. In the original logfile I see

Can't open perl script "/tmp/Ab5Z0NrlWf": No such file or directory
Can't open perl script "/tmp/Ab5Z0NrlWf": No such file or directory

	So it seems that I may have deleted a wrong /tmp file and actually
	disturbed CPAN::Reporter and caused a false negative.

	* more tempfiles and who they might come from:

-rw-rw-r--  1 sand sand   6000 Oct 19 07:46 8l3WxFQ5ki
-rw-rw-r-- 1 sand sand 1487 Oct 19 07:46 CPAN-Dependency-0.11-l5Lnci.yml

	Test fails and is time consuming, running out of time.

-rw-r--r--  1 sand sand   2048 Oct 19 07:02 sb-test.23308
-rw-r--r--  1 sand sand   4096 Oct 19 07:03 sb-test.23332
-rw-r--r--  1 sand sand   2048 Oct 19 07:03 sb-test.23338
-rw-r--r--  1 sand sand   2048 Oct 19 07:03 sb-test.23534
-rw-rw-r-- 1 sand sand 1563 Oct 19 07:02 DateTime-Format-ISO8601-0.06-dKW3or.yml

	Nope, no connection observed.

-rw-rw-r--  1 sand sand      9 Oct 19 05:26 4077fsCcIV
-rw-rw-r-- 1 sand sand 1561 Oct 19 05:26 IO-Async-0.09-sZbY3R.yml

	Yes, reported

	30141 IO-Async          Cleaning up /tmp directory;

	Also:

	30142 KinoSearch        Cleaning up /tmp directory; predictable tmp filenames

-rw-rw-r--  1 sand sand    452 Oct 19 04:53 petal_debug.26135.1192762409.dhcbshswxa
-rw-rw-r--  1 sand sand    703 Oct 19 04:53 petal_debug.26189.1192762430.vasuxjjgrp
-rw-rw-r--  1 sand sand   1633 Oct 19 04:53 petal_debug.26188.1192762430.rmjyjqrpmt
-rw-rw-r--  1 sand sand   1431 Oct 19 04:53 petal_debug.26188.1192762430.nnmkfdmcol
-rw-rw-r--  1 sand sand   1395 Oct 19 04:53 petal_debug.26188.1192762430.nczunhwpnl
-rw-rw-r--  1 sand sand   1344 Oct 19 04:53 petal_debug.26188.1192762430.lcgnvwaewx
-rw-rw-r--  1 sand sand    150 Oct 19 04:54 petal_cache_2.19_a58e7f5fd83c96c482a2699eec876a3f
-rw-rw-r--  1 sand sand    154 Oct 19 04:54 petal_cache_2.19_472e5319343b8068fb59de8231ee9008
-rw-rw-r--  1 sand sand    487 Oct 19 04:54 petal_cache_2.19_3976ac25dc4109849c1cfb097b337432
-rw-rw-r--  1 sand sand    490 Oct 19 04:54 petal_cache_2.19_1630bf5852cd9f7bedd9c5c361f6d951
-rw-rw-r--  1 sand sand   4484 Oct 19 04:54 petal_debug.26230.1192762445.ziottszpqa
-rw-rw-r--  1 sand sand  22188 Oct 19 04:54 petal_cache_2.19_16a885a2aea7745dae5e0a0651edc4f3
-rw-rw-r--  1 sand sand   8621 Oct 19 04:54 petal_cache_2.19_54b3f86dbf348e89c2ec2685e7c15073
-rw-rw-r-- 1 sand sand 1523 Oct 19 04:54 Petal-2.19-77UZcA.yml

	11 files come from this one and I have reported:

	30143 Petal                Cleaning up /tmp directory
	
drwxrwxrwx  4 sand sand   4096 Oct 19 04:49 FileCache/
-rw-rw-r-- 1 sand sand 1563 Oct 19 04:49 Pugs-Compiler-Rule-0.26-hUeyBl.yml

-rw-------  1 sand sand     42 Oct 19 04:31 ZRcWZeunOs
drwx------  2 sand sand   4096 Oct 19 04:31 QjqZAyxa0x/
-rw-------  1 sand sand     40 Oct 19 04:31 E13wRFaSci
drwx------  2 sand sand   4096 Oct 19 04:31 ozY6kh6pjY/
drwx------  2 sand sand   4096 Oct 19 04:31 lZNsNEgqMo/
drwx------  2 sand sand   4096 Oct 19 04:31 41RniDPWeh/
drwx------  2 sand sand   4096 Oct 19 04:31 11IxvNWzvg/
-rw-rw-r-- 1 sand sand 1259 Oct 19 04:42 parrot-0.4.16-0zNo5F.yml

-rw-------  1 sand sand    125 Oct 20 05:07 0M1yjD09XK
-rw-rw-r-- 1 sand sand 1601 Oct 20 05:07 Slay-Makefile-Gress-0.04-qkMixG.yml
-rw-rw-r-- 1 sand sand 1792 Oct 20 05:07 Text-Restructured-0.003036-pgPGFU.yml

-rw-rw-r--  1 sand sand 227803 Oct 20 04:22 NsghdoXHTf
drwx------  2 sand sand   4096 Oct 20 04:23 midvhy07gr
-rw-rw-r-- 1 sand sand 1703 Oct 20 04:22 Test-Warn-0.10-etCdoR.yml
-rw-rw-r-- 1 sand sand 2318 Oct 20 04:24 DBM-Deep-1.0006-XnHLow.yml

	* reported:

	30113 HTTP-Server-Simple-Mason  Cleaning up /tmp directory; predictable tmp filenames

2007-10-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* reported:

	30051 Pod-Manual        Cleaning up /tmp directory; predictable tmp filenames

	* If cpan really shouldn't be run as root, then CPAN should refuse to
	run as root if sudo is available. --Alias in
	http://use.perl.org/comments.pl?threshold=0&mode=nested&commentsort=0&op=Change&sid=37249

2007-10-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* From the timestamps one of the three must write the Hello World tempfiles:

-rw-rw-r-- 1 sand sand 1605 Oct 16 10:30 HTTP-Request-AsCGI-0.5-3yvbwD.yml
-rw-rw-r-- 1 sand sand 1465 Oct 16 10:30 Text-SimpleTable-0.03-oRnFgA.yml
-rw-rw-r-- 1 sand sand 1516 Oct 16 10:30 HTTP-Body-0.9-PO5l6r.yml

	The latter.

  30048 HTTP-Body         Cleaning up /tmp directory

	* Yesterday on #p5p:

23:51:48 <@rjbs> Hm.  Rose::HTML::Object::Messages breaks on 5.10
23:51:48 <@rjbs> next  unless(defined *{$fq_sub}{'CODE'} && $name =~ 
                 /^[A-Z0-9_]+$/);
23:52:05 <@rjbs> $fq_sub is a string (symbolic ref)
23:52:05 <@rjbs> Not a GLOB reference at lib/Rose/HTML/Object/Messages.pm line 
                 168.

2007-10-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: revisit 28915, it seems to have fallen off the edge of the
	carpet. And dmq's related one. And possibly weigh in File::Spec rev 3.25_01!

2007-10-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Going to report tmp directory. I already have reported:

	26078 Config-JSON: Using predictable filenames in /tmp is a security
	hazard and should be avoided even in test scripts. Besides if they
	aren't cleaned up they lead to failing tests. Please use File::Temp
	instead.

	26951 Cache-FastMmap (resolved): Using predictable filenames in /tmp has
	some security implications too, so should be avoided. In this case it
	simply causes the test to fail because another user has occupied this
	file or directory.

	26538 HTML-Scrubber: The first bug is that the tmp file was not cleaned
	up and left ove from a different user in /tmp/. Generally it is
	considered a security issue to put predictable files into /tmp.
	File::Temp should be used instead.

	26536 Module-Refresh (resolved): The first bug is that the test script
	does not clean up after itself. /tmp/FooBar.pm is still around from a
	test by a different user. In general it is considered a security issue
	to write predictable file names into /tmp. Better you use File::Temp
	(and remove the files at the end nonetheless).

	Today I find a DBM Deep file, one that starts with "use strict;\nuse
	ExtUtils::MakeMaker;\nuse CPAN::Version;\n\n# read module and prereq
	string from STDIN\nwhile ( <STDIN> ) {...", a directory with two
	DBM-Deep files, about 40 "Hello world" perl programs, all at 23:45, a
	catalyst logo in PNG format at 23:47 and many, many more

	29969 CGI-Session: "Temporary files left over in /tmp"
  30020 Log-Report					  Cleaning up /tmp directory
  30019 SQL-DB							  Cleaning up /tmp directory; predictable tmp filenames	open
  30018 PAR-Repository-Client Cleaning up /tmp directory	open

2007-10-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Slaven sends a miserable FAIL with 5.6.2 and YAML 0.39.

	* The failing tests on mod_perl, Archive-Any, and GIS-Distance are
	repeatable with 32104 and Log-Dispatch-Config
	(http://rt.cpan.org/Ticket/Display.html?id=30073) has joined them in
	failing. I've stopped all running loops to look around in the /tmp
	directory.

	32090 had a working A:A. fforce test on it now fails with

Running make test
Bareword found where operator expected at /tmp/N0WH1MFuPP line 1, near "'/usr/bin/make test 'TEST_FILES"
        (Missing operator before TEST_FILES?)
Bareword found where operator expected at /tmp/N0WH1MFuPP line 1, near "00compile"
        (Missing operator before compile?)
Bareword found where operator expected at /tmp/N0WH1MFuPP line 3, near "'TEST_FILES=t/00compile.t t/Any.t t/fail.t t/perl-critic.t t/pod.t t/type.t' exited"
        (Missing operator before exited?)
syntax error at /tmp/N0WH1MFuPP line 1, near "'/usr/bin/make test 'TEST_FILES"
Can't find string terminator "'" anywhere before EOF at /tmp/N0WH1MFuPP line 3.

	And the tempfile is gone. Starting to cleanup my /tmp directory and
	rerunning the A:A test again and again. AA itself leaves a testfile in
	/tmp. Not every time?

	Found something, not related to the tmp directory. I have

test:
  args:
    - "TEST_FILES=t/00compile.t t/Any.t t/fail.t t/perl-critic.t t/pod.t t/type.t"

	in the distroprefs file. If I remove it we succeed. Finding a new bug by
	working around another. Who broke the distroprefs file? It is not
	MakeMaker or Harness. If I issue 'make test TEST_F...' manually it is
	fine. It's something coming earlier.

	It's in CPAN::Reporter. If I turn reporting off it goes away.
	Downgrading to 0.99_1[540] same problem. Downgrading to 99_05 nope,
	99_01 nope. To 0.4801 good.

	Ticks in a command. Patch sent to David.

2007-10-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* BLUEFEET/GIS-Distance-0.01001.tar.gz also suddenly breaks with 32101:-(

	And CMOORE/Archive-Any-0.093.tar.gz too. And something somehow connected
	to the /tmp directory.

	* mod_perl starts failing with 32101:

[Fri Oct 12 01:50:59 2007] [error] Can't locate lib.pm in @INC (@INC contains: /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0/i686-linux-64int /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0 /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0/i686-linux-64int /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0 /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t/ /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t/lib/perl) at /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t//docs/startup.pl line 8.\nBEGIN failed--compilation aborted at /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t//docs/startup.pl line 8.\nCompilation failed in require at (eval 2) line 1.\n
Syntax error on line 62 of /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t/conf/httpd.conf:
Can't locate lib.pm in @INC (@INC contains: /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0/i686-linux-64int /home/src/www/apache/apache/apache_1.3.37/lib/5.10.0 /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0/i686-linux-64int /home/src/www/apache/apache/apache_1.3.37/lib/site_perl/5.10.0 /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t/ /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t/lib/perl) at /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t//docs/startup.pl line 8.
BEGIN failed--compilation aborted at /home/sand/.cpan/build/mod_perl-1.30-0CO6Yi/t//docs/startup.pl line 8.
Compilation failed in require at (eval 2) line 1.

	Go figure. I want to see this repeated before I investigate.

	* PAR::Filter et al. permanently broken since 31796 on blead, OK with
	current maintperl

2007-09-06T07:55 	perl 	31796 	391 	SMUELLER/PAR-Packer-0.976.tar.gz 	NOT OK
2007-09-05T17:16 	perl 	31795 	588 	SMUELLER/PAR-Packer-0.976.tar.gz 	OK

	Cannot be something with patch 31796, it's just a test fix.

	I still have 31790 and 31824 around. The autobundle diff shows these
	suspicious candidates:

	- Archive::Unzip::Burst                # seems ok
	* B
	- Class::Component
	- Class::MethodMaker
	- Crypt::SipherSaber
	* ExtUtils::Install    1.41_04/1.44    # seems ok
	* File::Path                           # seems ok
	+ Getopt::Attribute    1.42            # seems ok
	* MRO::Compat                          # seems ok
	* Module::Build                        # seems ok
	- PAR::Filter
	+ Set::Scalar
	* Test::Deep
	- Text::Diff::Parser
	- Text::Scan
	* XML::LibXML

	/home/sand/.cpan/build/PAR-Packer-0.976-JePP61/blib/script/pp: Failed to extract a parl from 'PAR::StrippedPARL::Static' to file 'parltQZf2Gh' at /home/sand/.cpan/build/PAR-Packer-0.976-JePP61/blib/lib/PAR/Packer.pm line 1149, <DATA> line 1.

	It's about extracting. This Archive::Unzip::Burst looks interesting. Why
	do we not have it?

	31790 compiles it and tests ok and has it installed.

	31824 has an old CPAN but it compiles it and tests OK. PAR Packer takes
	a long time to compile. It fails at compilation stage with

./par -I../myldr/.. -I../blib/lib -I"/home/sand/.cpan/build/PAR-Packer-0.976-ZlXHYS/inc" -I"/home/sand/.cpan/build/Archive-Unzip-Burst-0.02-58kTmp/blib/arch" -I"/home/sand/.cpan/build/Archive-Unzip-Burst-0.02-58kTmp/blib/lib" -I"/home/src/perl/repoperls/installed-perls/perl/pSib5JX/perl-5.8.0@31824/lib/5.10.0/i686-linux-64int" -I"/home/src/perl/repoperls/installed-perls/perl/pSib5JX/perl-5.8.0@31824/lib/5.10.0" -I"/home/src/perl/repoperls/installed-perls/perl/pSib5JX/perl-5.8.0@31824/lib/site_perl/5.10.0/i686-linux-64int" -I"/home/src/perl/repoperls/installed-perls/perl/pSib5JX/perl-5.8.0@31824/lib/site_perl/5.10.0" -I"/home/sand/.cpan/build/PAR-Packer-0.976-ZlXHYS" -I"." -q -B -O../script/parldyn
Usage: ./par [ -Alib.par ] [ -Idir ] [ -Mmodule ] [ src.par ] [ program.pl ]
       ./par [ -B|-b ] [-Ooutfile] src.par

	Maybe it has to do with option parsing? I mean, when I *install*
	Archive::Unzip::Burst and then try PAR again from scratch, it fails with
	the same error message. Getopt::ArgvFile is a prereq and has not changed.

	31790 has Getopt::Attribute missing. I retry to fforce test it on 31790.
	It compiles it. Running test ... (running out of time)

	For 31824 I hide Getopt::Attribute now and fforce test PAR-Packer-0.976
	here too. It fails again with the same error message.

	For 31824 I downgrade Module::Build from 0.2808_01 to 0.2808 which 790
	had. PAR-Parser still fails with the same error.

	For 31824 I downgrade from E:I 1.44 to
	YVES/ExtUtils-Install-1.41_04.tar.gz. I expect that if this has an
	influence it would show in the installation of other modules and so do
	not expect a change in behaviour. And so it gets confirmed.

	For 31824 I find a File::Path 2.00_11 which is lower than the 2.01 in
	31790.

	Can I see the above par command once again for 31790?

./par -I../myldr/.. -I../blib/lib -I"/home/sand/.cpan/build/PAR-Packer-0.976-slY0pI/inc" -I"/home/src/perl/repoperls/installed-perls/perl/pNaGaP6/perl-5.8.0@31790/lib/5.9.5/i686-linux-64int" -I"/home/src/perl/repoperls/installed-perls/perl/pNaGaP6/perl-5.8.0@31790/lib/5.9.5" -I"/home/src/perl/repoperls/installed-perls/perl/pNaGaP6/perl-5.8.0@31790/lib/site_perl/5.9.5/i686-linux-64int" -I"/home/src/perl/repoperls/installed-perls/perl/pNaGaP6/perl-5.8.0@31790/lib/site_perl/5.9.5" -I"/home/sand/.cpan/build/PAR-Packer-0.976-slY0pI" -I"." -q -B -O../script/parldyn

	I realize that downgrading 31824 is more cumbersome than upgrading
	31790. Just run r command and pick something and retry PAR-Parser. I
	picked Set::Scalar and then realized that I'm hunting two bugs at once.
	One is the above "./par" command that triggers a "Usage" error, the
	other is a failing 20-pp test. And I see now that 31790 fails on test
	20-pp. Unfortunately it is a very time consuming test and I must restart
	me research to find explain each error separately.

2007-10-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 5.6.2 can also have the corruption:

*** glibc detected *** /usr/local/perl-5.6.2/bin/perl: double free or corruption (!prev): 0x08154f08 ***
======= Backtrace: =========
/lib/i686/cmov/libc.so.6[0xb7ea1cf5]
/lib/i686/cmov/libc.so.6(cfree+0x90)[0xb7ea5790]
/usr/local/perl-5.6.2/bin/perl(Perl_safefree+0x85)[0x80ae618]
/usr/local/perl-5.6.2/bin/perl(Perl_mg_free+0x79)[0x80b5146]
/usr/local/perl-5.6.2/bin/perl(Perl_sv_clear+0x510)[0x80d4af6]
/usr/local/perl-5.6.2/bin/perl(Perl_sv_free+0x1d3)[0x80d5046]
/usr/local/perl-5.6.2/bin/perl(Perl_sv_clear+0x6c0)[0x80d4ca6]
/usr/local/perl-5.6.2/bin/perl(Perl_sv_free+0x1d3)[0x80d5046]
/usr/local/perl-5.6.2/bin/perl(Perl_free_tmps+0x6f)[0x80f23c6]
/usr/local/perl-5.6.2/bin/perl(Perl_pp_nextstate+0x64)[0x80c1780]
/usr/local/perl-5.6.2/bin/perl(Perl_runops_debug+0x154)[0x80c135c]
/usr/local/perl-5.6.2/bin/perl[0x805d69f]
/usr/local/perl-5.6.2/bin/perl(perl_run+0xde)[0x805d247]
/usr/local/perl-5.6.2/bin/perl(main+0x9f)[0x8059eb3]
/lib/i686/cmov/libc.so.6(__libc_start_main+0xe0)[0xb7e4e050]
/usr/local/perl-5.6.2/bin/perl[0x8059d91]
======= Memory map: ========
08048000-08146000 r-xp 00000000 03:02 57623      /usr/local/perl-5.6.2/bin/perl
08146000-0814f000 rwxp 000fe000 03:02 57623      /usr/local/perl-5.6.2/bin/perl
0814f000-08253000 rwxp 0814f000 00:00 0          [heap]
b7c00000-b7c21000 rwxp b7c00000 00:00 0
b7c21000-b7d00000 ---p b7c21000 00:00 0
b7db4000-b7dbe000 r-xp 00000000 03:02 767731     /lib/libgcc_s.so.1
b7dbe000-b7dbf000 rwxp 00009000 03:02 767731     /lib/libgcc_s.so.1
b7dd4000-b7de7000 r-xp 00000000 03:02 767894     /lib/i686/cmov/libpthread-2.6.1.so
b7de7000-b7de9000 rwxp 00013000 03:02 767894     /lib/i686/cmov/libpthread-2.6.1.so
b7de9000-b7deb000 rwxp b7de9000 00:00 0
b7deb000-b7e02000 r-xp 00000000 09:01 17550801   /home/sand/.cpan/build/Event-1.09-E0n7Zq/blib/arch/auto/Event/Event.so
b7e02000-b7e03000 rwxp 00016000 09:01 17550801   /home/sand/.cpan/build/Event-1.09-E0n7Zq/blib/arch/auto/Event/Event.so
b7e03000-b7e06000 rwxp b7e03000 00:00 0
b7e06000-b7e08000 r-xp 00000000 03:02 768237     /lib/i686/cmov/libutil-2.6.1.so
b7e08000-b7e0a000 rwxp 00001000 03:02 768237     /lib/i686/cmov/libutil-2.6.1.so
b7e0a000-b7e0f000 r-xp 00000000 03:02 767161     /lib/i686/cmov/libcrypt-2.6.1.so
b7e0f000-b7e11000 rwxp 00004000 03:02 767161     /lib/i686/cmov/libcrypt-2.6.1.so
b7e11000-b7e38000 rwxp b7e11000 00:00 0
b7e38000-b7f7a000 r-xp 00000000 03:02 767159     /lib/i686/cmov/libc-2.6.1.so
b7f7a000-b7f7b000 r-xp 00142000 03:02 767159     /lib/i686/cmov/libc-2.6.1.so
b7f7b000-b7f7d000 rwxp 00143000 03:02 767159     /lib/i686/cmov/libc-2.6.1.so
b7f7d000-b7f80000 rwxp b7f7d000 00:00 0
b7f80000-b7fa3000 r-xp 00000000 03:02 767163     /lib/i686/cmov/libm-2.6.1.so
b7fa3000-b7fa5000 rwxp 00023000 03:02 767163     /lib/i686/cmov/libm-2.6.1.so
b7fa5000-b7fa7000 r-xp 00000000 03:02 767162     /lib/i686/cmov/libdl-2.6.1.so
b7fa7000-b7fa9000 rwxp 00001000 03:02 767162     /lib/i686/cmov/libdl-2.6.1.so
b7fa9000-b7fbd000 r-xp 00000000 03:02 767552     /lib/i686/cmov/libnsl-2.6.1.so
b7fbd000-b7fbf000 rwxp 00013000 03:02 767552     /lib/i686/cmov/libnsl-2.6.1.so
b7fbf000-b7fc2000 rwxp b7fbf000 00:00 0
b7fc2000-b7fc9000 r-xp 00000000 03:02 768225     /lib/i686/cmov/librt-2.6.1.so
b7fc9000-b7fcb000 rwxp 00006000 03:02 768225     /lib/i686/cmov/librt-2.6.1.so
b7fcb000-b7fd1000 r-xp 00000000 03:02 75923      /usr/local/perl-5.6.2/lib/site_perl/5.6.2/i686-linux-64int/auto/Time/HiRes/HiRes.so
b7fd1000-b7fd2000 rwxp 00005000 03:02 75923      /usr/local/perl-5.6.2/lib/site_perl/5.6.2/i686-linux-64int/auto/Time/HiRes/HiRes.so
b7fd2000-b7fd4000 r-xp 00000000 03:02 230196     /usr/local/perl-5.6.2/lib/5.6.2/i686-linux-64int/auto/attrs/attrs.so
b7fd4000-b7fd5000 rwxp 00001000 03:02 230196     /usr/local/perl-5.6.2/lib/5.6.2/i686-linux-64int/auto/attrs/attrs.so
b7fd6000-b7fd8000 rwxp b7fd6000 00:00 0
b7fd8000-b7ff4000 r-xp 00000000 03:02 767854     /lib/ld-2.6.1.so
b7ff4000-b7ff6000 rwxp 0001b000 03:02 767854     /lib/ld-2.6.1.so
bfcad000-bfcf0000 rw-p bfcad000 00:00 0 

	

2007-10-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* harness 2.99_03? Where is the mailing list? tapx-dev@hexten.net

	From: Elliot Shank <perl@galumph.com>
	Subject: Confusing test results for Perl::Critic 1.079_001.
	To: andreas.koenig@anima.de
	CC: perlcritic <dev@perlcritic.tigris.org>
	Date: Tue, 09 Oct 2007 14:19:45 -0500

	All tests pass, yet the test run is reported as failing.

	Do you have any idea what's going on?


2007-10-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 5.005_05. Running out of the CPAN WC

Warning: prerequisite File::Temp 0 not found at (eval 4) line 220.
Warning: prerequisite Scalar::Util 0 not found at (eval 4) line 220.
Warning: prerequisite Test::Harness 2.62 not found at (eval 4) line 220.
Warning: prerequisite Test::More 0 not found at (eval 4) line 220.

	1) install Test::Harness     # installs 2.64
	2) install File::Temp        # installs Test::More but fails for File::Temp due Carp::Heavy
	3) install TJENNESS/File-Temp-0.16.tar.gz  # works
	4) install GBARR/Scalar-List-Utils-1.18.tar.gz # works
	5) install CPAN::Reporter

		Failed during this command:
		 ARANDAL/Pod-Simple-3.05.tar.gz               : make_test NO
		 RRA/podlators-2.0.5.tar.gz                   : make_test NO
		 MSCHWERN/ExtUtils-MakeMaker-6.36.tar.gz      : make NO
		 DAGOLDEN/File-pushd-1.00.tar.gz              : make_test NO
		 DMUEY/File-Copy-Recursive-0.35.tar.gz        : make_test NO
		 MAREKR/Pod-Parser-1.35.tar.gz                : make_test NO
		 JV/Getopt-Long-2.37.tar.gz                   : make_test NO one dependency not OK (Pod::Usage)
		 DAGOLDEN/CPAN-Reporter-0.4801.tar.gz         : make_test NO

	6) install MAREKR/PodParser-1.23.tar.gz  # works
	7) install Term::ANSIColor               # works
	8) install RRA/podlators-1.27.tar.gz     # works
	9) install MSCHWERN/ExtUtils-MakeMaker-6.36.tar.gz # works
	10) install DAGOLDEN/File-pushd-1.00.tar.gz # works

	Now I tried it with Bundle::CPANxxl and during YAML::Syck got:

*** glibc detected *** /usr/local/perl-5.005_05/bin/perl: free(): invalid next size (fast): 0x0818f3a8 ***
======= Backtrace: ========= 
/lib/i686/cmov/libc.so.6[0xb7e24cf5]
/lib/i686/cmov/libc.so.6(cfree+0x90)[0xb7e28790]
/usr/local/perl-5.005_05/bin/perl(Perl_sv_clear+0x39f)[0x80937af]
/usr/local/perl-5.005_05/bin/perl(Perl_sv_free+0x4b)[0x809397b]
/usr/local/perl-5.005_05/bin/perl(Perl_free_tmps+0x4c)[0x80a795c]
/usr/local/perl-5.005_05/bin/perl(Perl_pp_nextstate+0x4f)[0x808d73f]
/usr/local/perl-5.005_05/bin/perl(Perl_runops_standard+0x18)[0x80c4618]
/usr/local/perl-5.005_05/bin/perl(perl_call_sv+0x314)[0x8059864]
/usr/local/perl-5.005_05/bin/perl(Perl_call_list+0x1dd)[0x8059ced]
/usr/local/perl-5.005_05/bin/perl(Perl_newSUB+0x93d)[0x807aa2d]
/usr/local/perl-5.005_05/bin/perl(Perl_yyparse+0xe9c)[0x8071bcc]
/usr/local/perl-5.005_05/bin/perl[0x80aad21]
/usr/local/perl-5.005_05/bin/perl(Perl_pp_require+0x4f9)[0x80abbf9]
/usr/local/perl-5.005_05/bin/perl(Perl_runops_standard+0x18)[0x80c4618]
/usr/local/perl-5.005_05/bin/perl(perl_call_sv+0x314)[0x8059864]
/usr/local/perl-5.005_05/bin/perl(Perl_call_list+0x1dd)[0x8059ced]
/usr/local/perl-5.005_05/bin/perl(Perl_newSUB+0x93d)[0x807aa2d]
/usr/local/perl-5.005_05/bin/perl(Perl_utilize+0x25a)[0x807d3aa]
/usr/local/perl-5.005_05/bin/perl(Perl_yyparse+0xf95)[0x8071cc5]
/usr/local/perl-5.005_05/bin/perl[0x80aad21]
/usr/local/perl-5.005_05/bin/perl(Perl_pp_require+0x4f9)[0x80abbf9]
/usr/local/perl-5.005_05/bin/perl(Perl_runops_standard+0x18)[0x80c4618]
/usr/local/perl-5.005_05/bin/perl(perl_call_sv+0x314)[0x8059864]
/usr/local/perl-5.005_05/bin/perl(Perl_call_list+0x1dd)[0x8059ced]
/usr/local/perl-5.005_05/bin/perl(Perl_newSUB+0x93d)[0x807aa2d]
/usr/local/perl-5.005_05/bin/perl(Perl_utilize+0x25a)[0x807d3aa]
/usr/local/perl-5.005_05/bin/perl(Perl_yyparse+0xf95)[0x8071cc5]
/usr/local/perl-5.005_05/bin/perl(perl_parse+0x709)[0x805b019]
/usr/local/perl-5.005_05/bin/perl(main+0x75)[0x8057705]
/lib/i686/cmov/libc.so.6(__libc_start_main+0xe0)[0xb7dd1050]
/usr/local/perl-5.005_05/bin/perl[0x8057621]

	Failed during this command:
	 AUDREYT/YAML-Syck-0.97.tar.gz                : writemakefile NO '/usr/local/perl-5.005_05/bin/perl Makefile.PL' returned status 6
	 RGIERSIG/Expect-1.21.tar.gz                  : make_test NO
	 INGY/YAML-0.66.tar.gz                        : writemakefile NO '/usr/local/perl-5.005_05/bin/perl Makefile.PL' returned status 7424
	 KWILLIAMS/Module-Build-0.2808.tar.gz         : make_test NO
	 TJENNESS/File-Temp-0.18.tar.gz               : make_test NO
	 GBARR/Scalar-List-Utils-1.19.tar.gz          : writemakefile NO '/usr/local/perl-5.005_05/bin/perl Makefile.PL' returned status 6
	 ILYAM/Data-Dumper-2.121.tar.gz               : make NO
	 DMUEY/File-Copy-Recursive-0.35.tar.gz        : make_test NO
	 DAGOLDEN/CPAN-Reporter-0.4801.tar.gz         : make_test NO
	 GBARR/IO-1.2301.tar.gz                       : writemakefile NO '/usr/local/perl-5.005_05/bin/perl Makefile.PL' returned status 65280
	 AUDREYT/Module-Signature-0.55.tar.gz         : make_test NO one dependency not OK (IO::Socket::INET)
	 PMQS/IO-Compress-Zlib-2.006.tar.gz           : make_test NO
	 PMQS/Compress-Zlib-2.007.tar.gz              : make_test NO
	 ADAMK/Archive-Zip-1.20.tar.gz                : make_test NO
	 TOMHUGHES/IO-Zlib-1.07.tar.gz                : make_test NO
	 KANE/Archive-Tar-1.36.tar.gz                 : make_test NO
	

2007-10-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* [rt.cpan.org #29616] "couldn't find a hints file" error seems like a
	step backwards

2007-10-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Got a list of interesting Tk modules from Slaven

	Tk::Axis Tk::Carp Tk::Clock Tk::CodeText Tk::CursorControl Tk::DateEntry
	Tk::DatePick Tk::DiffText Tk::DirSelect Tk::ExecuteCommand
	Tk::FastSplash (tricky!) Tk::FileDialog Tk::FireButton Tk::Gauge
	Tk::Graph Tk::GraphItems Tk::HTML Tk::IconCanvas Tk::JBrowseEntry
	Tk::JComboBox Tk::JFileDialog Tk::JListbox Tk::JPEG::Lite Tk::LCD
	Tk::LockDisplay (interactive!) Tk::MDI Tk::MListbox Tk::RotCanvas
	Tk::StayOnTop Tk::Stderr Tk::TableMatrix Tk::TextANSIColor
	Tk::TextHighlight (interactive!) Tk::TIFF Tk::ToolBar (interactive!)
	Tk::Wizard Tk::Zinc

	didn't try those marked as interactive, all others had well behaving
	tests with DISPLAY=:121 except

	TURNERJW/Tk-JFileDialog-1.34.tar.gz 
	RCS/Tk-MListbox-1.11.tar.gz

2007-10-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* t/034-uncompfile........ok
t/035-uncompreadline....ok
t/040-memory............ok
t/041-error.............Name "main::BZIP" used only once: possible typo at t/041-error.t line 11.

	I had to disable ARJAY/Compress-Bzip2-2.09.tar.gz because of this.
	Happened with 5.6.2. Should make this a bugreport.

	http://rt.cpan.org/Ticket/Display.html?id=29787

	* #29754 5.005_05 has a lockfile problem. RESOLVED

	* Todo: more often change the perl config to have more variability;

	* http://rt.cpan.org/Ticket/Display.html?id=29759 whines about Gtk2 not
	finishing its build. Something to do with @32001 in the path.

2007-10-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* what's up with IPC::PubSub breakage? Is it breaking because of its
	dependency on DBM::Deep?

pocpoc=> select * from distroes where name like '%DBM-Deep-%';
  id  |              name
------+--------------------------------
  978 | RKINYON/DBM-Deep-1.0001.tar.gz
 1725 | RKINYON/DBM-Deep-1.0000.tar.gz
 1783 | RKINYON/DBM-Deep-0.983.tar.gz
 3811 | RKINYON/DBM-Deep-1.0004.tar.gz
 3858 | RKINYON/DBM-Deep-1.0006.tar.gz
 3760 | RKINYON/DBM-Deep-1.0002.tar.gz
 3785 | RKINYON/DBM-Deep-1.0003.tar.gz
(7 Zeilen)

pocpoc=> select distro,count(*) from testruns where distro in (978,1725,1783,3811,3858,3760,3785) and testresult='OK' group by distro;
 distro | count 
--------+-------
   1783 |    80
   3811 |     3
    978 |   322
   3858 |     2
   3785 |     6
   3760 |     4
(6 Zeilen)

	Or in one line:

pocpoc=> select distroes.name,count(*) from testruns, distroes where testruns.distro=distroes.id and distroes.name like '%IPC-PubSub-%' and testresult='OK' group by distroes.name;
              name              | count 
--------------------------------+-------
 JESSE/IPC-PubSub-0.24.tar.gz   |   221
 AUDREYT/IPC-PubSub-0.23.tar.gz |    13
 AUDREYT/IPC-PubSub-0.26.tar.gz |   156
 AUDREYT/IPC-PubSub-0.22.tar.gz |    58
(4 Zeilen)

	Only time series can help here. It started failing with 32002, was green
	up to 32001. And indeed this was the first day of DBM-Deep 1.0006

    /home/sand/.cpan/Bundle/Snapshot_2007_10_03_00.pm 32002
	  /home/sand/.cpan/Bundle/Snapshot_2007_10_03_01.pm 32001

	This also marked the change from 64bitint=define zu undef and a non
	debugging perl, CPAN::Reporter 0.99_1[34], lots of other differences.

	But I upgraded 32001 to DBM::Deep 1.0006 and now tests of IPC::PubSub
	fail. Downgrading to DBM::Deep 1.0005 is refused because tests fail. But
	it was not 1.0005, it was 1.0004 that which IPC::PubSub worked with
	flawlessly.

	http://rt.cpan.org/Ticket/Display.html?id=29757

	* bugreport to Jifty would circle on: current SVN tells me to install
	IPC::PubSub, Email::Send, Test::WWW::Declare

	- IPC::PubSub in megainstall but tests failing

	- Email::Send missing in megainstall, added now but tests failing

	- Test::WWW::Declare unknown on CPAN must come from repo (done)

	* EDPRATOMO/Algorithm-Permute-0.06.tar.gz probably needs a binary
	search, it fails to *compile* the XS code. Presumably it has compiled
	once upon a time. 25532 fails; 20002 OK; 23023 OK; OOOPs, I have doen
	this already and reported. See further below.

2007-10-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* JROBINSON/SQL-Translator-0.08001.tar.gz is another BBC candidate.

t/37-translator-graph......Can't locate object method "is_trivial_link" via package "GLOB" at /home/sand/.cpan/build/SQL-Translator-0.08001-oWjySe/blib/lib/SQL/Translator/Schema/Graph.pm line 46.
# Looks like you planned 3 tests but only ran 2.
# Looks like your test died just after 2.
dubious
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED test 3
        Failed 1/3 tests, 66.67% okay

	See 2007-07-03 where I said I cannot run a binary search against it. Now
	I can at least with some manual intervention. 23023 OK. It's hard to run
	this binary search correct because now some of these perls do not pass
	YAML tests and subsequently cannot patch/install Module::Build without
	intervention. 24439 OK. 24759 OK.

	But 24759 depends on YAML and YAML has was not working for 24759 so
	CPAN.pm didn't install it. We have all tests pass but no installation.
	Need to force it. And YAML::XS is also tunneled.

	So we have a very dark tunnel around 24759 with neither YAML nor
	Module::Build. I have a patch for MB but not for YAML.

	In any case 28539 still has the test 37 bug. 25532 OK; 27048 fails;
	26369 (needs force install YAML) OK; 26695 (force install YAML) fails;
	26465 OK; 26545 fails; 26480 OK; ... 496 fails; 488 fails; 484 OK

----Program----
eval q{use SQL::Translator 0.08001};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../psiUhc4/perl-5.8.0@26486/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pQD0dEL/perl-5.8.0@26487/bin/perl----
N/A

----EOF ($?='0')----

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/a7b653fdb4b5fc34/be6f8546211987a0?lnk=gst&q=bbc+translator#be6f8546211987a0

	http://rt.cpan.org/Ticket/Display.html?id=29940


	* RCLAMP/POE-Component-Server-HTTP-0.09.tar.gz looks like a BBC
	candidate 22245 OK. But it's shadowed by the depends on POE-API-Peek
	which was broken by blead for a while around 27514.

	I have the impression that POE::API::Peek started to work on 31051 and
	that POE::Component::Server::HTTP now works too since I have added a
	dependency on POE::API::Peek in my distroprefs file. Nope, the
	dependency on POE::API::Peek is in the Makefile.PL of P:C:S:HTTP.

	Apparently all's well. *Maybe* there's also a configure_requires on POE
	needed somewhere, dunno.

	* IFF Compress::Zlib 2.X does not work we can take
	PMQS/Compress-Zlib-1.42.tar.gz as a replacement!

	Would be nice to find a replacement for Scalar-List-Utils too. 1.19 does
	not work with blead@23023, but 1.17 does.

2007-10-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* off topic: try rob kinyon's bug with the next bleadperl which will
	have no debugging and no int64bit.

2007-09-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* digging into gtk. It always failed because somebody told the Gtk
	self-configuration that something on my system was not sufficient. No
	helpful diagnostics were ever provided.

	Running through the debugger today reveals that it is due to pkg-config.

	Asking pkg-config with the right options reveals a few things

	# pkg-config --exists --print-errors 'gtk+-2.0'

	I had to call it several times and to install libxmu-dev libxinerama-dev
	libxinerama1 (who would have guessed?)

	This does at least let the above command return true.

	But there is still a version requirement in the Gtk2 package that says

	gtk+-2.0 >= 2.0.0

	And surprise, we now fulfill it.

	I think the only bug is the --silence-errors option that I saw in the
	debugger. It should be replaced with --print-errors. Otherwise the user
	never sees an error and has to suffer.

	http://rt.cpan.org/Ticket/Display.html?id=29758

	* todo: add more Tk modules to megainstall. Which are missing?

    4454 2001-05-05 SREZIC/Tk-Autoscroll-1.11.tar.gz         MISS OK
    9563 2007-03-17 SREZIC/Tk-Canvas-Point-0.03.tar.gz       MISS FAIL0 OK1
    8190 2002-08-08 SREZIC/Tk-CanvasFig-1.014.tar.gz         MISS FAIL0 HANG0
    9673 2003-02-12 SREZIC/Tk-ContextHelp-0.10.tar.gz        MISS FAIL0 HANG0
   19515 2007-09-28 SREZIC/Tk-Date-0.42_51.tar.gz            MISS FAIL0 OK1
   10448 2004-07-02 SREZIC/Tk-DateEntry-1.38.tar.gz          MISS FAIL0 OK1
    5193 2005-10-10 SREZIC/Tk-Enscript-1.08.tar.gz           MISS FAIL0 OK1
   10380 2007-04-10 SREZIC/Tk-FontDialog-0.13.tar.gz         HAVE
   25367 2006-05-23 SREZIC/Tk-GBARR-2.07.tar.gz (Tk::Cloth)  MISS FAIL0 OK1
   22275 2005-05-03 SREZIC/Tk-Getopt-0.49.tar.gz             MISS FAIL0 OK1
   10848 2007-02-02 SREZIC/Tk-HistEntry-0.43.tar.gz          HAVE
   19328 2004-07-02 SREZIC/Tk-JPEG-Lite-2.01403.tar.gz       MISS FAIL0 OK1
    8146 2004-09-04 SREZIC/Tk-PathEntry-2.23.tar.gz          MISS FAIL0 OK1
   60117 2007-07-27 SREZIC/Tk-Pod-0.9935.tar.gz              HAVE
    6803 2005-08-25 SREZIC/Tk-Splash-0.14.tar.gz             MISS FAIL0 OK1
  166725 2007-05-11 SREZIC/Tk-TIFF-0.10.tar.gz               MISS FAIL0 OK1
   12299 2007-09-23 SREZIC/Tk-WidgetDump-1.35.tar.gz         MISS FAIL0 OK1
    6855 2004-03-20 SREZIC/Tk-WinPrint-0.05.tar.gz           MISS FAIL1
   12873 2006-09-01 SREZIC/Tk-XMLViewer-0.18.tar.gz          MISS FAIL0 OK1

	HAVE  ... already installed
	MISS  ... not installed yet
	FAIL0 ... fails without DISPLAY
	FAIL1 ... fails compile
	OK    ... OK without DISPLAY
	OK1   ... OK after setting DISPLAY=:121
	HANG0 ... hangs during test with DISPLAY=:121 but doesn't hang with BATCH=1
	
	* DMAKI/Gungho-0.08007.tar.gz

t/03_live/twitter................skipped
        all skipped: Enable GUNGHO_TWITTER_USERNAME and GUNGHO_TWITTER_PASSWORD to run these tests
t/99_kwalitee....................skipped
        all skipped: Enable TEST_KWALITEE to enable these tests
t/99_pod-coverage................skipped
        all skipped: Enable TEST_POD environment variable to test POD
t/99_pod.........................skipped
        all skipped: Enable TEST_POD environment variable to test POD
t/engine/danga-socket/01_load....ok
t/engine/danga-socket/04_dns.....

	and hangs forever. I kill that test and get this summary:

Failed Test                    Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/02_config.t                     1   256     2    1  2
t/engine/danga-socket/04_dns.t    0    15    20   40  1-20
5 tests skipped.
Failed 2/14 test scripts. 21/100 subtests failed.

	All that should be in the report.

	Repeat with maint@31223, same result, this time without sent report
	because it was not running from the CPAN shell. Same failure on danga
	for 5.8.8 but 5.8.8 doesn't have the 02_config failure.

	http://rt.cpan.org/Ticket/Display.html?id=29660

2007-09-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* MSISK/HTML-TableExtract-2.10.tar.gz: I had already RTed months ago
	that it is due to the HTML::TreeBuilder but did I write it into a
	distroprefs file? Yes, Sir, I have:
	distroprefs/MSISK.HTML-TableExtract.yml and that is why since then I
	have ONLY fails.

	Would be cool to offer a fix though.

	But in the interest of sanity it would be better to write a distroprefs
	file automatically that's based on some criterium like, say, no release
	for over N months although since that many months nothing but fail
	reports. This would also be interesting for CPANTS.

	* Todo: write a history of used distroprefs docs so we can identify
	which ones are never used and can be purged.

2007-09-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* MIME-tools-5.421 give me a major headache the testsuite (sometimes?)
	runs into a tight loop of 'Warning: Use of "require" without parentheses
	is ambiguous at (eval 5493800) line 1.' At least now twice for 31952 and
	31955.

	I have to kill this one:
	
sand     14150 55.2 45.6 714620 710088 pts/16  R+   01:32  88:43 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/Gauntlet.t

	But the next test has the same problem

sand     30860 64.8  1.3  24940 20572 pts/16   R+   04:13   1:14 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/Head.t

	And then again for

sand     30969 50.5  0.6  13924  9600 pts/16   R+   04:15   0:14 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/Misc.t

	I repeatedly verify who has the problem with such commands:

% lsof -p 30969|grep cwd
perl    30969 sand  cwd    DIR    9,1    4096 17304047 /home/sand/.cpan/build/MIME-tools-5.421-fuesqd

	But then one after the other

sand     31244 49.3  0.8  16868 12544 pts/16   R+   04:17   0:23 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/Parser.t
sand     31363 46.6  0.8  17768 13480 pts/16   R+   04:18   0:21 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/ParserEncoded.t
sand     31578 34.0  0.6  14100  9888 pts/16   R+   04:20   0:09 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/ParserPreamble.t
sand     31608 52.5  0.8  17696 13376 pts/16   R+   04:20   0:27 /home/src/perl/repoperls/installed-perls/perl/pN0oLia/perl-5.8.0@31955/bin/perl -w t/Ref.t

	Now we're done. I urgently need a solution for that. Both for a
	bugreport and for the meta stuff with probably POE. Or commandline.

	Interesting enough is that Mt-5.421 is young and I have 4 OKs up to
	31945. Compare autobundle with @31945 and @31952 and @31955:

	/home/sand/.cpan/Bundle/Snapshot_2007_09_25_0[012].pm

	Diffs are worthless because the latter two were killed. But I can reproduce the bug.

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/c69cf6ab2b16f985/62b09eab3381584f?lnk=gst&q=%22is+ambiguous%22&rnum=8#62b09eab3381584f

	How could I forget that thread.
	

2007-09-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* between bleadperl 31895 and 31937 we went from 215 fails to 159.
	Supercool but still hard to write good reports about it.

	* Bug in RECENT code: somebody removes a file from PAUSE and forgets to
	pass over to the RECENT file. Then the receiver needs a more tolerant
	strategy than the current one. Currently he retries until he gets the
	deleted file which is never and only then he would publish his own
	RECENT file.

	* Net-DNS also broke recently
	
	2007-09-17T14:22 	perl 	31882 	239 	OLAF/Net-DNS-0.61.tar.gz 	NOT OK
	2007-09-15T00:06 	perl 	31866 	110 	OLAF/Net-DNS-0.61.tar.gz 	OK

	and since then 4 NOT OKs and then when Test::Simple 0.72 appeared

	2007-09-21T13:33 	perl 	31937 	472 	OLAF/Net-DNS-0.61.tar.gz 	OK
	2007-09-19T10:43 	perl 	31895 	242 	OLAF/Net-DNS-0.61.tar.gz 	NOT OK

	http://rt.cpan.org/Ticket/Display.html?id=29558

2007-09-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* sand sand 2421684982 Sep 21 22:14 megainstall.20070921T0555.out

	% tail -6 logs/megainstall.20070921T0555.out|uniq
Warning: Use of "require" without parentheses is ambiguous at (eval 2354390) line 1.
closedir() attempted on invalid dirhandle DIR at /home/src/perl/repoperls/installed-perls/perl/prTyqXp/perl-5.8.0@31933/lib/site_perl/5.10.0/Mail/Field.pm line 91.


2007-09-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* bug: the locking in the recentfile seems broken. yesterday the yaml
	file got truncated at Tue Sep 18 13:56:04 2007

2007-09-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* new fails (everything related to Test::Simple?)
		
	PAJAS/XML-LibXML-1.64.tar.gz[172]
	PAJAS/XML-LibXSLT-1.63.tar.gz[173]
	PETDANCE/WWW-Mechanize-1.30.tar.gz[200]
	PETDANCE/Test-WWW-Mechanize-1.14.tar.gz[204]
	BDFOY/Test-Manifest-1.17.tar.gz[208]
	URI/File-Slurp-9999.12.tar.gz[220]
	ADAMK/File-Flat-1.00.tar.gz[222]
	ADAMK/Test-Inline-2.207.tar.gz[224]
	OLAF/Net-DNS-0.61.tar.gz[239]
	RJBS/Email-Valid-0.179.tar.gz[240]
	MIYAGAWA/Email-Find-0.10.tar.gz[241]
	HEX/WWW-Live365-0.12.tar.gz[272]
	BBC/File-Policy-1.005.tar.gz[344]
	BBC/Email-MIME-CreateHTML-1.026.tar.gz[348]
	MIYAGAWA/Email-Valid-Loose-0.05.tar.gz[415]
	MIROD/XML-Twig-3.29.tar.gz[576]
	AMBS/XML/XML-DT-0.47.tar.gz[585]
	TBONE/Net-FTP-Common-6.0.tar.gz[653]
	JMGDOC/OpenOffice-OODoc-2.035.tar.gz[721]
	RCAPUTO/POE-Component-Client-DNS-1.00.tar.gz[728]
	RCAPUTO/POE-Component-Client-Keepalive-0.1000.tar.gz[729]
	CFRANKS/HTML-Widget-1.11.tar.gz[787]
	SRI/Catalyst-Plugin-HTML-Widget-1.1.tar.gz[788]
	YANICK/XML-XPathScript-1.52.tar.gz[836]
	BINGOS/POE-Component-Server-IRC-1.18.tar.gz[873]
	MIYAGAWA/CGI-Untaint-email-0.03.tar.gz[904]
	SCHUBIGER/Module-Build-Convert-0.49.tar.gz[915]
	MUIR/modules/Daemon-Generic-0.51.tar.gz[920]
	JROCKWAY/Directory-Scratch-0.12.tar.gz[984]
	PARDUS/File-MimeInfo/File-MimeInfo-0.14.tar.gz[1077]
	LBROCARD/Test-WWW-Mechanize-Catalyst-0.40.tar.gz[1079]
	YARON/WWW-Monitor-0.24.tar.gz[1087]

	* AndyA: > Ah sorry about that. We've recently added a line that says

  > Result: PASS
  > Result: FAIL
  > Result: NOTESTS

  > That was added to make life easier for CPAN::Reporter and other meta-
  > harnesses.

  > Does that help at all? We're committed to keeping that. If we ever


	* PDL broke a while back

	2007-07-24T21:46 	perl 	31650 	1001 	CSOE/PDL-2.4.3.tar.gz 	NOT OK
	2007-07-24T00:10 	perl 	31649 	790 	CSOE/PDL-2.4.3.tar.gz 	OK

	since then it's red, seemingly failing on the make phase. re-testing
	with an older perl, @31613, succeeds on the make phase. But this doesn't
	prove anything because all prereqs are already there. And then it fails
	on the test phase in t/xvals.t. 31650 also failed on xvals.t. Now we
	have a prove that it's not blead related but to some other factor.

	But now, what has been upgraded on 31613 since then? Unfortunately
	timestamps have changed because of the cleanup of hardlinks. autobundle
	comparisons don't help because I have no succeeding version of PDL at
	hand.

	I'll have to try these:

installed-perls/perl/prYHaRP/perl-5.8.0@31021/bin/perl FAIL
installed-perls/perl/pnKRDVH/perl-5.8.0@31078/bin/perl FAIL
installed-perls/perl/p9kRmP3/perl-5.8.0@31113/bin/perl FAIL
installed-perls/perl/pn6vGWK/perl-5.8.0@31187/bin/perl FAIL
installed-perls/perl/pOCMj1r/perl-5.8.0@31251/bin/perl FAIL
installed-perls/perl/pbULX5j/perl-5.8.0@31281/bin/perl FAIL
installed-perls/perl/p8ObZoq/perl-5.8.0@31319/bin/perl FAIL
installed-perls/perl/pL3qrBd/perl-5.8.0@31384/bin/perl FAIL
installed-perls/perl/pi12oAh/perl-5.8.0@31429/bin/perl FAIL
installed-perls/perl/pzqCeY9/perl-5.8.0@31509/bin/perl FAIL
installed-perls/perl/pX10SPP/perl-5.8.0@31563/bin/perl FAIL


2007-09-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* new fails

  BDFOY/Test-Prereq-1.033.tar.gz[100]
	DROLSKY/DateTime-0.41.tar.gz[144]
	DROLSKY/DateTime-Format-Mail-0.3001.tar.gz[145]
	LLAP/SVG-TT-Graph-0.09.tar.gz[177]
	FGLOCK/DateTime-Set-0.25.tar.gz[227]
	FGLOCK/DateTime-Event-Recurrence-0.16.tar.gz[238]
	KELLAN/DateTime-Format-W3CDTF-0.04.tar.gz[293]
	ABH/XML-RSS-1.31.tar.gz[295]
	RONAN/SVG-Template-Graph-0.12.tar.gz[311]
	MARKSTOS/Data-FormValidator-4.51.tar.gz[461]
	MRAMBERG/Catalyst-Plugin-FormValidator-0.02.tar.gz[462]
	RJBS/Date-Span-1.121.tar.gz[483]
	RJBS/Email-Send-2.185.tar.gz[487]
	JSIRACUSA/Rose-DateTime-0.532.tar.gz[664]
	ROBM/Cache-FastMmap-1.19.tar.gz[708]
	NUFFIN/Catalyst-Plugin-Session-Store-FastMmap-0.03.tar.gz[709]
	NUFFIN/Catalyst-Plugin-Session-State-Cookie-0.08.tar.gz[710]
	MRAMBERG/Catalyst-Plugin-Authentication-Store-DBIC-0.09.tar.gz[712]
	SCHUBIGER/DateTime-Format-Natural-0.39.tar.gz[745]
	JUERD/DBIx-Simple-1.31.tar.gz[829]
	FGLOCK/DateTime-Event-ICal-0.09.tar.gz[835]
	DROLSKY/DateTime-Format-ICal-0.08.tar.gz[836]
	DPAVLIN/Search-Estraier-0.08.tar.gz[843]
	MIYAGAWA/XML-Atom-0.27.tar.gz[857]
	PIJLL/DateTime-Format-Epoch-0.10.tar.gz[876]
	DMAKI/DateTime-Util-Calc-0.13002.tar.gz[878]
	DMAKI/DateTime-Util-Astro-0.11001.tar.gz[879]
	DMAKI/DateTime-Event-Lunar-0.06.tar.gz[880]
	DMAKI/DateTime-Util-Astro-0.08.tar.gz[881]
	DMAKI/DateTime-Event-SolarTerm-0.05.tar.gz[882]
	DMAKI/DateTime-Event-Chinese-0.05.tar.gz[883]
	DMAKI/DateTime-Calendar-Chinese-0.07.tar.gz[884]

	* this came about at 20:37:

Syncing (277/312) A/AJ/AJPEACOCK/CHECKSUMS
Syncing (281/312) B/BL/BLOONIX/CHECKSUMS
Syncing (282/312) C/CA/CASIANO/CHECKSUMS
Syncing (286/312) D/DG/DGRIZZANT/CHECKSUMS
Syncing (288/312) D/DM/DMAKI/CHECKSUMS
Syncing (290/312) F/FE/FERREIRA/CHECKSUMS
Syncing (292/312) H/HM/HMBRAND/CHECKSUMS
Syncing (293/312) J/JO/JOHANL/CHECKSUMS
Syncing (295/312) J/JU/JUERD/CHECKSUMS
Syncing (296/312) M/ML/MLEHMANN/CHECKSUMS
Syncing (299/312) M/MR/MRAMBERG/CHECKSUMS
Syncing (302/312) N/NU/NUFFIN/CHECKSUMS
Syncing (304/312) CHECKSUMS
Syncing (307/312) R/RK/RKRIMEN/CHECKSUMS
Syncing (308/312) S/SL/SLANNING/CHECKSUMS
Syncing (311/312) T/TS/TSCH/CHECKSUMS
Syncing (312/312) W/WY/WYANT/CHECKSUMS

	It seems that we still produce more CHECKSUMS file than necessary.

	* Todo: autobox BBC article

	* http://use.perl.org/~schwern/journal/34469

	Schwern about version advisories. Very nice.

2007-09-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* strptime/https://rt.cpan.org/Ticket/Display.html?id=29330

	How could it happen that strptime broke from one day to the other?
	When exactly did it happen?

	2007-09-11T23:51 	perl 	31847 	DateTime-Format-Strptime-1.0700 	NOT OK
	2007-09-11T10:45 	perl 	31843 	DateTime-Format-Strptime-1.0700 	OK

	Snapshot_2007_09_16_0[01].pm... DROLSKY/DateTime-Locale-0.35.tar.gz
	broke it.

2007-09-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Strangely Tie::Cache fails on one bleadperl, 31854. Binary search
	backwards is running. 31863 has it fixed again, need a binary search
	forwards too.

	----Program----
	eval {require Tie::Cache};
	print $@ ? "N/A" : "OK";
	print "\n";

	----Output of .../pOP4da9/perl-5.8.0@30730/bin/perl----
	OK

	----EOF ($?='0')----
	----Output of .../p8QFKbX/perl-5.8.0@30740/bin/perl----
	N/A

	----EOF ($?='0')----
	Need a perl between 30730 and 30740
	No patch available between 30730 and 30740

	----Program----
	eval {require Tie::Cache};
	print $@ ? "N/A" : "OK";
	print "\n";

	----Output of .../pz4RKIn/perl-5.8.0@31854/bin/perl----
	N/A

	----EOF ($?='0')----
	----Output of .../pwjI8Em/perl-5.8.0@31855/bin/perl----
	OK

	----EOF ($?='0')----

	30740 is sv_dup() and cache related but 31855 is NAN_COMPARE_BROKEN
	related. Very strange.	

2007-09-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* http://www.nntp.perl.org/group/perl.cpan.testers/

	says that I tested 

	PASS Acme-Pythonic-0.46 i686-linux-64int 2.6.16-2-k7 	1 message 	andreas.koenig.gmwojprw 	13:47

	That seems to be the same as

	23:00  * GumbyNET2 cpan.testers: PASS Acme-Pythonic-0.46 perl-5.6.2 
          i686-linux-64int 2.6.16-2-k7 andreas.koenig.gmwojprw@franz.ak.mind.de

	22060 22:47:11.7952 test PASS Acme-Pythonic-0.46 (perl-5.6.2) i686-linux-64int 2.6.16-2-k7

	So we have 9 hours time shift.

	* 23:16 <@klapperl> I see no showstopper in CPAN.pm.
23:17 <@klapperl> I'll have a 1.91_54 by next weekend
23:17 <@xdg> All high priority CPAN::Reporter features are in.  (E.g. duplicate 
             report checks by phase)
23:17 <@klapperl> and after a week we could roll 1.92
23:17 <@xdg> Great!
23:17 <@klapperl> great!

	* tentative posting to Module::Build

	Recently, on IRC (off the top of my head):

	<klapperl>: so can you explain why the compatibility layer is broken?
	<ewilhelm>: jeez, it is the *compatibility layer*

	I think it's time that Module::Build considers another compatibility
	layer in addition to the existing one. This is just a raw sketch to get
	some talk going, I have not actually tried to work this out. So what
	would people think of this:

	Build.PL has a new option
	    ...
	    diplomatic_makefile_pl => 1,
	    ...

	generated Makefile.PL
	    if (eval { require Module::Build; 1}){
	      # if user has Module::Build installed we use it
        system $^X, "Build.PL";
	      write_diplomatic_makefile;
	    } else {
	      beg_user_to_install_module_build_asap();
		    write_traditional_compat_makefile();
	    }

	the generated diplomatic Makefile would then contain:
	    default:
	      ./Build
      test:
	      ./Build test
	    install
	      ./Build install
	    [...etc...]

	Has this been tried? Does it have pitfalls? It seems so easy and
	natural. Isn't anybody keen implementing it?

	* switching back to EUMM for one smoke and then back to MB with the
	distroprefs for MethodMaker which needs EUMM.

2007-09-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* trying to summarize where Build.PL is inferior to Makefile.PL:

	SCHWIGON/class-methodmaker/Class-MethodMaker-2.10.tar.gz
	   (FLUFFY/Term-ProgressBar-2.09.tar.gz dependent)

	Steffen seems to be the only one.

	* ----Program----
eval q{use autobox 1.10};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pAtHKhk/perl-5.8.0@25563/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pGuLryz/perl-5.8.0@25570/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 25563 and 25570
No patch available between 25563 and 25570


	* the job with prefer_installer=MB has finished and this are the new fails:

	new fails
    ZOOLEIKA/RDF-Simple-0.3.tar.gz[64],
	  SCHWIGON/class-methodmaker/Class-MethodMaker-2.10.tar.gz[170],
	  FLORA/Net-SSLeay-1.32.tar.gz[376],
	  SULLR/IO-Socket-SSL-1.08.tar.gz[377],
	  AWESTHOLM/Net-SMTP-TLS-0.12.tar.gz[378],
	  HIROSE/Net-SSL-ExpireDate-1.04.tar.gz[518],
	  JASONK/Business-OnlinePayment-2.01.tar.gz[933],
	  JESSE/GnuPG-Interface-0.36.tar.gz[949],
	  SCHWIGON/pdf-fdf-simple/PDF-FDF-Simple-0.11.tar.gz[1058],
	  JPEACOCK/SVN-Notify-Mirror-0.03603.tar.gz[1088],
	  FLORA/Catalyst-View-Mason-0.13.tar.gz[1169],
	  APOCAL/POE-Component-SSLify-0.08.tar.gz[1226],
	  NUFFIN/Catalyst-Plugin-Session-State-Cookie-0.07.tar.gz[1263],
	  DKAMHOLZ/Catalyst-Plugin-Authentication-Store-DBIC-0.07.tar.gz[1264],
	  JROCKWAY/Task-Catalyst-Tutorial-0.03.tar.gz[1270],
	  FLUFFY/Term-ProgressBar-2.09.tar.gz[1273],
	  MARKOV/XML-Compile-0.53.tar.gz[1276],
	  MWS/ResourcePool-1.0104.tar.gz[1282],
	  CHROMATIC/Crypt-CipherSaber-1.00.tar.gz[1293]

	Some problems of a different kind with these, they were either not
	processed at all or the logfile parser did not find them:

	gone
    /home/src/perl/cpan-sql-stuff/CPAN-SQLite/.,
	  ADAMK/Chart-Math-Axis-1.00.tar.gz,
	  AGRUNDMA/Catalyst-Engine-Apache-1.11.tar.gz,
	  ANDYA/Perl-Version-v1.000.tar.gz,
	  BRICAS/Catalyst-Plugin-I18N-0.06.tar.gz,
	  DKAMHOLZ/Authen-Htpasswd-0.16.tar.gz,
	  DKAMHOLZ/Catalyst-Plugin-Authentication-Store-Htpasswd-0.02.tar.gz,
	  DMAKI/DateTime-Util-Astro-0.08.tar.gz,
	  DOWENS/JSON-DWIW-0.13.tar.gz,
	  DROLSKY/HTML-Mason-1.36.tar.gz,
	  ESSKAR/Catalyst-Plugin-Session-Store-File-0.10.tar.gz,
	  FDALY/Test-Deep-0.097.tar.gz,
	  GAAS/Array-RefElem-1.00.tar.gz,
	  HOLOWAY/Catalyst-Log-Log4perl-1.00.tar.gz,
	  JCAMACHO/Catalyst-Controller-FormBuilder-0.04.tar.gz,
	  JDHEDDEN/Object-InsideOut-3.21.tar.gz,
	  JURACH/FCGI-ProcManager-0.17.tar.gz,
	  MARKOV/XML-Compile-0.52.tar.gz,
	  MRAMBERG/Catalyst-Plugin-Prototype-1.33.tar.gz,
	  MSCHWERN/Class-Fields-0.202.tar.gz,
	  NODINE/Text-ASCIIMathML-0.3.tar.gz,
	  NUFFIN/Catalyst-Controller-BindLex-0.03.tar.gz,
	  NUFFIN/Catalyst-Plugin-Session-State-URI-0.07.tar.gz,
	  NWIGER/CGI-FormBuilder-3.0501.tgz,
	  SKIMO/FCGI-0.67.tar.gz


2007-09-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ooooops:

   ----- The following addresses had permanent fatal errors -----
<cpan-testers@perl.org>
    (reason: 550 sorry, your envelope sender is in my badmailfrom list)

	So my last 1842 reports have not been accepted by cpantesters:-(

	* how do ~/.cpanreporter/history.db and ~/.cpanreporter/reports-sent.db sync?

	* Todo/Bug: Alzabo-GUI-Mason runs into endless loops during its dialog with me.
	Some directory doesn't exist, it says.

2007-09-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* I just set prefer_installer=MB after @31806 finished. I promised that
	on IRC#toolchain to ewilhelm, need to report after the next smoke.
	Schwern made it a ticket:
	http://rt.cpan.org/Ticket/Display.html?id=29235

	* sorry for the German. This is a bugreport from Slaven describing that
	eexpect/anyorder is slower than necessary, sometimes annoyingly slow. I
	confirm and we tried to hash out solutions.

	>>>>> On 21 Jul 2007 16:01:21 +0200, Slaven Rezic <slaven@rezic.de> said:

 >> > Lösungsvorschläge: der Output wird solange gesammelt, bis es einen
 >> > Match gibt. Dann wird der Match ausgeführt und der bisherige Output
 >> > weggeschmissen (aber was ist, wenn der Output auch schon was vom
 >> > nächsten Match enthält?). Oder du baust aus allen Regexpes ein großes
 >> > per "(" . join("|", grep { $i++%2==0 } @talk) . ")" und fütterst -re
 >> > damit?
 >> 
 >> Noch gefaellt mir der Vorschlag nicht, aber ich glaube, wir kommen der
 >> Sache naeher.

  > Wieso eigentlich?

Sorry, ich habe keinen wirklicher Grund, reines Bauchgefuehl, dass ich
die Konsequenzen nicht ueberblicken kann.

  > Der letzte Vorschlag könnte gut funktionieren, weil
  > dadurch _run_via_expect_anyorder und _run_via_expect_deterministic
  > ähnlicher werden: im ersten Fall gibt es einen Match gegen alle
  > Patterns, im zweiten Fall einen Match gegen genau ein Pattern.

Man sollte auch in Betracht ziehen, was einem Expect selbst fuer
diesen Fall anbietet. Man kann ja alle Regexes gleichzeitig ins Rennen
schmeissen. Irgendwie. So richtig habe ich es damals nicht verstanden,
wie es geht.

 >> Das muesste gehen: wir setzen das Timeout auf eine Viertel Sekunde
 >> oder so. Wenn wir nicht matchen, geben wir erstmal *nicht* auf,
 >> sondern kumulieren. Wenn wir eine gewisse Menge Timeout nichts mehr
 >> erhalten haben und noch immer nicht matchen, geben wir auf. Ansonsten
 >> wie bisher.
 >> 
 >> Irgendwie klingt das zu einfach, um wahr zu sein. Aber ich glaube, das
 >> ist's, was wir beide wollen, und ich sehe keinen Nachteil.
 >> 

  > Ich werd's dann versuchen. Ich habe jetzt übrigens timeout:1 gesetzt,
  > das macht die Sache einigermaßen erträglich.


2007-09-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: somebody broke *.bs files with crap content recently. Leads to
	tons of error messages with no (?) consequences but screen noise. I
	removed all these broken *.bs files but now I have no idea where they
	were coming from. Too much smoking produces too thick air.

	Mark Overmeer just complained about the resulting smoke reports. When I
	look into my mailq I find only two large mails waiting for delivery, all
	others are fine. So how do I find out who wrote these files?

	I first remove the crap in my mailq. Done, so we have only 235 mails in
	the mqueue which look OK. For the record, the following are the latest
	smokes (but their dependencies naturally missing). All times CEST. At
	21:27 we had already a broken system.

	Fri Sep  7 02:55:57 2007 JOHANL/Devel-PerlySense-0.01_11.tar.gz
  Fri Sep  7 02:11:40 2007 LUKEC/Socialtext-Resting-RSS-0.01.tar.gz
  Fri Sep  7 01:47:30 2007 JOHANL/Devel-PerlySense-0.01_10.tar.gz
  Fri Sep  7 00:19:12 2007 JUERD/Unicode-Semantics-1.02.tar.gz
  Thu Sep  6 23:48:44 2007 TOBY/Geo-Coordinates-OSGB-2.01.tar.gz
  Thu Sep  6 23:48:32 2007 FDALY/Test-Deep-0.098.tar.gz
  Thu Sep  6 23:38:13 2007 CORION/HTML-Display-0.38.tar.gz
  Thu Sep  6 22:26:16 2007 REEDFISH/Net-FullAuto-0.03.tar.gz
  Thu Sep  6 22:15:57 2007 EMORGAN/MyLibrary-3.0.4.tar.gz
  Thu Sep  6 21:58:05 2007 SLANNING/Ogre-0.24.tar.gz
  Thu Sep  6 21:43:59 2007 AGRUNDMA/POE-Filter-Slim-CLI-0.01.tar.gz
  Thu Sep  6 21:27:22 2007 MARKOV/XML-Compile-0.53.tar.gz
  Thu Sep  6 21:15:48 2007 ATOURBIN/rpm-build-perl-0.6.4.tar.gz
  Thu Sep  6 20:13:56 2007 REEDFISH/Net-FullAuto-0.02.tar.gz
  Thu Sep  6 18:38:06 2007 KEN/XML-XML2JSON-0.02.tar.gz
  Thu Sep  6 18:32:48 2007 REEDFISH/Net-FullAuto-0.01.tar.gz
  Thu Sep  6 18:28:47 2007 PERNST/Bio-Emboss-5.0.0.1.tar.gz
  Thu Sep  6 18:23:26 2007 DROLSKY/HTML-Mason-1.37.tar.gz
  Thu Sep  6 17:47:59 2007 PANGJ/IP-ChinaISP-0.02.tgz
  Thu Sep  6 17:01:12 2007 CASIANO/GRID-Machine-0.077.tar.gz
  Thu Sep  6 15:56:48 2007 JQUELIN/Tk-RotatingGauge-0.02.tar.gz
  Thu Sep  6 13:04:21 2007 JQUELIN/Tk-RotatingGauge-0.01.tar.gz
  Thu Sep  6 13:02:55 2007 ASH/WWW-Mechanize-TreeBuilder-1.00002.tar.gz
  Thu Sep  6 12:51:19 2007 BINGOS/POE-Component-Server-DNS-0.12.tar.gz
  Thu Sep  6 12:43:31 2007 LDS/Bio-Das-1.06.tar.gz
  Thu Sep  6 12:25:40 2007 GCERRAI/Package-Data-Inheritable-0.02.tar.gz
  Thu Sep  6 12:24:07 2007 LDS/Bio-Das-1.05.tar.gz
  Thu Sep  6 12:10:02 2007 CASIANO/GRID-Machine-0.076.tar.gz
  Thu Sep  6 11:44:38 2007 SMUELLER/Math-ConvexHull-1.02.tar.gz
  Thu Sep  6 11:10:25 2007 CASIANO/GRID-Machine-0.075.tar.gz
  Thu Sep  6 11:05:08 2007 GCERRAI/Package-Data-Inheritable-0.01.tar.gz
  Thu Sep  6 10:56:06 2007 DESPAIR/Net-Whois-Raw-1.31.tar.gz
  Thu Sep  6 10:13:05 2007 PJF/IPC-System-Simple-0.06.tar.gz
  Thu Sep  6 08:46:02 2007 DESPAIR/Net-Domain-ExpireDate-0.80.tar.gz
  Thu Sep  6 08:45:50 2007 DESPAIR/Net-Whois-Raw-1.30.tar.gz
  Thu Sep  6 07:45:11 2007 CDOLAN/Net-IP-Match-Regexp-1.00.tar.gz
  Thu Sep  6 06:14:23 2007 JMADLER/Acme-LeetSpeak-0.01.tar.gz
  Thu Sep  6 06:05:20 2007 MKANAT/VCI-0.1.0_3.tar.gz
  Thu Sep  6 04:39:33 2007 TURNERJW/Tk-TextHighlight-1.0.2.tar.gz
  Thu Sep  6 03:12:29 2007 PANGJ/IP-ChinaISP.tgz
  Thu Sep  6 02:42:05 2007 JOHANL/Devel-PerlySense-0.01_09.tar.gz
  Thu Sep  6 02:16:41 2007 JOHANL/Devel-PerlySense-0.01_08.tar.gz
  Thu Sep  6 00:48:24 2007 DAGOLDEN/CPAN-Reporter-0.99_07.tar.gz
  Wed Sep  5 23:52:49 2007 DDICK/Net-DNS-DynDNS-0.95.tar.gz
  Wed Sep  5 23:42:30 2007 CHRMUE/Socket-Class-1.1.0.tar.gz
  Wed Sep  5 23:09:40 2007 PAJOUT/XML-Trivial-0.02.tar.gz
  Wed Sep  5 23:08:13 2007 DAGOLDEN/CPAN-Reporter-0.99_06.tar.gz
  Wed Sep  5 22:57:54 2007 DSNOPEK/POE-Component-MessageQueue-0.1.6.tar.gz
  Wed Sep  5 21:33:13 2007 CORION/HTML-Display-0.37.tar.gz
  Wed Sep  5 21:18:01 2007 KEN/XML-XML2JSON-0.01.tar.gz
  Wed Sep  5 21:16:35 2007 GWYN/Text-Diff-Parser-0.07.tar.gz
  Wed Sep  5 19:33:12 2007 BINGOS/POE-Component-Server-DNS-0.11.tar.gz
  Wed Sep  5 19:15:18 2007 ALEXMASS/InSilicoSpectro-Databanks-0.0.21.tar.gz
  Wed Sep  5 18:29:47 2007 BLBLACK/POE-Loop-Event_Lib-0.001_01.tar.gz
  Wed Sep  5 17:27:54 2007 SMUELLER/Archive-Unzip-Burst-0.02_01.tar.gz
  Wed Sep  5 17:17:35 2007 URKLE/DJabberd-VCard-LDAP-0.03.tar.gz
  Wed Sep  5 17:07:16 2007 KARJALA/MyXML/XML-MyXML-0.0985.tar.gz
  Wed Sep  5 16:10:25 2007 ISAAC/Business-PayPal-EWP-1.00.tar.gz
  Wed Sep  5 16:03:54 2007 DGL/Net-CouchDb-0.01.tar.gz
  Wed Sep  5 15:47:17 2007 JDHEDDEN/threads-shared-1.13.tar.gz
  Wed Sep  5 15:38:10 2007 ISAAC/Business-PayPal-EWP-0.03.tar.gz
  Wed Sep  5 15:22:47 2007 JDHEDDEN/threads-1.65.tar.gz
  Wed Sep  5 15:18:46 2007 JSCHNEID/DBIx-ORM-Declarative-0.21.tar.gz
  Wed Sep  5 14:55:53 2007 JSCHNEID/DBIx-ORM-Declarative-0.20.tar.gz
  Wed Sep  5 14:48:06 2007 YAPPO/Class-Component-0.06.tar.gz
  Wed Sep  5 14:25:13 2007 TBUSCH/Text-Scan-0.29.tar.gz


	Here is still one of the broken bs file:

-rw-rw-rw- 23942 sand sand 2217 Sep  6 22:09 /home/src/perl/repoperls/installed-perls/maint-5.8/pFrR8O4/perl-5.8.0@31223/lib/5.8.8/i686-linux-thread-multi-64int/auto/File/Glob/Glob.bs

	And I find 163 identical *.bs files scattered all over the place with
	the same timestamp. And they all start with

/home/src/perl/repoperls/installed-perls/maint-5.8/p4wjLcy/perl-5.8.0@22552/lib/site_perl/5.8.3/i686-linux-thread-multi-64int/Data/Dump/Streamer.pm
/home/src/perl/repoperls/installed-perls/maint-5.8/p4wjLcy/perl-5.8.0@22552/lib/site_perl/5.8.3/i686-linux-thread-multi-64int/Data/Dump/Streamer/_/Printers.pm
/home/src/perl/repoperls/installed-perls/maint-5.8/p4wjLcy/perl-5.8.0@22552/lib/site_perl/5.8.3/i686-linux-thread-multi-64int/auto/Data/Dump/Streamer/Streamer.bs
/home/src/perl/repoperls/installed-perls/maint-5.8/p4wjLcy/perl-5.8.0@22552/lib/site_perl/5.8.3/i686-linux-thread-multi-64int/auto/Data/Dump/Streamer/Streamer.so
/home/src/perl/repoperls/installed-perls/maint-5.8/p4wjLcy/perl-5.8.0@22552/man/man3/Data::Dump::Streamer.3
/home/src/perl/repoperls/installed-perls/maint-5.8/pFrR8O4/perl-5.8.0@31223/lib/site_perl/5.8.8/i686-linux-thread-multi-64int/Data/Dump/Streamer.pm
/home/src/perl/repoperls/installed-perls/maint-5.8/pFrR8O4/perl-5.8.0@31223/lib/site_perl/5.8.8/i686-linux-thread-multi-64int/Data/Dump/Streamer/_/Printers.pm
/home/src/perl/repoperls/installed-perls/maint-5.8/pFrR8O4/perl-5.8.0@31223/lib/site_perl/5.8.8/i686-linux-thread-multi-64int/auto/Data/Dump/Streamer/Streamer.bs
/home/src/perl/repoperls/installed-perls/maint-5.8/pFrR8O4/perl-5.8.0@31223/lib/site_perl/5.8.8/i686-linux-thread-multi-64int/auto/Data/Dump/Streamer/Streamer.so
[...]

	What was smoking with 31223 at 22:09? I just searched for my reports on
	rpm-build-perl on http://www.nntp.perl.org/group/perl.cpan.testers/ and
	they seem to be fine.

	In my eyes there is only one candidate at the moment: DDS.

	In the meantime Max Maischain (CORION) complained as well.

	Update 2007-09-08: I just discovered that not only the 10 perls were
	broken that I'm using to smoke but many, many others as well. The
	timestamp of the file is 2007-09-06T22:09, they have 2217 bytes and have
	the same md5sum and although I have already deleted plenty of them I
	still count 22049 of these files. Somebody was really busy.

	Hrm. Now I have a suspect. My trimtrees is most likely to blame. These
	files will have the same inode and somebody only changed one random
	zero-byte file without unlinking it first and all this happened. Yes?
	Indeed, the inode is 1855345.

	So I'll have to fix trimtrees:-(
	
2007-09-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Something broke my parser for the output of the test runs.
	residuum.yml are the unparsed lines. Ahhh, it's the new //hint// line.
	FIXED.

% ls -l logs/megainstall.200709*.d/residuum.yml
-rw-rw-r-- 1 sand sand   86009 Sep  1 08:05 logs/megainstall.20070901T0114.d/residuum.yml
-rw-rw-r-- 1 sand sand   84530 Sep  1 23:34 logs/megainstall.20070901T1206.d/residuum.yml
-rw-rw-r-- 1 sand sand   71977 Sep  3 03:48 logs/megainstall.20070902T1240.d/residuum.yml
-rw-rw-r-- 1 sand sand 4168125 Sep  5 13:18 logs/megainstall.20070905T0107.d/residuum.yml
-rw-rw-r-- 1 sand sand 4307567 Sep  6 03:28 logs/megainstall.20070905T1716.d/residuum.yml

2007-09-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug in Pod::XXX: when writing manpage for
	TOBY/Geo-Coordinates-OSGB-2.00.tar.gz there is a pm file with 11 MB.
	Some perls do that without hesitating but others (and they seem to be
	the more recent ones) never seem to finish.

2007-09-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: with a Makefile.PL that has a timestamp in the future, we cannot
	proceed very far. Because the generated Makefile will be outdated.
	Likewise with all other files in a distro.

	* Todo: config option to enable code refs in YAML. (LoadCode)
	        rafl: DONE

2007-08-30  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* hashed out on the bus with anonymous, how the endless loop of RECENT
	testing shall look like: one never dying job produces POE sessions that
	shall test some distro with some perl. This queue is always keeping two
	or three jobs active in parallel and watches stdout+stderr. If for more
	than 10 minutes no output is produced the job gets a SIGSTOP and it is
	moved to the unlimited(?) heap of hangers and the next job from the
	queue is made active. Somebody provides us an interface to send stdin to
	one of the hangers. As soon as this is done that job gets queued again
	and is not considered a hanger anymore. The queuerunner will then send
	it a SIGCONT to activate it. Somebody provides us an interface to list
	all hangers, and one to show the output of one hanger.

	http://gumbynet.org.uk/hackintro/
	http://gumbynet.org.uk/hackathon/

	* todo: commit bit for florian

2007-08-29  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* bug from tina: new debian without gcc. Then install Bundle::CPAN and
	it leads to the installation of a Compress::Zlib that does not work
	because it was not compiled. (fakeroot/debootstrap?)

2007-08-28  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* cpan-testers-discuss@perl.org list subscribe

	* RECENT file: quartely/monthly/weekly/daily

	* discussion list/bofs/david golden, foxson, barbie

	* email headers/subject line ==> http upload ==> subscribe/unsubscribe
	==> fail-safeness of email cannot be topped

	* pita...

	* BOF: Offline testing: Smoke needs a way to store the produced emails

	* David Cantrell Feature request: every time I have no distroprefs and
	have to answer some question, CPAN.pm should look over my sholder, record
	the answers and write the according distroprefs file for me. Or
	something.

	* why did the tests not fail when windows 98 had no flock? Because
	Expect was not installed, I think.

	* off topic: get cable back from Ovid

	* Todo: add FUSE stuff to megainstall.txt DONE

2007-08-27  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* recap todos: 

	jariaalto/28952: move gpg key import from Makefile.PL to FirstTime and
	allow tight control over the gpg call itself.

	adam kennedy: set XXX_VERSION

	david cantrell: make verbosity controllable: $redef, myconfig, Lockfile,
	PERL5LIB, DEL, scanning, scan_cache, ... This should probably be done
	with some optprint method to make the call selfdocumenting. But that's
	not the $Frontend's business. We must change
	$CPAN::Frontend->myprint($what) to
	CPAN::Shell->optprint(category,threshold,$what).

	david cantrell: add a CPAN::API::HOWTO manpage DONE

	Integrate cpan_home into the new FirstTime manpage.

	differentiate what to download on which command: an 'a' or 'ls' needs
	only authors index. see also "ttl".

	RECENT file overhaul (see also bin/rsync-over-recentfile.pl)

	demerphq wants time series on a regex analyzer. perl versions are in
	regexec.filelog.gz (but they go back till perl @1; so I'll start with
	27000 I presume), available perls are in
	available-nonthr-debugging-perls.txt. DONE (still need to check the job
	in into the tests repository)

	cleanup build_dir by age regardless size and useable by non-interactive
	users.

	review Test::Reporter and see how the choice between Mail::Send and
	Net::SMTP is implemented.

	review CPAN::Reporter 0.4801.

	BBC article about data::dump::streamer? No! Talk to Yves about it!

2007-08-24  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* 24.8. 2 emails to answer about PAUSE and Adam Monsen.

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* it seems that make test fails on 30shell.t on bleadperl and succeeds
	on maintperl and 5.8.6. :-(

	It is about 'o conf init inactivity_timeout'. Test reproducble with
	'make testshell-with-protocol'

	5.8.6 on OSX succeeds
	31162 (maint) succeeds
	30481 fails
	26727 (maint after installing Expect with sudo) fails somewhere else
	26480 fails
	23494 fails
	23484 (maint after installing Expect with sudo) fails later (after 214)
	20474 fails
	17749 fails
	16000 fails

	I see: the test was expecting that histfile always sets histsize and
	vice versa; this is no longer expected. Changing the test in 2148. FIXED

	* demerphq writes (maybe same bug as RT 28915???):

I was using the bleadperl version of cpan to install a module
(B::Utils) and here is what I saw. The second ...... DONE line took a
long time (more than a minute) to execute, makeing me wonder if it had
crashed, but it finished eventually.

Either File::Spec should be changed to not warn, or CPAN needs to be
changed not to pass undef to File::Spec::Win32::catdir.

Yves
Ps: this output is what i see immediately after installing blead from
rsync. I note that it doesnt require the CPAN config process that I
would have expected.

Yves

cpan shell -- CPAN exploration and modules installation (v1.9102)
ReadLine support available (maybe install Bundle::CPAN or Bundle::CPANxxl?)

cpan[1]> install B::Utils
CPAN: Storable loaded ok (v2.16)
Going to read C:\perl\.cpan\Metadata
  Database was generated on Thu, 01 Feb 2007 02:26:48 GMT
Use of uninitialized value $_ in transliteration (tr///) at
C:/perl/lib/File/Spec/Win32.pm line 141, <FIN> line 1.
Use of uninitialized value $_ in pattern match (m//) at
C:/perl/lib/File/Spec/Win32.pm line 143, <FIN> line 1.
CPAN: Time::HiRes loaded ok (v1.9707)
  LWP not available
CPAN: Net::FTP loaded ok (v2.77)
Fetching with Net::FTP:
  ftp://cpan.etla.org/pub/CPAN/authors/01mailrc.txt.gz
Going to read C:\perl\.cpan\sources\authors\01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok (v2.005)
............................................................................DONE
Use of uninitialized value $_ in transliteration (tr///) at
C:/perl/lib/File/Spec/Win32.pm line 141.
Use of uninitialized value $_ in pattern match (m//) at
C:/perl/lib/File/Spec/Win32.pm line 143.
  LWP not available
Fetching with Net::FTP:
  ftp://cpan.etla.org/pub/CPAN/modules/02packages.details.txt.gz
Going to read C:\perl\.cpan\sources\modules\02packages.details.txt.gz
  Database was generated on Thu, 23 Aug 2007 01:38:11 GMT
  HTTP::Date not available
............................................................................DONE
Use of uninitialized value $_ in transliteration (tr///) at
C:/perl/lib/File/Spec/Win32.pm line 141.
Use of uninitialized value $_ in pattern match (m//) at
C:/perl/lib/File/Spec/Win32.pm line 143.
  LWP not available
Fetching with Net::FTP:
  ftp://cpan.etla.org/pub/CPAN/modules/03modlist.data.gz
Going to read C:\perl\.cpan\sources\modules\03modlist.data.gz
............................................................................DONE
Going to write C:\perl\.cpan\Metadata
Running install for module 'B::Utils'
CPAN: Data::Dumper loaded ok (v2.121_14)
'YAML' not installed, falling back to Data::Dumper and Storable to
read prefs 'C:\perl\.cpan\prefs'
Running make for J/JJ/JJORE/B-Utils-0.05.tar.gz
  LWP not available
Fetching with Net::FTP:
  ftp://cpan.etla.org/pub/CPAN/authors/id/J/JJ/JJORE/B-Utils-0.05.tar.gz
CPAN: Digest::SHA loaded ok (v5.45)
  LWP not available
Fetching with Net::FTP:
  ftp://cpan.etla.org/pub/CPAN/authors/id/J/JJ/JJORE/CHECKSUMS
Checksum for C:\perl\.cpan\sources\authors\id\J\JJ\JJORE\B-Utils-0.05.tar.gz ok
Scanning cache C:\perl\.cpan\build for sizes
............................................................................DONE
B-Utils-0.05/
B-Utils-0.05/MANIFEST
B-Utils-0.05/META.yml
B-Utils-0.05/t/
B-Utils-0.05/t/02basic.t
B-Utils-0.05/Changes
B-Utils-0.05/README
B-Utils-0.05/Makefile.PL
B-Utils-0.05/lib/
B-Utils-0.05/lib/B/
B-Utils-0.05/lib/B/Utils.pm
CPAN: File::Temp loaded ok (v0.18)
Warning (usually harmless): 'YAML' not installed, will not store
persistent state

-- 
perl -Mre=debug -e "/just|another|perl|hacker/"

2007-08-23  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* JARIAALTO@cpan.org at http://rt.cpan.org/Ticket/Display.html?id=28952

Consider this when installing the CPAN bundle:

  Importing PAUSE public key into your GnuPG keychain... gpg: WARNING:
using insecure memory!
  gpg: please see http://www.gnupg.org/faq.html for more information
  done!
  (You may wish to trust it locally with 'gpg --lsign-key 450F89EC')
  Checking if your kit is complete...
  Looks good
  Writing Makefile for CPAN

SUGGESTION

Not all people use one monolithing GPG keyring, so any automatic
"imports" beyond user control is bad. Please don't automatically import
any keys, but sugest the KEYID or present a gpg key fetch command to use.

Here is an example of the typical use of multiple keyrings to separate
keys according to their use:

$ cat ~/.gnupg/gpg.conf
keyring pubring-remailer.pgp
keyring pubring-sw-development.pgp

In this case the CPAN key would have been put into
pubring-sw-development.pgp, but the CPAN installer script couldn't have
known that.



	* bartl writes in RT 28946:

On Windows 98, with CPAN.pm 1.9102 (ActivePerl 5.8.8 build 822), the
CPAN shell dies as soon as it's started up, with the error message:

  flock() unimplemented on this platform at
D:/programs/ActivePerl5.8/lib/CPAN.pm line 1015.

That line looks like this:

        while (!flock $fh, LOCK_EX|LOCK_NB) {

(And there's another line pretty much like it on line 3397.)

Ironically, before installing this version, I had done nmake test
because I was expecting trouble, and all tests passed. So I don't think
there is any test related to flock. (ActivePerl build 5.8.8 comes with
this version of CPAN, I've had to downgrade because of this problem.)

Among the versions that are still available on CPAN, the first version
to contain flock calls is 1.90. The latest development release still has
these same code lines in those areas, so I don't think the problem has
been resolved yet.

The problem does not exist on a more modern, NT based, version of
Windows, like Windows XP.

	* Schwern writes I should read RT 23735

	summary: kane and adam have had discussions on some IRC channel about
	how to cooperate and have decided on two environment variables that tell
	the other process the rel2abs of the {Makefile,Build}.PL file and the
	$VERSION. Where are the names? Something with _EXECUTING and _VERSION.

	I downloaded CPANPLUS to see what's up. It seems it sets only
	_EXECUTING. This is now also DONE for CPAN.pm.

	* off topic: perlbuzz.com Skud and Andy

2007-08-22  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* Todo: cleanup of the build directory must be possible from a
	non-interactive command. Currently all batch jobs accumulate data in the
	build directory and the first interactive user must then cleanup the
	mess.

	* RT 28915

CPAN::HandleConfig::home does not handle a return of "undef" from
File::HomeDir->my_data. In my particular network configuration this
arises, causing CPAN to incorrectly ignore my ~/.cpan/CPAN/MyConfig.pm
and try to run CPAN::FirstTime::init.  (I'm not sure why it does the
latter, but that's not part of this bug report.)

The details: CPAN is being invoked in a ssh session into an OS X box,
which gets its user account information via NIS.  My account is
"foreign" (i.e. not created on the Mac) and File::HomeDir->my_data()
returns "undef" (which seems appropriate).

Unfortunately, this causes CPAN::HandleConfig::load to ignore my
existing ~/.cpan/CPAN/MyConfig.pm (as the path to it is now wrong) and
to try to create a new one.  (It should be noted that
CPAN::FirstTime::init uses a different algorithm to determine where the
config file goes; it just uses $ENV{HOME}).

The most obvious solution would be to check the return from
File::HomeDir->my_data and if it is "undef" to fall back to using
$ENV{HOME} or File::HomeDir->my_home.

	* Bug: by adding 

	CPAN::HandleConfig->load unless $CPAN::Config_loaded++;

	in CPAN.pm line 1309 I break the whole test 30shell.t. Why? Recursion?

	recurson protection added to load(). DONE.

	* Todo: verbosity; tar_verbosity was a start and it had 'none', 'v', and
	'vv' as options. load_module_verbosity could be 'none' or 'v'. I see no
	sense in a 'vv' option. db_verbosity would cover too many things, maybe
	load_index_verbosity?

	We must give all kinds of noise a name and one or more verbosity levels.

	That which is not our own noise must be delegated to the owner.

	There is a very dirty spot in mydie: it mywarns and then die()s with
	nothing but "\n" as argument.

	This dirty spot shall not disturb us while working on verbosity. It is
	not myprint's business at all.

	See my mail to David Cantrell to understand what needs be done about
	verbosity.

cpan[1]> ls andk                                                                                                  
Going to read /Users/k/.cpan/Metadata
  Database was generated on Sat, 24 Mar 2007 07:10:12 GMT
Going to read /Users/k/.cpan/build/
............................................................................DONE
Found 26 old builds, restored the state of 5
  LWP not available
Fetching with Net::FTP:
  ftp://k75/pub/CPAN/authors/id/A/CHECKSUMS
  Could not connect to host 'k75' with Net::FTP
Fetching with Net::FTP
  ftp://k75/pub/CPAN/authors/id/A/CHECKSUMS.gz
  Could not connect to host 'k75' with Net::FTP

Trying with "/usr/bin/curl -L -f -s -S --netrc-optional" to get
    ftp://k75/pub/CPAN/authors/id/A/CHECKSUMS
^C
Trying with "/usr/bin/curl -L -f -s -S --netrc-optional" to get
  ftp://k75/pub/CPAN/authors/id/A/CHECKSUMS.gz
curl: (6) Couldn't resolve host 'k75'

Trying with "/usr/bin/curl -L -f -s -S --netrc-optional" to get
    ftp://k75/pub/CPAN/authors/id/A/CHECKSUMS
curl: (6) Couldn't resolve host 'k75'

Trying with "/usr/bin/curl -L -f -s -S --netrc-optional" to get
  ftp://k75/pub/CPAN/authors/id/A/CHECKSUMS.gz
curl: (6) Couldn't resolve host 'k75'
^CCaught SIGINT, trying to continue

As a last ressort we now switch to the external ftp command '/usr/bin/ftp'
to get '/Users/k/.cpan/sources/authors/id/A/CHECKSUMS.tmp1178'.

Doing so often leads to problems that are hard to diagnose.

If you're victim of such problems, please consider unsetting the ftp
config variable with

    o conf ftp ""
    o conf commit

^CGot another SIGINT


	* Todo: deprecate cvs_import.

2007-08-21  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* Todo: From David Cantrell: Perfect, thanks!

The only change to the code that I would ask for is that there be some
way of turning off all the startup text and have it die() with a
suitable message if something goes wrong, like ~/.cpan not being
accessible.

A HOWTO.pod with simple four or five line recipes showing how to write
code for the basic functions should suffice as far as extra
documentation goes.  I've attached the bare-bones of one.

	=head1 NAME

CPAN::API::HOWTO - a recipe book for programming with CPAN.pm

=head1 RECIPES

All of these recipes assume that you have put "use CPAN" at the top of
your program.

=head2 What distribution contains a particular module?

    my $distribution = CPAN::Shell->expand(
        "Module", "Data::UUID"
    )->distribution()->pretty_id();

This returns a string of the form "AUTHORID/TARBALL".  If you want the
full path and filename to this distribution on a CPAN mirror, then it is
C<.../authors/id/A/AU/AUTHORID/TARBALL>.

=head2 What modules does a particular distribution contain?

    CPAN::Index->reload();
    my @modules = CPAN::Shell->expand(
        "Distribution", "JHI/Graph-0.83.tar.gz"
    )->containsmods();

You may also refer to a distribution in the form A/AU/AUTHORID/TARBALL.

=head1 SEE ALSO

the main CPAN.pm documentation

=head1 AUTHOR, COPYRIGHT and LICENCE

blah blah blah

=cut




2007-08-18  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* Offline job?

	CPAN::FirstTime manpage. DONE with one exception: cpan_home

	help x. DONE

	'o conf /slash/'. DONE

	ask if we may try to connect to the internet DONE

	differentiate what to download on which command.

	'help TAB' should not start downloading index files. And should then not
	offer all modules and Bundles. FIXED

2007-08-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Test the recent file mechanism with very short timespans. See what
	happens when the RECENT file contains no elements or one element. Maybe
	one element must always be kept? Maybe we need a timestamp in the file?
	Maybe the timestamp of the file must be taken into account?

2007-08-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* I suspect that Net::FPing only works with threaded perls. Need to
	investigate.

2007-08-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* reminder about current operating center:

	seconds:  perl ~k/sources/CPAN/SVK/trunk/bin/loop-over-recent.pl
	   |                                     minutes:  tail -f ~sand/.cpanreporter/history.db
     |                                        |          hours: watch -n 20 '~k/sources/CPAN/SVK/trunk/bin/recent.pl|head -n 23'
     |                                        |                                        |
     v                                        v                                        v

	* long standing bug in configure_requires only visible in the logfiles

	logs/megainstall.20070{727T0705,730T1247,803T0330,810T2248,812T0825}.out

	Somebody injects Apache::Cookie and somebody injects Apache::Request.
	Apache-DBI and Apache-Test have already been installed at this point.
	libapreq is untarred, configure_require hits and before it can resolve
	things correctly configure_require_later is incremented a second time
	and we panic.

	The number of modules installed before the bug happens is low:

	perl -nle '$S{$1}++ if /Running make for ([\040-\177]+)/; END {
   print map { "$_\n" } grep { $S{$_}==5 } keys %S;
}' logs/megainstall.20070{727T0705,730T1247,803T0330,810T2248,812T0825}.out|wc -l
50

	Reading the list reveals nothing inspiring/obvious/spectacular. With
	this tar command I can reproduce the state at the moment when the bug happened:

	tar -xvz -C / -f ./installed-perls-perl-31701.tar.gz

	But I need the command that reproduces it.

	I thought of

	rm -rf ~/.cpan/build/libapreq-1.33-* ~/.cpan/build/mod_perl-1.30-* ~/.cpan/build/Apache-*
	rm -f /home/src/perl/repoperls/installed-perls/perl/pwRjjSU/perl-5.8.0@31701/lib/site_perl/5.9.5/Apache/DBI.pm /home/src/perl/repoperls/installed-perls/perl/pwRjjSU/perl-5.8.0@31701/lib/site_perl/5.9.5/i686-linux-64int/Apache/Test.pm

	and then

	cpan> install Apache::DBI Apache::Test Apache::Request

	But this installs mod_perl just fine as it should.

	With a variant of the one liner (bin/confreq_bug_logs.pl) we see more
	clearly what's common to all these failing runs.

2007-08-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* HTML::Parser 3.56 broken on my threaded maint perls due to failing threads
	test. How come? Including debian perl. 3.55. tests OK.

t/threads............Can't call method "join" on an undefined value at t/threads.t line 36.
# Looks like your test died before it could output anything.
t/threads............dubious                                                 
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED test 1
        Failed 1/1 tests, 0.00% okay

	libwww mailing list is silent about this:-(

	Hey, the same goes for DBI:

t/05thrclone..............Can't call method "join" on an undefined value at t/05thrclone.t line 74.
# Looks like you planned 43 tests but only ran 2.
# Looks like your test died just after 2.
dubious 
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 3-43
        Failed 41/43 tests, 4.65% okay

	Trying to build threaded perl with maint@31223 FAILS!

	Blead@31701 SAME!

	Blead@28938 which I have built sometime in the past fails too.

	Looks like '2007-07-24 20:09 libc6-i686.list' and that reboot mark an event.

	I'll try gcc-3.4 next. Does not help

	Google leads me to a posting of mine to cpantesters from May, 17 where
	blead@31207 could not build DBI. Nothing that leads me to the real
	cause.

	Either I upgrade to libc6-2.6.1-1 or I ignore the issue. I ask apt-get
	to upgrade and see very discouraging plans with lots of removals. So I
	stop it. I ask aptitude to do it and it suggests to upgrade only these
	four:

	  libc6-xen libc6-i686 libc6-dev libc6 

	without removing anything. This I prefer.

	Without rebooting this doesn't help:

t/op/getpid...................................................Thread creation fa
iled: pthread_create returned 12 at op/getpid.t line 41.
Can't call method "join" on an undefined value at op/getpid.t line 41.
# Looks like you planned 3 tests but ran 1.
FAILED--expected 3 tests, saw 1

	It's probably a limit problem. root can run the test. But I changed
	limits 4 months ago?! But you didn't leave any shell until recently.

	What a stupidity. I set the stack to over a GB. Everything fixed now.
	Unwind the stack now:)

2007-08-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* is the output of perl Makefile.PL in the yml file now?

	* binary search requested by Steffen Schwigon

----Program----
eval q{use Term::ReadPassword 0.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../plli2XZ/perl-5.8.0@26454/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pzoOIYJ/perl-5.8.0@26465/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 26454 and 26465
(but 26455, 26456, 26457, 26458, 26459, 26460, 26461, 26462, 26463, 26464 could not successfully be used to build perl)
No useable patch available between 26454 and 26465
Patches 26455, 26456, 26457, 26458, 26459, 26460, 26461, 26462, 26463, 26464 could not successfully be used to build perl


2007-08-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Feature wish: cleanup by age regardless size

	* Todo: remove RECENT-48:00::00.yaml, let the loop-over-recent script
	run with PERL_MM_USE_DEFAULT, see that 5.6.2 is integrated.

2007-08-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Test::Reporter 1.32 came out but switching between Mail::Send and
	Net::SMTP is delayed till 1.34.

	* http://cpandeps.cantrell.org.uk/ dependency graph with test results
	combined

2007-08-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Data::Dump::Streamer 2.03 still a weird place to go. Yesterday I
	posted at http://rt.cpan.org/Ticket/Display.html?id=28270 a quite clear
	solution to the installation bug but nobody reacts.

	After that I could start doing binary searches but they broke again and
	again and gave wrong results. Last result looks interesting

----Program----
eval q{use Data::Dump::Streamer 2.03};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pDzbqZK/perl-5.8.0@29359/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pHzMH4R/perl-5.8.0@29360/bin/perl----
N/A

----EOF ($?='0')----

	reganch heavily involved. Yes, this is it. See
	http://rt.cpan.org/Ticket/Display.html?id=25574.

2007-08-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* example perls for the various $]?

installed-perls/perl/pItJUYG/perl-5.7.3@16603/bin/perl    5.007003
installed-perls/perl/p0IId7q/perl-5.8.0@17639/bin/perl    5.008
installed-perls/perl/pocR0se/perl-5.8.0@22312/bin/perl    5.009
installed-perls/perl/pqwklWx/perl-5.8.0@22491/bin/perl    5.009001
installed-perls/perl/pF3yxpB/perl-5.8.0@24139/bin/perl    5.009002
installed-perls/perl/pztoXzt/perl-5.8.0@27002/bin/perl    5.009003
installed-perls/perl/p0fQi13/perl-5.8.0@28966/bin/perl    5.009004

installed-perls/maint-5.8/pAyq3oR/perl-5.8.0@18352/bin/perl    5.008
installed-perls/maint-5.8/pet10ji/perl-5.8.0@20939/bin/perl    5.008001
installed-perls/maint-5.8/p4wjLcy/perl-5.8.0@22552/bin/perl    5.008003
installed-perls/maint-5.8/pKwJ8yG/perl-5.8.0@23004/bin/perl    5.008004
installed-perls/maint-5.8/pOrDlAM/perl-5.8.0@23390/bin/perl    5.008005
installed-perls/maint-5.8/prOuseq/perl-5.8.0@24448/bin/perl    5.008006
installed-perls/maint-5.8/pybSSNM/perl-5.8.0@26876/bin/perl    5.008007
installed-perls/maint-5.8/pdHcRny/perl-5.8.0@31223/bin/perl    5.008008

2007-07-31  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* NUFFIN/Catalyst-Plugin-Session-State-Cookie-0.07.tar.gz started to
	fail on 2007-07-17 between bleadperl@31618 and ...20. 20 is already
	deleted but we can compare with 23.

	When I go back to 18 and try to install it again as distro then I get
	the same failure.

	http://rt.cpan.org/Ticket/Display.html?id=28574

2007-07-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* libxml2 upgrade broke XML::LibXML but in a minor way so we can write a
	distropref that skips one test

	https://rt.cpan.org/Ticket/Display.html?id=27659

2007-07-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* libwww fails now with a different error than a few days ago.

	* make test fails on 30shell! Does it maybe have to do with LWP missing?
	No. Recent changes to _reload_this() broke it. FIXED.

	* Todo: help x should provide specific help for x

	* Todo: run with CPAN::SQLite

2007-07-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CPAN::Reporter refresh

----Program----
eval q{use CPAN::Reporter 0.46};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pYGQKvE/perl-5.8.0@30867/bin/perl----
N/A

----EOF ($?='0')----
----Output of .../pCVcKvs/perl-5.8.0@30868/bin/perl----
GXBOK

----EOF ($?='0')----

----Program----
eval q{use CPAN::Reporter 0.46};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pKsPB4G/perl-5.8.0@29544/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p7dQLd3/perl-5.8.0@29545/bin/perl----
N/A

----EOF ($?='0')----

	
2007-07-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bugreport

cpan[7]> install Handel

Recursive dependency detected:
    Handel (have: N/A; want: 1.00003)
 => CLACO/Handel-1.00003.tar.gz
 => Handel::Storage::RDBO (have: N/A; requires: 1.00001)
 => CLACO/Handel-Storage-RDBO-1.00001.tar.gz
 => Handel (have: N/A; requires: 1.00000).
Cannot resolve.

	http://rt.cpan.org/Ticket/Display.html?id=28461

2007-07-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CPAN::Reporter fails tests around 30688 but afaik not on current
	bleadperl. Who's to blame?

	* TAP::Parser needs a binary search. 30265 OK, 31008 fails 030-grammar;

	binsearchaperl --bounds 23023-99999 --apcdir /home/src/perl/repoperls/APC --prefix /home/src/perl/repoperls/installed-perls --prog tests/has-TAP-Parser.pl --prep tests/prep-TAP-Parser.pl --verbose -build

	30676 is from Mar 22, 02:53 and works. I fear I must remove it to see if
	it still works when freshly compiled.

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/2968145308e42c67/bd05f62142673f32
	
2007-07-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CPAN::Unwind: 20070423T0905 saw the first time C<Couldn't get tarball
	for perl from CPAN at
	/home/sand/.cpan/build/CPAN-Unwind-0.04-DG5lge/blib/lib/CPAN/Unwind.pm
	line 173>

	http://rt.cpan.org/Ticket/Display.html?id=28426

2007-07-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Devel::EvalContext-0.08 is chasing me again and I see it working with
	27002. But Data-Alias-1.0[56] do not compile with e.g. 29487. Is an
	older Data::Alias at backpan? Where is backpan nowadays?

ftp://ftp.funet.fi/pub/languages/perl/backpan
http://ftp.funet.fi/pub/languages/perl/backpan
rsync://nic.funet.fi/backpan

	YES! HERE it is:

	http://ftp.funet.fi/pub/languages/perl/backpan/authors/id/X/XM/XMATH/Data-Alias-1.04.tar.gz

	Here I conclude that I should mirror this directory and put the mirror
	second in the urllist and put the backpan last in the list.

	Then I need to see under which patchlevel I need to try with 1.04 and
	rewrite the prep script.

	Patchlevel 28990 does not compile 1.05 nor 1.0[432] but 1.01 OK. And
	with 1.01 we get Devel::EvalContext OK.

	blead			Data::Alias		Devel::EvalContext
	27002			1.05 OK				0.08 OK
	28966			1.05 OK				0.08 OK
	28990			1.01 OK				0.08 OK
	29487			1.01 OK				0.08 OK
	30019			1.03 OK				0.08 OK
	30646			1.03 OK				0.08 OK
	30969			1.03 OK				0.08 OK
	31061			1.04 OK				0.08 OK
	31157			1.05 OK				0.08 OK
	31251			1.05 OK				0.08 OK
	31252			1.06 OK				NOT OK

	http://rt.cpan.org/Ticket/Display.html?id=28425

	It's really not a bleadperl problem.

	* jumpqueue takes as arguments short arrayreferences. We must put some
	aiming_at argument there containing get/make/test/install. Because we
	will see configure_require dependencies that must be treated accordingly
	when they only said get or make.

2007-07-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* SVG-Metadata needs a binary search. I suspect pseudo hashes. Very ugly
	result:

----Program----
eval q{use SVG::Metadata 0.28};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p0IId7q/perl-5.8.0@17639/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pINt5Dc/perl-5.8.0@17705/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 17639 and 17705
(but 17641, 17642, 17644, 17654, 17655, 17656, 17671, 17672, 17673, 17674, 17675, 17676, 17677, 17678, 17679, 17680, 17681, 17682, 17683, 17684, 17685, 17686, 17687, 17688, 17689, 17690, 17691, 17692, 17693, 17694, 17695, 17696, 17697, 17698, 17699, 17700, 17701, 17702, 17703, 17704 could not successfully be used to build perl)
No useable patch available between 17639 and 17705
Patches 17641, 17642, 17644, 17654, 17655, 17656, 17671, 17672, 17673, 17674, 17675, 17676, 17677, 17678, 17679, 17680, 17681, 17682, 17683, 17684, 17685, 17686, 17687, 17688, 17689, 17690, 17691, 17692, 17693, 17694, 17695, 17696, 17697, 17698, 17699, 17700, 17701, 17702, 17703, 17704 could not successfully be used to build perl

	pseudo hashes were extinct, when? 17725!

	So it isn't a pseudo hash thing? well, 17705 failed because XML::Twig
	was not working then. But when I 'force notest install XML::Twig', then
	SVG::Metadata passes its tests.

	Next round of binsearch with the fixed 17705. And then I had to find out
	that SVG::Metadata does not declare its dependency on HTML::Entities and
	had to install that manually into some involved perls and finally I got:

----Program----
eval q{use SVG::Metadata 0.28};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pjEfwQE/perl-5.8.0@17724/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pg7Kp5D/perl-5.8.0@17725/bin/perl----
N/A

----EOF ($?='0')----


	* Assertion: Environment is being set during perl {Build,Makefile}.PL?

	iow: is set_perl5lib called from within get or its deputies? Yes, in
	line 7193 within make

	* Idea: new option to cleanup the build_dir not by size but by age.

	* Todo: with the new sendmail configuration I should retry if mailtools
	work now. Which perl is good for that? Stock 5.8.8 should do and note
	there is a 2.00_xx! For install I can configure back to using sudo. But
	all testing should be done by sand because there is the reporter DB. So
	this time I want to disable prefs? No, k installs, sand tests.

	Yes, even with Test::Reporter 1.27 the mail from Mail::Send seems to
	have been accepted for delivery (RJBS/Test-BinaryData-0.003.tar.gz). Now
	with Test::Reporter 1.30 I tried KWILLIAMS/Path-Class-0.16.tar.gz. And
	finally with MARKOV/MailTools-2.00_01.tar.gz I try
	JROCKWAY/Directory-Scratch-0.12.tar.gz

	Mails went out through sendmail.

	Mailq is empty. But the mails did not come back to me on the
	subscription address. Nor to Google
	http://groups.google.com/group/perl.cpan.testers/topics?lnk=srg

	Let me compare the 3 mails above with the last mail before that. It was
	about BPAN. A bad one with Mail::Send:

# egrep 'l6L5ZkbD030283' /var/log/mail.info
Jul 21 07:35:46 k75 sendmail[30283]: l6L5ZkbD030283: from=sand, size=5897, class=0, nrcpts=1, msgid=<200707210535.l6L5ZkbD030283@k75.linux.bogus>, relay=sand@localhost
Jul 21 07:35:46 k75 sm-mta[30284]: l6L5Zk0d030284: from=<sand@k75.linux.bogus>, size=6121, class=0, nrcpts=1, msgid=<200707210535.l6L5ZkbD030283@k75.linux.bogus>, proto=ESMTP, daemon=MSA, relay=localhost.localdomain [127.0.0.1]
Jul 21 07:35:46 k75 sendmail[30283]: l6L5ZkbD030283: to=cpan-testers@perl.org, ctladdr=sand (1005/1005), delay=00:00:00, xdelay=00:00:00, mailer=relay, pri=35897, relay=[127.0.0.1] [127.0.0.1], dsn=2.0.0, stat=Sent (l6L5Zk0d030284 Message accepted for delivery)
Jul 21 07:35:59 k75 sm-mta[30286]: l6L5Zk0d030284: to=<cpan-testers@perl.org>, ctladdr=<sand@k75.linux.bogus> (1005/1005), delay=00:00:13, xdelay=00:00:13, mailer=esmtp, pri=126121, relay=mx.develooper.com. [63.251.223.176], dsn=2.0.0, stat=Sent (Queued! 1184996159 qp 27112 <200707210535.l6L5ZkbD030283@k75.linux.bogus>)

	And a good one with Net::SMTP:

# egrep 'l6L5MQN5027327' /var/log/mail.info
Jul 21 07:22:26 k75 sm-mta[27327]: l6L5MQN5027327: from=<andreas.koenig.gmwojprw@franz.ak.mind.de>, size=4884, class=0, nrcpts=1, msgid=<200707210522.l6L5MQN5027327@franz.ak.mind.de>, proto=ESMTP, daemon=MTA, relay=localhost.localdomain [127.0.0.1]
Jul 21 07:22:39 k75 sm-mta[27329]: l6L5MQN5027327: to=<cpan-testers@perl.org>, delay=00:00:13, xdelay=00:00:12, mailer=esmtp, pri=124884, relay=mx.develooper.com. [63.251.223.176], dsn=2.0.0, stat=Sent (Queued! 1184995359 qp 21633 <200707210522.l6L5MQN5027327@franz.ak.mind.de>)


	Too obvious. CPAN::Reporter or Test::Reporter is unable to set the from
	address when switching to Mail::Send.

	Stepping through the debugger. Test::Reporter::_mail_send line 344 sets
	the From correctly. Later Mail::Send passes itself over to Mail::Mailer

  DB<14> n
Mail::Send::open(/usr/local/perl-5.8.8/lib/site_perl/5.8.8/Mail/Send.pm:57):
57:         Mail::Mailer->new(@_)->open($self);
DB<14> x \@_
0  ARRAY(0x85b1c74)
     empty array
DB<15> x $self
0  Mail::Send=HASH(0xbe3ac30)
   'From' => ARRAY(0xbe3c75c)
      0  'andreas.koenig.gmwojprw@franz.ak.mind.de'
   'Subject' => ARRAY(0xbe3c7d4)
      0  'PASS WebService-Mogo2-0.01 i686-linux-64int 2.6.14'
   'To' => ARRAY(0xbe3a9e4)
      0  'cpan-testers@perl.org'
   'X-Reported-Via' => ARRAY(0xbe3be14)
      0  'Test::Reporter 1.30, via CPAN::Reporter 0.46'

	Aha. I have sendmail installed and despite Mail::Send and Mail::Mailer
	carefully keep the $sender and $hdr intact, Mail::Mailer::sendmail
	throws it away because it cannot handle it.

	The documentation of Test::Reporter tells me that I can use
	$tr->mail_send_args(['smtp']); perhaps. So let's try. With MailTool
	2.00_01 I must write a bugreport that there is a syntax error.
	http://rt.cpan.org/Ticket/Display.html?id=28411
	With current version 1.77 there is a failure:

Sending test report with 'pass' to cpan-testers@perl.org
        (in cleanup) Undefined subroutine &Mail::Mailer::smtp::close called at /usr/local/perl-5.8.8/lib/site_perl/5.8.8/Mail/Mailer.pm line 204.
Catching error: 'Undefined subroutine &Mail::Mailer::smtp::close called at /usr/local/perl-5.8.8/lib/site_perl/5.8.8/Mail/Mailer.pm line 133.
        (in cleanup) Undefined subroutine &Mail::Mailer::smtp::close called at /usr/local/perl-5.8.8/lib/site_perl/5.8.8/Mail/Mailer.pm line 204.
' at lib/CPAN.pm line 275
        CPAN::shell() called at -e line 1

	So maybe the mail was sent but it certainly was a die() before the
	bookkeeping was done:-( No, from the logfile it seems there was no mail
	sent at all.

	So I try again with 2.00_01 and insert an "or" before the return to fix
	the syntax. This dies without an error message.

	So I come to the conclusion that I must fix Test::Reporter for me.

	IS this all I need?

  - use constant FAKE_NO_MAIL_SEND => 0;  # for debugging only
  + use constant FAKE_NO_MAIL_SEND => 1;  # for debugging only

	YES!

2007-07-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: 'fforce get STAS/libapreq-1.33.tar.gz' runs into an endless loop.
	All the configure_requires stuff is only working for "install", often
	not for get/make/test. The first get must keep a record that it has
	already tried the other get so it won't repeat this step.

	And I saw "Panic: ..." from

    $CPAN::Frontend->mydie("Panic: A prerequisite is not available, please investigate...");

	and this is presumably the spot where I should look into
	sponsored_modules (sp?)

2007-07-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* http://rt.cpan.org/Ticket/Display.html?id=28369 about
	WRW/Barcode-Code128-2.01.tar.gz

	* http://rt.cpan.org/Ticket/Display.html?id=28370 about
	CHROMATIC/Crypt-CipherSaber-1.00.tar.gz

2007-07-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 0 E. [17-Jul 229: David Golden        ] Re: FAIL Module-Mask-0.03 i686-linux 2.4.27-3-686
	
	* binarysearch for J/U:r

	23023 YAML::Syck
	26015 YAML, Jifty::DBI
	27939 
	28005 Params::Validate, DateTime (P:V 0.86 broke at 27942)
	28513 DateTime::Format::Strptime
	29023 DateTime::Format::Strptime
	29527 
	

	OMG, I see all the UNIVERSAL::require errors and then an "ok" so it gets
	installed just to prove my testing pointless:-(

	
	30019 YAML::Syck


	* UNIVERSAL::require and Jifty have some broken relationship. Maybe we
	could run a binary search with a very limited test? The testsuite of
	UNIVERSAL-require-0.11 has no issues with bleadperl but Jifty uses U:r
	it in a way that fails since day X. t/00-load.t would do for the binary
	search. Let's disable CPAN::Reporter and add the test/args:
	TEST_FILES=t/00-load.t to the distroprefs file. And
	cpanconfig/test_report: 0.

	Not possible because Jifty-DBI-0.41 fails with 23023. And PASS 94 : FAIL
	68 is not encouraging to continue with this test. Since 2007-06-29T20:11
	I haven't seen a PASS for Jifty::DBI.

	t/10schema.t    7  1792   147    7  16 20 27 33 39 45 51

	But Jifty::DBI from SVN works, so we can adjust everything to 

2007-07-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* off topic: working on Module::Build for "the corridor". Trying to
	determine the exact boundaries of the corridor. The lower end is not
	that hard to determine because binarysearch finds its way through the
	area. But the upper boundary is slow because for some reason questions
	are being asked by, e.g. 25125. Ah, it is within the corridor. 26003 is
	outside. First broken perl is 23190, last one is....25414.

	And running make test in SVN rev. 9738 with my fixes:

	% for p in /usr/local/perl-5.6.2/bin/perl /usr/local/perl-5.8.[01378]/bin/perl /usr/local/perl-m-5.8.0@31162/bin/perl /home/src/perl/repoperls/installed-perls/perl/p*/perl-5.*@{23190,24139,25125,25414,31614}/bin/perl ; do
$p Build.PL&&./Build test || break
done

2007-07-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: investigate version.pm and Module::Build in the 23000-25000
	corridor. I recently posted the problem and Schwern made a suggestion I
	need to test against.

	* TMOERTEL/Test-LectroTest-0.3500.tar.gz started to fail with 31613 but
	it had already a fail with 31429. Reproducable? The test takes a very
	long time, tempting to press ^C. OK, after a couple of minutes, all
	tests OK.

	This is the FAIL with 31613:

t/gens............
#   Failed test 'Float(sized=>0,range=>[-400,-200]) dist mean is -300 (z-score = -3.93)'
#   at t/gens.t line 1149.
#     '3.92902581170997'
#         <
#     '3.89'
# Looks like you failed 1 test of 248.
dubious
^ITest returned status 1 (wstat 256, 0x100)
DIED. FAILED test 55

	And this with 31429:

t/gens............
#   Failed test 'String() length under sizing [1..1] dist mean is 0.5 (z-score = -3.98)'
#   at t/gens.t line 1149.
#     '3.98295682672687'
#         <
#     '3.89'
# Looks like you failed 1 test of 248.
dubious
^ITest returned status 1 (wstat 256, 0x100)
DIED. FAILED test 174

	(150:2:0:0)

	http://rt.cpan.org/Ticket/Display.html?id=28203

	* Test-Inline-2.204.tar.gz missing depe

	http://rt.cpan.org/Ticket/Display.html?id=28139

	* RJBS/Email-MIME-1.859.tar.gz started to fail between 2007-07-14T05:07
	and 2007-07-13T08:07 which is between 31600 and 31613.

	The FAIL with 613 is now reproducable. The OK with 600 is not
	reproducable anymore, some update since then has broken it.

	The last OK before was with 2007-07-12T22:46 (31599). This OK is
	reproducable.

	So I'll compare autobundle of 599 and 600.

	I see that Email::Simple was updated from 1.999 to 2.001.

	When I install 1.999 on 31613? Then Email-MIME-1.859 passes all tests.

	http://rt.cpan.org/Ticket/Display.html?id=28170 (reported by pmei
	<petermei@gmail.com>)
	
	* Idea: new options how to treat Module::Install. I could peek into the
	Makefile.PL and guess if it is a Module::Install based one or maybe look
	at inc/Module/Install.pm. Then what?

	Answer Auto-Install questions with "y", "n", DEFAULT? Make a difference
	between optional and mandatory? Realize that "n" would not work because
	for mandatory stuff they then ask. "Really...". Hrmmm. Ask Adam?

	I suppose he would recommend to set the PERL_MM_USE_DEFAULT variable.
	That would choose DEFAULT.

	* Todo: complete the show_xxx_version config parameters DONE

	* I want to use ^C during recent to mean that I do not want to continue
	to read this document. DONE

	* Net::FTP::Commom now in RT because of frequent test failures:

	http://rt.cpan.org/Ticket/Display.html?id=28195

	* DBIx-Timeout just now got a ticket for a missing dependency and of
	course a distropref too.

	http://rt.cpan.org/Ticket/Display.html?id=28193

2007-07-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ANDYA/Set-IntSpan-Fast-v1.0.tar.gz is still reported an newer than the
	installed 1.000000 ?! I just saw it with 5.8.9-tobe, never with blead,
	maybe because I never run the r command with blead?

	Retesting with 31599:

cpan[1]> r /intspan/
CPAN: Storable loaded ok (v2.16)
Going to read /home/sand/.cpan/Metadata
  Database was generated on Thu, 12 Jul 2007 20:50:00 GMT
CPAN: YAML::Syck loaded ok (v0.94)
Going to read /home/sand/.cpan/build/
............................................................................DONE
Found 606 old builds, restored the state of 463

Package namespace         installed    latest  in CPAN file
Set::IntSpan::Fast             v1.0  1.000000  ANDYA/Set-IntSpan-Fast-v1.0.tar.gz
1 installed module has a version number of 0
  they are
        Module  < Set::IntSpan::Fast     (ANDYA/Set-IntSpan-Fast-v1.0.tar.gz)

	Uhhh, ohhh.

	This was really two bugs: one that we believed that "v1.0" was 0. FIXED now

	The other is that I believe that trailing ".0" should not actually be
	treated as significant. This mainly because version.pm's numify really
	translated v1.0 to 1.000000 and has no roundtrip between numify and
	normal:

	% /home/src/perl/repoperls/installed-perls/*/p*/perl-5.*@31614/bin/perl -Mversion -le 'print version->new(version->new("v1.0")->numify)->normal'
v1.0.0

	I adjusted CPAN::Version to trim trailing ".0" (but keep one).

	http://rt.cpan.org/Ticket/Display.html?id=28206

2007-07-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* HTTP::Server::Simple random test results

	http://rt.cpan.org/Ticket/Display.html?id=28122

2007-07-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Exporter::Simple now has its test scripts but the binary search points at

	Change 29023 by stevep@stevep-kirk on 2006/10/15 17:17:32
	    Upgrade to Time-HiRes-1.93.

	What a crap! The reason turns out to be that I have distroprefs files
	that 1.8855 could not grok and 1.8855 was not forward compatible and
	very misbehaving visavis unknown parameters. FINISHED after some days

	* Encode::IBM fails at 'make install' after successful make test

	http://rt.cpan.org/Ticket/Display.html?id=28090

	* Brandon Black suggests that ftp: URLs shall not be tried before all
	http URLs have been tried with all external programs we could find.

	We currently do this: the outer loop is about easy/hard/hardest where
	easy means LWP+Net::FTP, hard has the code for external programs,
	hardest is about an external "ftp" program. The inner loop iterates over
	URLs. His suggestion means that we shall devide the URLs into http and
	ftp and shall run:

	easy with file
	easy with http
	hard with http
	easy with ftp
	hard with ftp
	hardest (which is ftp only per definition)

	Test it with ftp://AFTP, http://BHTTP, file://CFILE and 'get
	DDDD/notexist-0.0.tar.gz'

	I see:

Fetching with LWP:
  file://CFILE/authors/01mailrc.txt.gz
Fetching with LWP:
  http://BHTTP/authors/01mailrc.txt.gz
Trying with "/usr/bin/curl -L -f -s -S --netrc-optional" to get
    http://BHTTP/authors/01mailrc.txt.gz
Trying with "/usr/bin/wget -O /home/k/.cpan/sources/authors/01mailrc.txt.tmp14022" to get
    http://BHTTP/authors/01mailrc.txt.gz
Trying with "/usr/bin/lynx -source" to get
    http://BHTTP/authors/01mailrc.txt.gz
Fetching with LWP:
  http://www.perl.org/CPAN/authors/01mailrc.txt.gz

	No, this is a new bug. Before we send them to perl.org, we should try
	the ftp URL. So we need 5 steps more for the default URLs for a total of
	11. Very nice. Seems to work now but needs a rewrite in a less obscure
	style: tuples instead of strings that get manipulated and maybe a
	$filter argument to reduce the number of necessary methods.

	DONE.

2007-07-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* [09-Jul  60: Steve Peters        ] Help in finding bleadperl test failures

	Steve asks for help with MasonX::Interp::WithCallbacks. But I have to
	backtrack because this is a case of shadowing. 28840 had issues with a
	prereq, namely DWHEELER/Params-CallbackRequest-1.17.tar.gz. So now I
	need two binary searches for that, 23023-28840-31573 to determine where
	the shadowing starts and where it ends and then continue with the initial
	request.

	DONE

	* Exporter::Simple still has no has- and prep- Script

	Answer:

	Stevan Little        
	Alex Vandiver        Another possible BBC candidate
	Father Chrysostomos  [PATCH] Perl::Repository::APC on Mac OS X

	DONE

2007-07-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* new fails

	BDFOY/Module-Release-1.16.tar.gz       something with pod coverage
	
	CHANG-LIU/XML-Node-0.11.tar.gz         new (again) dependency detected, distropref
	                                       written, bug reported:
	                                       http://rt.cpan.org/Ticket/Display.html?id=27573

	LBROCARD/GraphViz-2.02.tar.gz          depends on IPC::Run uh, oh!

	MSISK/HTML-TableExtract-2.10.tar.gz    known from #20709

	RSOD/IPC-Run-0.80.tar.gz
                                         it has failed a few times in the
																				 past and this failure is not
																				 reproducable
	
  STAS/libapreq-1.33.tar.gz              undecl dependency on mod_perl

	* Todo: eliminate Bundle::{PDF,Unicode} from megainstall DONE

	* Todo: Revisit RT #25627 about Module::Install / Zoidberg DONE

2007-07-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* The uploaded file

    CPAN-1.91_51.tar.gz

has entered CPAN as

  file: $CPAN/authors/id/A/AN/ANDK/CPAN-1.91_51.tar.gz
  size: 565458 bytes
   md5: bb1fb98f32ffae1e0292cf06a18071e6

	* Actual binary search runs 

----Program----
eval q{use Class::Inner 0.1};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../peBx1NV/perl-5.8.0@30979/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pyuz7f1/perl-5.8.0@30980/bin/perl----
N/A

----EOF ($?='0')----

----Program----
eval q{use Readonly; die unless $Readonly::XSokay};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pbW2H20/perl-5.8.0@23767/bin/perl----
OK

----EOF ($?='0')----
----Output of .../prc83Ms/perl-5.8.0@23768/bin/perl----
N/A

----EOF ($?='0')----

----Program----
eval q{use Text::Query 0.07};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pE7UWJ8/perl-5.8.0@25805/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pTYOA8A/perl-5.8.0@25808/bin/perl----
N/A

----EOF ($?='0')----

	
----Program----
eval q{use Safe::Hole 0.10};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pcms3sA/perl-5.8.0@23023/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pX10SPP/perl-5.8.0@31563/bin/perl----
OK

----EOF ($?='0')----

----Program----
eval q{use Class::constr 2.21};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p8Kq7EW/perl-5.8.0@24659/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pgDJivN/perl-5.8.0@24660/bin/perl----
N/A

----EOF ($?='0')----

----Program----
eval q{use Class::MOP 0.40};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pG1GE1t/perl-5.8.0@26369/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pyAT2at/perl-5.8.0@26370/bin/perl----
N/A

----EOF ($?='0')----

	With 0.40 we have this test failing:

t/003_methods.......................................NOK 13/66                
#   Failed test '... Foo->has_method(FOO_CONSTANT) (defined w/ use constant)'
#   at t/003_methods.t line 89.
t/003_methods.......................................NOK 25/66                
#   Failed test 'The object isa Class::MOP::Method'
#   at t/003_methods.t line 119.
#     The object isn't defined
Can't call method "body" on an undefined value at t/003_methods.t line 122.
# Looks like you planned 66 tests but only ran 25.
# Looks like you failed 2 tests of 25 run.
# Looks like your test died just after 25.
t/003_methods.......................................dubious                  
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 13, 25-66
        Failed 43/66 tests, 34.85% okay
	[...]
	t/003_methods.t  255 65280    66   84  13 25-66

	So apparently NOT 081_meta_package_extension which was failing in March.


	* Thanks to Alexandr Ciornii this is my program for the next days:

	Class::MOP           BBCed
	Class::constr        BBCed
	Safe::Hole           wfm
	Text::Query          BBCed
	Readonly::XS         BBCed
	Class::Inner         BBCed
	Exporter::Simple     2007-07-12 akoenig BBCed

	* SBURKE/Sort-ArbBiLex-4.01.tar.gz breaks with 31544 for the first time
	ever. Reproducable?

	* MSCHWERN/Class-Fields-0.202.tar.gz broken by 

Change 31540 by rgs@stcosmo on 2007/07/06 13:58:58

	Upgrade to base and fields 2.12, mostly by Michael G Schwern


2007-07-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Encode::Mapper

	http://rt.cpan.org/Ticket/Display.html?id=27962

	* Module A depends on B. B depends on C but does not declare the
	dependency. Module C does not exist (anymore). This does not happen, you
	say? A is Devel::ebug::HTTP, B is Catalyst::Plugin::Static, C is
	Catalyst::Engine::Test. The bug is known for 12 months. I've reminded
	MRAMBERG

	http://rt.cpan.org/Ticket/Display.html?id=19351

	* There is something that prevents parsing of the logfiles. residuum.yml
	was traditionally between 143k and 345k the last two runs were 449k and
	1658k with 30 and 100 modules respectively left over.

	It has to do with the fact that I now see the pattern 'Running make for
	B/BW/BWARFIELD/GDGraph-1.44.tar.gz' (just an example) twice and between
	the first and the second occurrence there are other important facts for
	other modules, in this case 'Running make for
	Y/YS/YSAS/SWF-File-0.42.tar.gz'. I must find a way to only take the
	second part of these chunks.

2007-07-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Toremember: the big loop must run from a window that can connect to
	the X server. Or we must bug the authors that they write tests that are
	not depending on a running window server. Like DISPLAY=:121 ? Does
	AnyEvent behave with that?

	* Today (@31526) potentially new fails seem to be
	LGODDARD/Time-Simple-0.052.tar.gz, JONALLEN/a2pdf-1.13.tar.gz, and
	PCANARAN/HTML-GMap-0.04.tar.gz

	Two autobundle runs compared show several improvements due to "depends"
	but nothing that hints at Time-Simple. PDF::API2::Simple 1.1.2 hints at
	a2pdf and nothing hints at HTML-GMap.

	Time-Simple really failed for the first time ever. The failure can be
	reproduced, even with fforce and with @31515! It has something to do
	with 23:59:59 vs 22:59:59.

	a2pdf has PASS:FAIL 78:13. I see

	Can't load '/home/src/perl/repoperls/installed-perls/perl/p7mD5hd/perl-5.8.0@31526/lib/5.9.5/i686-linux-64int/auto/Fcntl/Fcntl.so' for module Fcntl: /home/src/perl/repoperls/installed-perls/perl/p7mD5hd/perl-5.8.0@31526/lib/5.9.5/i686-linux-64int/auto/Fcntl/Fcntl.so: undefined symbol: PL_unitcheckav at /home/src/perl/repoperls/installed-perls/perl/p7mD5hd/perl-5.8.0@31526/lib/5.9.5/i686-linux-64int/XSLoader.pm line 64.

	This might be a core change? No, it's reproducable with 31515 which was
	previously doing fine with this distro.

	HTML-GMap-0.04 has 0:1, it is new in the arena.

2007-07-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: does not seem to uncover recursive dependencies. I speced

match:
  distribution: "^SZABGAB/Spreadsheet-ParseExcel-\d"
depends:
  requires:
    Spreadsheet::ParseExcel::FmtJapan2: 0

	unknowing that this was a recursive dependency. The throttling strategy
	in CPAN::Queue kicked in and I had to kill this run.

	* megainstall with yesterday's version was broken: only 688 distros and
	8 MB logfile. What did the other 550 do?

Looks good
Writing Makefile for classes
Can't use string ("0.25") as a HASH ref while "strict refs" in use at lib/CPAN.pm line 7868.

	FIXED

	* Bug: untar happens twice FIXED

	* To be tested: is the behaviour sane when they say configure_requires:perl:15?

	* Use it for DBI/DBD::SQLite! DONE

	* Revisit all depends/* distroprefs if they were written with the correct
	flavor of *requires. E.g. X500::DN/Parse::RecDescent certainly is a
	"requires" not a "build_requires" but nobody would notice because we
	install P:R later anyway. DONE

	* JROBINSON/SQL-Translator-0.08 has a configure_requires on
	Module::Build::Compat. I saw this today with blead@23190:

	Can't locate Module/Build/Compat.pm in @INC (@INC contains: /home/src/perl/repoperls/installed-perls/perl/pvvpo99/perl-5.8.0@23190/lib/5.9.2/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pvvpo99/perl-5.8.0@23190/lib/5.9.2 /home/src/perl/repoperls/installed-perls/perl/pvvpo99/perl-5.8.0@23190/lib/site_perl/5.9.2/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pvvpo99/perl-5.8.0@23190/lib/site_perl/5.9.2 /home/src/perl/repoperls/installed-perls/perl/pvvpo99/perl-5.8.0@23190/lib/site_perl .) at Makefile.PL line 4.

	But I don't understand it because my script must have tried to install
	Module::Build for 23190??

	Ahh, I see this is the ugly, ugly version.pm bug that I had some
	exchange about with John Peacock and which affects some interval in the
	23000-25000 area. Have no details at hand but this tells me that I
	cannot run binary searches for SQL::Translator:-(

2007-07-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* MM->parse_version() will now try to load version.pm before checking
	the $VERSION of a module (MM 6.35)

2007-07-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* From: "Brandon Black" <blblack@gmail.com>
Subject: Re: Add B::Generate/Padwalker to core?
To: "Perl 5 Porters" <perl5-porters@perl.org>
Date: Sun, 1 Jul 2007 16:03:52 -0500

On 7/1/07, Ævar Arnfjörð Bjarmason <avarab@gmail.com> wrote:
> Telling people who've never bothered with perl before to run cpan -i
> Some::Module can be quite frightning for them. CPAN ask you a
> bazillion questions when you first use it (maybe cpanp fixes this?).
>

5.9.5's default cpan is much better, in that it defaults virtually
everything intelligently and just asks that you pick a mirror for
yourself.  I think defaulting to http transports even for the fetch of
the initial MIRRORED.BY would improve things even more, but that goes
back to http transports not being available in stock Perl on all
platforms.  LWP is a solution, but unlikely to make it into core
anytime soon.  Perhaps if it would at least test for http support (via
LWP or external stuff like wget/curl) and default to using any
available http transport instead of ftp if possible for bootstrapping
mirror lists and module lists, that would improve the situation for
some.

-- Brandon


	* configure_requires needs to be rounded off with distroprefs
	depends/configure_requires most prominently because we can test it
	better if we write some distroprefs that use it.

	* SQL::Translator has an error message that seems to resemble MRO error
	messages. Binary search?

	* Handle N/A because

  ! DBIx::Class::Validation                 0.02000 n/a    
  ! FormValidator::Simple                   0.17    n/a    
  ! SQL::Translator                         0.08    n/a    

	DBIx::Class::Validation => FormValidator::Simple => Email::Valid!
	SQL::Translator!

	* NUFFIN/Catalyst-Plugin-Authentication-0.09.tar.gz,
	NUFFIN/Catalyst-Plugin-Session-0.15.tar.gz,
	NUFFIN/Catalyst-Plugin-Session-State-Cookie-0.07.tar.gz recursive
	dependencies

	http://rt.cpan.org/Ticket/Display.html?id=27848

	* report missing dependency in Compress::LZO or LZOp or some such.
	
 MFX/Compress-LZO-1.08.tar.gz                 : make NO
 PMQS/IO-Compress-Lzop-2.005.tar.gz           : make_test NO

	No bug, just liblzo missing on my system.

	* Todo: re-evaluate if Mail::Send now works for cpantesters.

2007-06-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: check out what exactly rsync 3.0 will bring us with the batch
	mode. It is a way to run many rsync updates simultaneously but not with
	a database for each pair rather with the same batch jobs for all slaves
	or so. I do not think this is what I want.

	* configure_requires needs dummy test distro that depends on some other
	dummy test distro. we must test the behaviour if that other distro is
	available and if it is not available.

	Pick a dummy distro as a blueprint. Make-Expect is a bit too large.
	Build is not suited because I do not speak M:B well. I take the simple
	Make thing and I call the new one Make-ConfReq.

	* Devel::EvalContext? We should run it through a binary search together
	with Data::Alias 1.06. Data::Alias does not like 23023. 26015? No.
	28005? Ignition found. The binsearch reaches 28927/8 which simply cannot
	be it. We must look why EvalContext failed. YAML 0.65 is a prereq and it
	did not compile at that time. In 28928 we have no YAML and so no install
	happens. But why do we have a YAML with 28927? Maybe some test has been
	skipped or some such, it does not really matter. 26015 also fails
	because of YAML. 27422 has YAML and tests OK. For further proceedings we
	must filter out perls that cannot have a YAML 0.65 for whatever reason.
	We should probably install YAML with notest. Doing so now.

	Just for the record, the failing test is this one:

t/marshall...........*** glibc detected *** double free or corruption (fasttop): 0x08607110 ***
dubious
        Test returned status 0 (wstat 6, 0x6)
DIED. FAILED tests 1-10
        Failed 10/10 tests, 0.00% okay

	This does not lead to a convergence either because now I find out that
	the now fixed Data-Alias 1.06 does not work with some earlier
	bleadperls. This means I start another binsearch to find this threshold
	and after that I can limit the other binsearch to the interval that we
	have a working Data::Alias 1.06 for. The threshold is 31252. This is the
	very first bleadperl that works with Data::Alias 1.06

	And within this short interval 31252-31505 Devel::EvalContext seems to
	not run. Now what would be interesting to know: how long did D:E work
	with Data::Alias 1.05?

	The first Devel::EvalContext that worked for me was with 27002

	* Raphael asked me to pay special attention to 31505. New fails
	according to CPAN::Reporter:

	FAIL re-engine-Plan9-0.09                    first time ever
	FAIL re-engine-PCRE-0.10                     first time ever
	FAIL Devel-EvalContext-0.08                  has always failed except for maintperl[1]
	NA Image-Magick-Thumbnail-PDF-1.10           just a new distro

	[1] so why was it reported then? According to CPAN::Reporter it was
	always a NA and is now a FAIL. Reason for NA was that Data::Alias was
	broken and this one got a new release yesterday. So how would
	Devel::EvalContext fare now with the new Data::Alias? Not good.
	
	new fails since 31493:

	AVAR/re-engine-PCRE-0.10.tar.gz                    first time ever
	AVAR/re-engine-Plan9-0.09.tar.gz                   first time ever
	JESSE/Jifty-DBI-0.41.tar.gz                        new failure mode[2]
	LEOCHARRE/Image-Magick-Thumbnail-PDF-1.10.tar.gz   new distro
	MSERGEANT/XML-Filter-XInclude-1.0.tar.gz           has always been flaky
	RJBS/Email-Valid-0.179.tar.gz                      for unknown reason not in 31493 at all
	TELS/graph/Graph-Easy-0.55.tar.gz                  has always been flaky
	TELS/graph/Graph-Easy-As_svg-0.21.tar.gz           has always been flaky

	[2]in 31493 again OK on a new test and in 505 again NOT OK on a new
	test; reading diffs in autobundle seems DBIx::DBSchema has a new release
	0.33 which breaks a test. Downgrading to IVAN/DBIx-DBSchema-0.32.tar.gz
	fixes the tests. http://rt.cpan.org/Ticket/Display.html?id=27827
	
	gone since 31493:

	BRICAS/Catalyst-Plugin-ConfigLoader-0.14.tar.gz
	CHROMATIC/Test-MockObject-1.07.tar.gz
	CHROMATIC/Text-WikiFormat-0.78.tar.gz
	GOMOR/Net-Write-1.00.tar.gz
	IAMCAL/Flickr-API-0.08.tar.gz
	IAMCAL/XML-Parser-Lite-Tree-0.03.tar.gz
	LEOCHARRE/Image-Magick-Thumbnail-PDF-1.09.tar.gz
	MRAMBERG/Catalyst-Devel-1.02.tar.gz
	NUFFIN/Data-Visitor-0.07.tar.gz
	OVID/Class-Trait-0.22.tar.gz
	POLETTIX/WWW-Slides-0.0.9.tar.gz
	REDTREE/PDF-API2-Simple-1.1.2.tar.gz
	STAS/libapreq-1.33.tar.gz
	TSCH/Glib-1.144.tar.gz
	XMATH/Data-Alias-1.05.tar.gz

	That's all fair and explicable and not interesting to report.
	
2007-06-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* 31492 suddenly has several first time failures:

	CHROMATIC/Test-MockObject-1.07.tar.gz           134:1 long errmsg
	CHROMATIC/Text-WikiFormat-0.78.tar.gz           256:1 long errmsg
	OVID/Class-Trait-0.22.tar.gz                    132:1 long errmsg
	NUFFIN/Data-Visitor-0.07.tar.gz                  64:1 dep on MockObject
	POLETTIX/WWW-Slides-0.0.9.tar.gz                 81:1 dep on MockObject
	BRICAS/Catalyst-Plugin-ConfigLoader-0.14.tar.gz 132:1 dep on Data::Visitor

	Class::Trait was the first that jumped into my eyes so it is now running
	a binary search. Waiting for 31487:31492. Waiting for 87:89. No, from
	reading 88 is is clear that it is an issue with 89 and I can inform
	Brandon and go to bed.

	* FOX/Bot-CPAN WTF:

/home/src/perl/repoperls/installed-perls/perl/pcYW9GU/perl-5.8.0@31475/bin/perl Makefile.PL --config= --installdeps=Class::Phrasebook,0.88,Mail::Internet,1.58,XML::RSS::Parser,0.21,Config::Auto,0.03,Module::CPANTS,0.20030725
*** Installing dependencies...
[ERROR] Could not find the 'cpanp-run-perl' in your path--this may be a problem.
Please locate this program and set your 'perlwrapper' config entry to its path.

	And then there is the 1.7 vs 1.11 issue too. Magically search.cpan.org
	displays 1.11 but CPAN.pm chooses 1.7.

	And it depends on Mail::Internet. Why?

	* Convert-PEM has a PASS:FAIL ratio of 322:25

t/02-encode.......# Failed test 7 in t/02-encode.t at line 33
#  t/02-encode.t line 33 is: ok($pem->errstr =~ /^Decryption failed/);
FAILED test 7
^IFailed 1/12 tests, 91.67% okay
t/03-ede3.........ok
Failed Test   Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/02-encode.t               12    1  7
Failed 1/4 test scripts. 1/34 subtests failed.

	I have reported this already 14 days ago.

	http://rt.cpan.org/Ticket/Display.html?id=27574

2007-06-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Just answered Julian Mehnle on module-build and probably even fixed
	his bug. Not feeling lucky. But the likelihood that this will bomb is
	quite low because it only changes behaviour for a leading v.

2007-06-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Forgot to mention the testers Wiki: http://cpantest.grango.org/

	Thanks, Barbie.

	* ZOOLEIKA/RDF-Simple-0.3.tar.gz mixed test results, more FAIL than
	PASS, all visible on http://cpantesters.perl.org/show/RDF-Simple.html.

	http://rt.cpan.org/Ticket/Display.html?id=27757

	But I must really take a break from bugreporting, a burnt out stomach.

2007-06-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* MSCHILLI/CPAN-Unwind-0.04.tar.gz fails because
	Module::Depends::Intrusive is not available. Module::Depends started to
	break with 2007-06-22T06:37 This one looks like a real dependency is
	broken, maybe File::chdir?

  diff -u /home/sand/.cpan/Bundle/Snapshot_2007_06_25_0[01].pm

-File::chdir 0.07
+File::chdir 0.08

  RCLAMP/Module-Depends-0.12.tar.gz
  /usr/bin/make -- OK
Running make test
CPAN: CPAN::Reporter loaded ok (v0.44)
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/depends....Failed to change directory to '/home/sand/.cpan/build/Module-Depends-0.12-hZuYHR/t/no-such-dir' at /home/sand/.cpan/build/Module-Depends-0.12-hZuYHR/blib/lib/Module/Depends.pm line 66
# Looks like you planned 17 tests but only ran 7.
# Looks like your test died just after 7.
dubious
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 8-17
        Failed 10/17 tests, 41.18% okay
Failed Test Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/depends.t  255 65280    17   20  8-17
Failed 1/1 test scripts. 10/17 subtests failed.
Files=1, Tests=17,  2 wallclock secs ( 0.57 cusr +  0.04 csys =  0.61 CPU)

	Downgrading to DAGOLDEN/File-chdir-0.07.tar.gz fixes the tests:

  RCLAMP/Module-Depends-0.12.tar.gz
  /usr/bin/make -- OK
Running make test
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/depends....Subroutine main::build_requires redefined at /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/5.9.5/Exporter.pm line 66.
 at Makefile.PL line 3
Subroutine main::include_deps redefined at /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/5.9.5/Exporter.pm line 66.
 at Makefile.PL line 3
Subroutine main::requires redefined at /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/5.9.5/Exporter.pm line 66.
 at Makefile.PL line 3
ok
All tests successful.
Files=1, Tests=17,  3 wallclock secs ( 0.84 cusr +  0.06 csys =  0.90 CPU)

	I have not checked which behaviour I find more appropriate just wanted
	to let you know.

	http://rt.cpan.org/Ticket/Display.html?id=27721

	* MLEHMANN/AnyEvent-2.52.tar.gz Started dying on 2007-06-21T21:46 with
	'X connection to localhost:10.0 broken (explicit kill or server
	shutdown).' But not always.

	* JRED/Event-ExecFlow-0.63.tar.gz?

	Depends on AnyEvent.

	* DBRIAN/XML-SimpleObject-0.53.tar.gz? Does not declare prereq XML::Parser

	http://rt.cpan.org/Ticket/Display.html?id=27109 (six weeks ago)

2007-06-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CHROMATIC/Crypt-CipherSaber-1.00.tar.gz had a dropout at 31444 need to
	look closer

	* Off topic Todo: Devel::Symdump fails recur test with 5.00504.

	But succeeds in the debugger.

	* DMAKI/File-Extract-0.06.tar.gz is dependent on Spreadsheet::Read and
	therefore has mixed results.

	* Refactor the distroprefs with one file for all the "standard" MI
	distros. DONE but as of 31446 not yet tested.

2007-06-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Glib: I once put a patch for Glib into /tmp/ and then forgot and then
	lost the patch. Today I reconstructed what might have been in there so
	that the distroprefs get useable again. Similarly I had to put the Gtk2
	patch from patches/ to /tmp/.

2007-06-20  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ZOOLEIKA/SVG-Plot-0.06.tar.gz

	http://rt.cpan.org/Ticket/Display.html?id=27652

	* MRAMBERG/Catalyst-Plugin-Unicode-0.3.tar.gz is among the new fails but
	I don't see a fail report on cpantesters. Ah, he did not include the
	inc/ directory so need Module::Install installed. Does not build, cannot
	write a Reporter mail. Already reported by DANIELTWC

	https://rt.cpan.org/Ticket/Display.html?id=27633

	* ARANDAL/parrot-0.4.13.tar.gz does not even finish make:-(

2007-06-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* DBI 1.57 needs a binary search and I cannot compile perls between
	20373 and 20575. They all fail with

cc -L/usr/local/lib -o miniperl \
            miniperlmain.o opmini.o libperl.a -lnsl -ldl -lm -lcrypt -lutil -lc 
libperl.a(mg.o): In function `Perl_magic_set':
/home/src/perl/repoperls/perl-p-5.8.0@20573/mg.c:2215: undefined reference to `setruid'
/home/src/perl/repoperls/perl-p-5.8.0@20573/mg.c:2269: undefined reference to `setrgid'
/home/src/perl/repoperls/perl-p-5.8.0@20573/mg.c:2364: undefined reference to `setproctitle'
libperl.a(pp_sys.o): In function `Perl_pp_fteread':
/home/src/perl/repoperls/perl-p-5.8.0@20573/pp_sys.c:2949: undefined reference to `eaccess'
libperl.a(pp_sys.o): In function `Perl_pp_ftewrite':
/home/src/perl/repoperls/perl-p-5.8.0@20573/pp_sys.c:2976: undefined reference to `eaccess'
libperl.a(pp_sys.o): In function `Perl_pp_fteexec':
/home/src/perl/repoperls/perl-p-5.8.0@20573/pp_sys.c:3003: undefined reference to `eaccess'
collect2: ld returned 1 exit status

	So we could try to replace mg.c and pp_sys.c with later versions? We
	could look into our history if we ever had such an encounter -- No.

	So we need to document that because we will have to go into this region
	again.

	Where were mg.c changes?

	./bin/blame-helper.pl --diffdir APC/5.9.0/diffs --lower 20400 --upper 24009 mg.c

	As expected, I cannot compile 20829 either. As all this is highly
	unlikely to help we should rather look into config.sh:

	Maybe I should try to add to --config '-Ud_eaccess -Ud_setruid
	-Ud_setrgid -Ud_setproctitle'? I think I did that before. Because we
	have the directories already I edit the config.sh to the same effect and
	run make again. I do this in 20474. Yes this is the way to go.

	Lets write this in perl:

	perl -pi~ -e 's/define/undef/ if /^d_(eaccess|setruid|setrgid|setproctitle)=/' config.sh

----Program----
eval q{use DBI 1.57};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pCkomOb/perl-5.8.0@20556/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pdIogQu/perl-5.8.0@20559/bin/perl----
N/A

----EOF ($?='0')----

	Change 20559 by rgs@rgs-home on 2003/08/07 19:59:18

	Subject: Fwd: Re: [PATCH] flags set incorrectly on abandoned lexicals
	From: Dave Mitchell <davem@fdgroup.com>
	Date: Thu, 7 Aug 2003 15:53:35 +0100
	Message-ID: <20030807145335.GF26683@fdgroup.com>

t/86gofer_fail............ok 21/0Unexpected failure: DBD::Gofer::db do failed: A
ssertion !((sv)->sv_flags & 0x00000100) failed: file "pad.c", line 1411 at /home
/sand/.cpan/build/DBI-1.57-QQq6PO/blib/lib/DBI/Gofer/Execute.pm line 624. at t/8
6gofer_fail.t line 129.
# Looks like your test died just after 22.
t/86gofer_fail............dubious
        Test returned status 255 (wstat 65280, 0xff00)
        after all the subtests completed successfully

	

2007-06-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* SVG-Metadata-0.28 might be a pseudo hash issue.

	* TANIGUCHI/Unicode-RecursiveDowngrade-0.03.tar.gz is the next candidate.
	And JUERD/encoding-split-0.01.tar.gz?

----Program----
eval q{use Unicode::RecursiveDowngrade 0.03};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pt5LKrb/perl-5.8.0@24009/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pAnzsYU/perl-5.8.0@24010/bin/perl----
N/A

----EOF ($?='0')----

----Program----
# does not define a VERSION, so we must test without
eval q{use encoding::source 'latin1'};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pfM0pqq/perl-5.8.0@28358/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pDCuNRp/perl-5.8.0@28359/bin/perl----
binmode() on unopened filehandle STDIN at /home/src/perl/repoperls/installed-perls/perl/pDCuNRp/perl-5.8.0@28359/lib/5.9.4/i686-linux-64int/encoding.pm line 165.
binmode() on unopened filehandle STDOUT at /home/src/perl/repoperls/installed-perls/perl/pDCuNRp/perl-5.8.0@28359/lib/5.9.4/i686-linux-64int/encoding.pm line 165.
OK

----EOF ($?='0')----

2007-06-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* between 200706111347 and 200706111947 GMT something removed
	Lingua::Stem::It from packages. 

moddump.200706111347GMT.bz2:INSERT INTO `packages` VALUES ('Lingua::Stem::It','0.02','A/AC/ACALPINI/Lingua-Stem-It-0.02.tar.gz','Lingua-Stem-It-0.02/It.pm','1181290186','1181297408','','index');
moddump.200706111347GMT.bz2:INSERT INTO `perms` VALUES (27133,'Lingua::Stem::It','ACALPINI');
moddump.200706111347GMT.bz2:INSERT INTO `primeur` VALUES ('Lingua::Stem::It','ACALPINI');


moddump.200706111947GMT.bz2:INSERT INTO `perms` VALUES (27133,'Lingua::Stem::It','ACALPINI');
moddump.200706111947GMT.bz2:INSERT INTO `primeur` VALUES ('Lingua::Stem::It','ACALPINI');

	I find no indication as to why this might have happened. So I schedule
	it for reindexing and wait if Lingua::Stem starts to PASS again.

	Further investigations reveal that there *was* a
	A/AC/ACALPINI/Lingua-Stem-it-0.02.tar.gz (note lowercase) which also had
	contained Lingua::Stem::It and when it was removed from cpan, the
	indexer threw away the L:S:I record. Nobody reindexed the
	Lingua-Stem-it-0.02.tar.gz then until I did.

	And then it turned out that this new release broke L:S testsuite:-(

	http://rt.cpan.org/Ticket/Display.html?id=27616

	* Class-DBI is yet to be analysed.

	The RT queue is full of spam. The last release was in November.
	cpantesters has a high number of PASSes.

	Stepping through the debugger reveals:

not ok 1 - DBD::SQLite::st fetchrow_array warning: not an error(0) at dbdimp.c line 504 [for Statement "PRAGMA table_info(Movies)"] at /home/src/perl/repoperls/installed-perls/perl/ph7Gryz/perl-5.8.0@31399/lib/site_perl/5.9.5/DBIx/ContextualFetch.pm line 88.

	Has maybe DBD::SQLite broken Class::DBI? Google for 'PRAGMA table_info()'?

	Aha: http://lists.digitalcraftsmen.net/pipermail/classdbi/2007-March/001583.html

	Answer: Check your version of DBD::SQLite. 1.13 and CDBI don't get
	along. Downgrade to 1.12.

	http://rt.cpan.org/Ticket/Display.html?id=27608
	http://rt.cpan.org/Ticket/Display.html?id=27609

2007-06-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* DANIEL/Crypt-OpenSSL-X509-0.5.tar.gz

	Can't locate inc/Module/Install.pm in @INC (@INC contains: /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/5.9.5/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/5.9.5 /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/site_perl/5.9.5/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/lib/site_perl/5.9.5 .) at Makefile.PL line 3.
BEGIN failed--compilation aborted at Makefile.PL line 3.
Warning: No success on command[/home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/bin/perl Makefile.PL]
  DANIEL/Crypt-OpenSSL-X509-0.5.tar.gz
  /home/src/perl/repoperls/installed-perls/perl/pVSGU0p/perl-5.8.0@31443/bin/perl Makefile.PL -- NOT OK

	http://rt.cpan.org/Ticket/Display.html?id=27765

	* Idea: rewrite the recent command to read and parse
	http://search.cpan.org/uploads.rdf and return and render a pure ascii
	list. Write a smoke command which takes a numeric argument and tests the
	first N items of that list. smoke without arguments smokes the whole
	list.

	Or could we reuse something from a smoke module?

	Test::Smoke                      for perl core tests

	SmokeRunner::Multi               for your own code on your own disk

	Task::Smoke                      Pugs smoking

	CPAN::YACSmoke::Plugin::WebList  Uses http://cpan.uwinnipeg.ca/recent


	Winnipeg then mentions http://cpan.uwinnipeg.ca/htdocs/cpan.xml but this
	is several hours behind in time and does not seem to have developer
	releases. And it sorts alphabetically per day without a trace of a
	timestamp.

	But uploads.rdf does not provide the extension ".tar.gz" or whatever
	should be there. This can be worked around though. Winnipeg has them.

	We need RECENT files on CPAN.

2007-06-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Tie-EncryptedHash-1.21

	http://rt.cpan.org/Ticket/Display.html?id=27585

	* Todo: configure_requires is now official in the META docs and needs
	doing. I'm now sure I want a distropref for personal dependencies. I do
	not want to intermix them with the three _require types, so I'll
	probably call it but_first. The implementation will then be very, very
	close to configure_requires. The point is that this stuff shall kick in
	very early, before we run Makefile.PL.

	Update 2007-06-15 akoenig maybe depends is a better keyword than
	but_first. "But first" comes from hiveminder. We definitely need depends
	WITH sub keywords
	{configure_,build_,}requires modelled after the META spec so that we get
	the full power that is to be implemented anyway.

	* DBIx-Timeout again. I once gave it a dsn but this may have been wrong
	as there is no dependency on dbd::mysql and so we get random results
	depending on DBI::mysql being available or not.

	* AxKit 1.6.2 intermittant failures. In the distropref I wrote once that
	I won't care further but intermittant success/failure keeps the thing
	getting in the way. RT for axkit is full of spam and the last resolved
	bug was two years ago. The mailing list is dead since September 2006. I
	take it out of megainstall.txt for now.

2007-06-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* ROODE/Time-Format-1.02.tar.gz intermittant failures.

	Already in RT (22047) for many months. I should probably patch it.

	I've voiced myself in the ticket for now.

	* RUZ/DBIx-SearchBuilder-1.48 intermittant failures.

	http://rt.cpan.org/Ticket/Display.html?id=27557

	* DBIx-Class with 31369

t/cdbi-t/06-hasa.t                1   256    24    1  17
t/cdbi-t/09-has_many.t            1   256    31    1  31
t/cdbi-t/12-filter.t            255 65280    50   67  1-2 15-16 18 20-50
t/cdbi-t/18-has_a.t               2   512    41    2  26-27
t/cdbi-t/19-set_sql.t           255 65280    17   11  12-17
t/cdbi-t/22-self_referential.t  255 65280     2    4  1-2

	But sometimes all tests pass because these tests are skipped with the
	reason given "Class::Trigger and DBIx::ContextualFetch"

	Are these modules specified as prereqs? No. Bug report filed as

	http://rt.cpan.org/Ticket/Display.html?id=27555

2007-06-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* new fails vs gone fails @31356 disappointing:

	[ADEO/Data-Random-0.05.tar.gz, BYRNE/SOAP-Lite-0.69.tar.gz,
	DBRIAN/XML-SimpleObject-0.53.tar.gz, DMAKI/Class-DBI-Loader-0.32.tar.gz,
	IAMCAL/Flickr-API-0.08.tar.gz, IAMCAL/XML-Parser-Lite-Tree-0.03.tar.gz,
	LBROCARD/Test-WWW-Mechanize-Catalyst-0.37.tar.gz,
	MIYAGAWA/CGI-Untaint-email-0.03.tar.gz,
	MIYAGAWA/Class-DBI-SQLite-0.11.tar.gz, MKUTTER/SOAP-WSDL-1.23.tar.gz,
	MTHURN/Tk-Wizard-2.007.tar.gz, PETDANCE/Test-WWW-Mechanize-1.14.tar.gz,
	PETDANCE/WWW-Mechanize-1.30.tar.gz,
	SIMON/Class-DBI-Loader-Relationship-1.2.tar.gz,
	TEEJAY/Maypole-2.111.tar.gz, TMTM/CGI-Untaint-date-1.00.tar.gz,
	TMTM/Class-DBI-Plugin-RetrieveAll-1.04.tar.gz, TSCH/Glib-1.144.tar.gz,
	VKON/Tcl-0.95.tar.gz, YARON/WWW-Monitor-0.24.tar.gz]

	[CORION/Test-Without-Module-0.09.tar.gz,
	MRAMBERG/Catalyst-View-TT-0.25.tar.gz,
	MSISK/HTML-TableExtract-2.10.tar.gz,
	PETDANCE/Template-Timer-0.04.tar.gz, STAS/libapreq-1.33.tar.gz,
	VKON/Tcl-0.91.tar.gz]

	Well, Mech was failing because wikipedia was down;), so it's not
	reproducable and OK.

2007-06-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* http://rt.cpan.org/Ticket/Display.html?id=27491 Log-Report-0.05
	because it hangs during the test I cannot put it into megainstall

2007-06-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* SWF::Builder flaky test. Seemingly random results. This RT ticket is
	now 4 weeks old. Need to patch the distro.

	http://rt.cpan.org/Ticket/Display.html?id=26971

	distroprefs/YSAS.SWF-Builder.yml DONE

	* POE 0.9989 fails a tk test under very rare unknown circumstances.

	Only three time (2007-06-06T19:55 (31344), 2007-05-29T05:48 (31296),
	2007-05-26T14:17 (31281)) in 26*6+1 times. The failure is not
	reproducable. The logfiles show all three times exactly the same:

t/30_loops/50_tk/wheel_run...................
#   Failed test 'coderef/shutdown close'
#   at t/30_loops/00_base/wheel_run.pm line 332.
#          got: 'close'
#     expected: 'stdout'
# Looks like you planned 99 tests but only ran 97.
# Looks like you failed 1 test of 97 run.
dubious
^ITest returned status 1 (wstat 256, 0x100)
DIED. FAILED tests 53, 98-99
^IFailed 3/99 tests, 96.97% okay

	http://rt.cpan.org/Ticket/Display.html?id=27478

	* MSISK/HTML-TableExtract

	https://rt.cpan.org/Ticket/Display.html?id=20709

	The output looks very similar to HTML::CalendarMonth. It's about the
	difference between <foo attr=0> and <foo attr="0">.

	I see very randomly looking test results. There must be a correlation to
	some already installed module.

$ grep -r 'eval.*use ' lib/
lib/HTML/TableExtract.pm:    eval "use HTML::TreeBuilder";
lib/HTML/TableExtract.pm:    eval "use HTML::ElementTable 1.17";

	The TreeBuilder is it.

	But this does not answer the HTML::CalendarMonth problem.

	* why does an upgrade install Chart 2.4.1? Because 2.4.1 < 2.3? How does
	this happen?

	Chart::Mountain               undef  2.004001  CHARTGRP/Chart-2.4.1.tar.gz

2007-06-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: Test if we can work with YAML::Tiny.
	http://svn.ali.as/cpan/concept/cpan-yaml-tiny/

	No, it fails on many distroprefs files and on FTPstats.yml. This was
	with 0.12.

	* WWW::Live365 has very mixed/random test results. Most recent breakage
	was WWW::Mechanize but this seems to be fixed now, so probably
	everything OK.

2007-06-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Watch HTML-TreeBuilder-XPath-0.08

	It failed suddenly in current build and has quite a good history of
	green builds, although not perfect.

	* Binary searches in some regions below 23023 are getting uglier and
	uglier. I now see test failures in CPAN.pm's 10version.t (Out of
	memory!) so CPAN.pm does not get installed, we have to use a very old
	CPAN.pm which cannot install current CPAN::Reporter and cannot run
	distroprefs. So it asks all the questions that we had so happily
	eliminated.

	Some time ago I had always used the very current CPAN.pm from the repo
	for running the binary searches. Maybe I should switch back to that?

	Notest is your friend! First we check if we are below patchlevel 23023.
	Then we check if we are below 1.8802. If so, we install 1.8802 so that
	we get at "notest". Then we install current version with the help of
	notest. Fini. Now it flies again.

	* SADAHIRO/ShiftJIS-X0213-MapUTF-0.30.tar.gz might also be a candidate,
	or with the same history pattern:
	SADAHIRO/ShiftJIS-CP932-MapUTF-1.01.tar.gz

	Let's try with

	ShiftJIS::X0213::MapUTF

	This became a BBC article on 2007-06-05

	* Time-HiRes-Value-0.04 has an unreproducable test failure.

make[3]: Entering directory `/home/sand/.cpan/build/Time-HiRes-Value-0.04-GZ0nGl'
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/p4tyIz4/perl-5.8.0@31330/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/01test......ok
t/02timing....
#   Failed test at t/02timing.t line 19.
#          got: ''
#     expected: '1'
# Looks like you failed 1 test of 2.
dubious
^ITest returned status 1 (wstat 256, 0x100)
DIED. FAILED test 2
^IFailed 1/2 tests, 50.00% okay
Failed Test  Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/02timing.t    1   256     2    1  2
Failed 1/2 test scripts. 1/52 subtests failed.

	* LBROCARD/Devel-ebug-0.48.tar.gz has intermittent failures, should be
	reported.

	* SAVA/Encode-IMAPUTF7-1.00.tar.gz candidate for binary search? 23023
	fails also. 20002 doesn't fail. After many hours we reach the interval
	between 22774 and 22872 and we need to build new perls again.

	Before we reach the endpoint I already see that the test output has
	already changed somewhere, so maybe we need more binary searches. The
	failure @22842 looks so simple:

t/0-test....Modification of a read-only value attempted at /home/sand/.cpan/build/Encode-IMAPUTF7-1.00/blib/lib/Encode/IMAPUTF7.pm line 39.
# Looks like your test died before it could output anything.
t/0-test....dubious                                                          
        Test returned status 255 (wstat 65280, 0xff00)

----Program----
eval q{use Encode::IMAPUTF7 1.00};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p1d1ohA/perl-5.8.0@22841/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p4U7uLf/perl-5.8.0@22842/bin/perl----
N/A

----EOF ($?='0')----

	* Net-Write has a negative dependency on Pod::Coverage on bleadperl. The
	type we saw with File::Slurp and Graph::Easy and Tk::Wizard.

2007-06-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* New idea how to quickly locate more candidates for binary searches:

% HEAD http://cpantesters.perl.org/testers.db
200 OK
Connection: close
Date: Sat, 02 Jun 2007 15:25:43 GMT
Accept-Ranges: bytes
ETag: "f4022-59f3000-35b66a40"
Server: Apache/2.0.55 (Unix)
Content-Length: 94318592
Content-Type: text/plain; charset=ISO-8859-1
Last-Modified: Sat, 02 Jun 2007 14:33:05 GMT
Client-Date: Sat, 02 Jun 2007 15:25:44 GMT
Client-Peer: 216.52.237.215:80
Client-Response-Num: 1

	and then with SQLite pick everything that has 5.8.8 OK and 5.9.*
	something failing.

2007-06-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* metadata::byinode is all rrrrrrred.

	* Archive-Any broken since many months, trivial patch would be possible.
	Nooo! Let's limit the tests to be run instead!

	* Off topic: [perl #43088] needs a binary search. DONE

	* SADAHIRO/String-Multibyte-1.05.tar.gz needs a binary search.
----Program----
eval q{use String::Multibyte 1.05};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pziyPD8/perl-5.8.0@29317/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pZitec4/perl-5.8.0@29318/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 29317 and 29318

	BBC article written:

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/86d76ccbfdd0bc82/1fe1c0328a992fd3#1fe1c0328a992fd3

2007-05-31  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* AMICHAUER/Unicode-Lite-0.12.tar.gz works with maint not with blead.

	It's a module from 2002-08-29, what can we expect? Still we must find
	the reason why it started failing. The patch number is 24660. I found it
	commented in 'This Week on perl5-porters (3-9 October 2005)':

	http://www.nntp.perl.org/group/perl.perl5.summary/2005/10/msg137.html

	There has not been a BBC article about 24660 yet... Now there is.

	And Nicholas has posted a fix too.

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/ebf004f17dc0b844/c30308d4bac1ddd2#c30308d4bac1ddd2

	http://rt.cpan.org/Ticket/Display.html?id=27378

	* Voting:C:RP either broke between 2007-04-28T18:42 and
	2007-04-29T07:05. The maint 5.8 result seems to proof that it was not a
	bleedperl change:

599	PJF/Voting-Condorcet-RankedPairs-1.01 294	2007-04-29T07:05 perl      31105 NOT OK
258	PJF/Voting-Condorcet-RankedPairs-1.01 295 2007-04-28T18:42 perl 	   31104 OK
588	PJF/Voting-Condorcet-RankedPairs-1.01 296	2007-04-27T23:29 perl 	   31103 OK
562	PJF/Voting-Condorcet-RankedPairs-1.01 297	2007-04-27T17:10 perl 	   31102 OK
289	PJF/Voting-Condorcet-RankedPairs-1.01 293	2007-04-29T16:01 maint-5.8 31100 NOT OK
662	PJF/Voting-Condorcet-RankedPairs-1.01 298	2007-04-27T04:58 perl 	   31093 OK

	It's a simple dependency on Graph and that bug is already reported, so
	nothing to do.

2007-05-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Test::FormValidator is a candidate for BBC? 23023 failed the same way
	as current. 20002 also. So no, it is not a candidate, it is simply
	broken by some dependency and RT shows it and cpantesters has plenty of
	indicators. This is a case where we need a rule when a module is to be
	removed from megainstall.

	* why is DBD::SQLite failing? Since 2007-05-27T11:40, 2007-05-26T14:17
	was still OK?

-rw-r--r-- 1 root root     288 May 27 00:02 libsqlite3-0.list
-rw-r--r-- 1 root root     379 May 27 00:02 libsqlite3-dev.list

	So we must find out which parameter DBD::SQLite needs to find the right
	libsqlite.

libsqlite3-0/testing uptodate 3.3.14-1
libsqlite3-dev/testing uptodate 3.3.14-1

	The Changes file says it is up to date with 3.3.5!

	https://rt.cpan.org/Ticket/Display.html?id=27324

2007-05-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: equip all installed perls with current CPAN and CPAN::Reporter DONE

	* B::Generate has already got a BBC article.

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/4b2eff569d6bf8f6/72703631005603e3?lnk=gst&q=B%3A%3AGenerate&rnum=4#72703631005603e3

	Now Scott Walters claims to have a working replacement.
	SWALTERS/B-Generate-1.06_1.tar.gz

	But it doesn't work on bleadperl either.

	The BBC article about ABERGMAN's 1.06 pointed to bleadperl@22315.

	New binary search needs a little help to get a proper result. Old CPAN
	and CPAN::Reporter get in the way. Upgrade. Then continue with Scott's
	and Schwern's version, verify that 22315 really was the breaker. Speed
	things up.

2007-05-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CLEISHMAN/Cache-2.04.tar.gz has been tested 293 times and has 7
	randomly distributed fails.

	https://rt.cpan.org/Ticket/Display.html?id=27280

	* YARON/WWW-Monitor-0.24.tar.gz broken:

20070519T0232 perl        31238 1100 OK    
20070519T1331 perl        31239  750 OK    
20070520T0357 perl        31240  641 OK    
20070520T1139 maint-5.8   31223   62 NOT OK
20070520T1732 perl        31244  554 NOT OK
20070521T0310 perl        31246  490 NOT OK

	Dependency on WWW-Mechanize which is not only broken ATM but all
	releases have been removed from CPAN due a glitch by Andy.
	PETDANCE/WWW-Mechanize-1.29_01.tar.gz fixes the gap for the moment.

	* Paul Johnson has already noticed that the test t/ainc_sub.t fails. I
	just need to give the failure of PJCJ/Devel-Cover-0.61.tar.gz a number
	between

20070306T1150 perl        30482    0 OK
20070306T1747 perl        30488    0 NOT OK

----Program----
eval q{use Devel::Cover 0.61};
print $@ ? "N/A" : "OK";
print "\n";

#my $output_file = "$^X.devel-cover-test.out";
#print -s $output_file < 1000000 ? "ok" : "not ok";
#print "\n";

----Output of .../po3mlZz/perl-5.8.0@30487/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pmmbb0x/perl-5.8.0@30488/bin/perl----
N/A

----EOF ($?='0')----

2007-05-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Data-Alias started to fail two smokes ago, binary search is running.

	But why do I now see it fail on 30019 too?

	Ahh, because it needs some minimum version too?

Alias.xs:1670: error: 'yy_parser' has no member named 'lex_state'

	I suppose XMATH knows about the need for a new release, 1.05 was
	released on May 13, so I should not waste everybody's time. But it is
	funny that he has already been featured in a BBC article with his
	version 1.03. 31252 is "move PL_tokenbuf into the PL_parser struct"

----Program----
eval {require Data::Alias};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pjXKm5E/perl-5.8.0@31251/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pPhwDas/perl-5.8.0@31252/bin/perl----
N/A

----EOF ($?='0')----

2007-05-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* JPEACOCK/SVN-Notify-Config-0.0907.tar.gz:

20070326T0114 perl        30754    0 OK
20070326T0933 perl        30756    0 OK
20070326T1512 perl        30759    0 OK
20070326T2046 perl        30763    0 OK
20070327T0157 perl        30769    0 OK
20070327T0954 perl        30771    0 NOT OK
20070327T1451 perl        30773    0 NOT OK
20070327T2003 perl        30774    0 NOT OK
20070328T1247 perl        30775    0 NOT OK
20070329T0833 maint-5.8   30765    0 NOT OK

	Must be a module or a debian thing, not a bleadperl change. On Mar 27th
	I seem to have upgraded the kernel. But the large upgrade was on 28th.

	The snapshot diff tells me

-SVN::Notify 2.64
+SVN::Notify 2.65
 
 SVN::Notify::Alternative 1.0
 
-SVN::Notify::Config 0.0907
-
-SVN::Notify::HTML 2.64
+SVN::Notify::HTML 2.65
 
-SVN::Notify::HTML::ColorDiff 2.64
+SVN::Notify::HTML::ColorDiff 2.65

-Time::Duration 1.04
-
-Time::Duration::Parse 0.02


So this is the failure mode with bleadperl@31244 ATM:

cpan[2]> test  SVN::Notify::Config 
Running test for module 'SVN::Notify::Config'
CPAN: CPAN::Kwalify loaded ok (v5.401418)
CPAN: Kwalify loaded ok (v1.14)
Running make for J/JP/JPEACOCK/SVN-Notify-Config-0.0907.tar.gz
  Has already been unwrapped into directory /home/sand/.cpan/build/SVN-Notify-Config-0.0907-Xgs9t8
  Has already been made
Running make test
/home/src/perl/repoperls/installed-perls/perl/peSkxq2/perl-5.8.0@31244/bin/perl Build --makefile_env_macros 1 test
t/001_basic.....ok                                                           
t/002_config....ok 2/0                                                       
#   Failed test 'Failed to produce expected results at rev: 3'
#   at t/coretests.pm line 116.
t/002_config....NOK 6/0                                                      
#   Failed test 'All object properties match at rev: 6'
#   at t/coretests.pm line 108.
#     Structures begin differing at:
#          $got->[0]{PATH} = Does not exist
#     $expected->[0]{PATH} = '/usr/local/bin:/usr/bin'

#   Failed test 'Failed to produce expected results at rev: 7'
#   at t/coretests.pm line 116.
# Looks like you failed 3 tests of 7.
t/002_config....dubious                                                      
        Test returned status 3 (wstat 768, 0x300)
DIED. FAILED tests 3, 6-7
        Failed 3/7 tests, 57.14% okay
t/003_config....NOK 9/0                                                      
#   Failed test 'All object properties match at rev: 9'
#   at t/coretests.pm line 108.
#     Structures begin differing at:
#          $got->[1] = Does not exist
#     $expected->[1] = SVN::Notify::Dummy=HASH(0x86d4dec)
t/003_config....NOK 12/0                                                     
#   Failed test 'All object properties match at rev: 12'
#   at t/coretests.pm line 108.
#     Structures begin differing at:
#          $got->[1] = Does not exist
#     $expected->[1] = SVN::Notify::Dummy=HASH(0x86d5864)
# Looks like you failed 2 tests of 12.
t/003_config....dubious                                                      
        Test returned status 2 (wstat 512, 0x200)
DIED. FAILED tests 9, 12
        Failed 2/12 tests, 83.33% okay
Failed Test    Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/002_config.t    3   768     7    3  3 6-7
t/003_config.t    2   512    12    2  9 12
Failed 2/3 test scripts. 5/20 subtests failed.
Files=3, Tests=20, 16 wallclock secs ( 9.87 cusr +  0.90 csys = 10.77 CPU)
Failed 2/3 test programs. 5/20 subtests failed.
make: *** [test] Error 2
  JPEACOCK/SVN-Notify-Config-0.0907.tar.gz
  /usr/bin/make test -- NOT OK
Failed during this command:
 JPEACOCK/SVN-Notify-Config-0.0907.tar.gz     : make_test NO


	After a downgrade of SVN::Notify to 2.64
	(DWHEELER/SVN-Notify-2.64.tar.gz) we see:

cpan[6]> test  SVN::Notify::Config              
Running test for module 'SVN::Notify::Config'
Running make for J/JP/JPEACOCK/SVN-Notify-Config-0.0907.tar.gz
  Has already been unwrapped into directory /home/sand/.cpan/build/SVN-Notify-Config-0.0907-Xgs9t8
  Has already been made
Running make test
/home/src/perl/repoperls/installed-perls/perl/peSkxq2/perl-5.8.0@31244/bin/perl Build --makefile_env_macros 1 test
t/001_basic.....ok                                                           
t/002_config....ok                                                           
t/003_config....ok                                                           
All tests successful.
Files=3, Tests=20, 25 wallclock secs (10.36 cusr +  0.85 csys = 11.21 CPU)
  JPEACOCK/SVN-Notify-Config-0.0907.tar.gz
  /usr/bin/make test -- OK

	http://rt.cpan.org/Ticket/Display.html?id=26209

2007-05-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* During the test of PJCJ/Devel-Cover-0.61.tar.gz within
	megainstall.20070519T1331.out I got this 22MB extra output once again.
	Devel-Cover fails for a very long time already and I'm unsure if I
	have reported this or not.

2007-05-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Noise during megainstall while smoking 31235:

*** glibc detected *** double free or corruption (!prev): 0x0835f4f8 ***
*** glibc detected *** free(): invalid next size (normal): 0x08376b30 ***
*** glibc detected *** realloc(): invalid next size: 0x08365dc8 ***
*** glibc detected *** double free or corruption (!prev): 0x0835f608 ***
*** glibc detected *** free(): invalid next size (normal): 0x08376b30 ***
*** glibc detected *** realloc(): invalid next size: 0x08365dc8 ***
*** glibc detected *** free(): invalid next size (normal): 0x083759f0 ***

	and the test for FLORA/Net_SSLeay.pm-1.30.tar.gz or something after it
	hangs. This is the last thing in the logfile before I go kill some job:

All tests completed OK.
make[4]: Entering directory `/home/sand/.cpan/build/Net_SSLeay.pm-1.30-D3dijc/Net-SSLeay-Handle-0.50'
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/bin/perl "-I../blib/lib" "-I../blib/arch" test.pl
1..3
ok 1
    About to test the following external sites:

    www.cdw.com
    banking.wellsfargo.com
    secure.worldgaming.net
    www.ubs.com

    You have 5 seconds of time to hit Ctrl-C if you do not like this.
    So far there were no errors in tests.
    Following tests _will_ fail if you do not have network
    connectivity (or if the servers are down or have changed).

  testing https://www.cdw.com/ ...
  14 header and 451 document lines
  testing https://banking.wellsfargo.com/ ...
  6 header and 0 document lines
  testing https://secure.worldgaming.net/ ...
  8 header and 16 document lines
  testing https://www.ubs.com/ ...
  12 header and 340 document lines
  All sites were successful!
ok 2
creating 3 SSL sockets ...
  reading from www.cdw.com with socket 3
  14 header and 451 document lines
  reading from banking.wellsfargo.com with socket 4
  6 header and 0 document lines
  reading from secure.worldgaming.net with socket 5
  8 header and 16 document lines
  closing socket 3
  closing socket 4
  closing socket 5
  All sites were successful!
ok 3
make[4]: Leaving directory `/home/sand/.cpan/build/Net_SSLeay.pm-1.30-D3dijc/Net-SSLeay-Handle-0.50'
make[3]: Leaving directory `/home/sand/.cpan/build/Net_SSLeay.pm-1.30-D3dijc'
makewrapper: make ok




	Now I'm gonna kill

sand      4313  0.0  0.5  12612  7868 pts/5    S+   16:39   0:00 /home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/bin/perl -Iblib/lib -Iblib/arch -I/home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/lib/5.9.5/i686-linux-64int -I/home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/lib/5.9.5 -I/home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/lib/site_perl/5.9.5/i686-linux-64int -I/home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/lib/site_perl/5.9.5 -I. examples/sslecho.pl 1212 examples/cert.pem examples/key.pem


	And after having done that I see this in the logfile:

sh: line 1:  4313 Terminated              /home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/bin/perl -Iblib/lib -Iblib/arch -I/home/src/per
l/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/lib/5.9.5/i686-linux-64int -I/home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/li
b/5.9.5 -I/home/src/perl/repoperls/installed-perls/perl/pjIcU5f/perl-5.8.0@31235/lib/site_perl/5.9.5/i686-linux-64int -I/home/src/perl/repoperls/installed-perls
/perl/pjIcU5f/perl-5.8.0@31235/lib/site_perl/5.9.5 -I. examples/sslecho.pl 1212 examples/cert.pem examples/key.pem >>sslecho.log 2>&1
ESC[1;34;47mTest result is 'pass'ESC[0mESC[1;34;47m: 'make test' no errorsESC[0mESC[1;34;47m.
ESC[0mESC[1;34;47mPreparing a test report for Net_SSLeay.pm-1.30
ESC[0mESC[1;31;47m
It seems that "PASS Net_SSLeay.pm-1.30 i686-linux-64int 2.6.18-4-k7"
is a duplicate of a previous report you sent to CPAN Testers.

Test report will not be sent.

ESC[0mESC[1;34;47m  FLORA/Net_SSLeay.pm-1.30.tar.gz
ESC[0mESC[1;34;47m  /usr/bin/make test -- OK
ESC[0mESC[1;34;47mRunning make install



	Time to disable Net_SSLeay completely? Remember, we have already a very
	old bug report for it. (http://rt.cpan.org/Ticket/Display.html?id=24180)

2007-05-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* install Parrot::Interpreter

	cc -o miniparrot src/main.o \
    -Wl,-rpath=/home/sand/.cpan/build/parrot-0.4.12-Y2yjot/blib/lib -L/home/sand/.cpan/build/parrot-0.4.12-Y2yjot/blib/lib -lparrot  -lnsl -ldl -lm -lcrypt -lutil -lpthread -lrt -lgmp -lreadline -lncurses -L/usr/local/lib -Wl,-E   src/null_config.o
Invoking Parrot to generate runtime/parrot/include/config.fpmc --cross your fingers
./miniparrot config_lib.pasm > runtime/parrot/include/config.fpmc
miniparrot: src/events.c:270: init_events_first: Assertion `rc == 0' failed.
/bin/sh: line 1: 20487 Aborted                 ./miniparrot config_lib.pasm >runtime/parrot/include/config.fpmc

	An unlucky but an amazing first time experience. (This was with blead)

	And with maint? Same thing.

	* Pod::Xhtml 1.56 fails but this seems just a dependency bug.

	http://rt.cpan.org/Ticket/Display.html?id=27165

	And fixed in 1.57.

2007-05-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* DBIx::Class also became unstable recently. Something to do with
	sqlite?

2007-05-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* http://use.perl.org/~BinGOs/journal/33270

	Bingos explains how to smoke.

2007-05-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: Revisit ABERGMAN/B::Generate (DONE), Devel-Profile (DONE),
	Term-Size-Unix, GAAL/Best (DONE), Class-DBI;

	What's up with MetaSyntactic? (DONE)

	How to deal with the pseudohashes cargo in BRADFITZ universe?

	Watch out for duplicate posts to cpantesters probably due to an older
	Reporter (0.41 instead of 0.43!). Binary search must always upgrade it.
	(DONE)

	Go after users of too old ExtUtils::AutoInstall(?) What speaks against
	it is that I'm still not happy about Module::Install and an upgrade does
	not gain us much. But something was broken recently in OpenPGP, right?

----Program----
eval q{use Best 0.11};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pf18JVi/perl-5.8.0@30979/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p1MWHxg/perl-5.8.0@30980/bin/perl----
N/A

----EOF ($?='0')----

	* Perl6-Attributes broken by 31200 got a BBC article. Fixed by Davem.

	* Module-Info:

	% perl bin/show-history.pl MBARBON/Module-Info-0.30.tar.gz

20070420T2054 perl        30999  756 OK    
20070421T0311 perl        31000  286 OK    
20070421T0807 maint-5.8   30961  377 NOT OK
20070421T1330 perl        31008  416 NOT OK

	All before that were OK, all after NOT OK. Looks like a version.pm problem.

	http://rt.cpan.org/Ticket/Display.html?id=27114

2007-05-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Class::DBI is breathtaking:

% perl bin/show-history.pl TMTM/Class-DBI-v3.0.16.tar.gz | cut -c 38- | sort | uniq -c
    261 NOT OK
      2 OK    

	Twice OK!

	* STAS/libapreq-1.33.tar.gz: the Makefile.PL fails when mod_perl isn't
	installed. Should write a bugreport.

2007-05-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* PJCJ/Devel-Cover-0.61.tar.gz:

20070306T0133 perl        30481    0 OK
20070306T0908 maint-5.8   30480    0 OK
20070306T1150 perl        30482    0 OK
20070306T1747 perl        30488    0 NOT OK
20070306T2256 perl        30489    0 NOT OK
20070307T1836 perl        30497    0 NOT OK
20070308T0013 perl        30500    0 NOT OK
20070308T0533 perl        30510    0 NOT OK
20070308T1220 perl        30511    0 NOT OK
20070308T1754 perl        30518    0 NOT OK
20070309T0854 maint-5.8   30509    0 OK
20070309T2004 perl        30525    0 NOT OK

	* Attacking perlbal from inside. There are three envariables to turn on
	debugging and I can add code to use them. But where does the server log
	its problems?

	The code hints at syslog but maybe user sand cannot do that? 

	The stupid thing is that Perlbal cannot do something but all it
	complains about is "Configuration error". Currently 1.58 does that for
	both 23023 and 31199. And 20002. And 16961.

	Maybe it is trivial, something with /tmp and permissions? All I need is
	the real reason for the error.

	Finally a brilliant idea:

	make testdb TEST_FILE=t/10-testharness.t

  DB<9> n
ERROR: Modification of a read-only value attempted at blib/lib/Perlbal/TCPListener.pm line 51.
Configuration error at blib/lib/Perlbal/Test.pm line 132.

	Which leads me to a line where a fields object gets reblessed:

	 51     bless $self, ref $class || $class;

	So same problem as in Danga::Socket and I can fix that. But before that
	I should have a look at a rebless module.

	Yes, a dozen spots where a fields object gets reblessed. Then this:

crash log: Attempt to access disallowed key 'last_request_time' in a restricted hash at blib/lib/Perlbal/ClientProxy.pm line 90, <GEN2> line 1.

	Now only 32-selector.t fails. It seems to have to do with inheritance. I
	put a little debugging into rebless() and see this:

[pid=29009->29015]  DB<10> beginning run
ok 2 - perlbal started
ok 3 - status response ok
ok 4 - one done
crash log: Caught[Hash has key 'reproxy_expected_size' which is not in the new key set at /home/src/perl/repoperls/installed-perls/perl/pYqY8BO/perl-5.8.0@31199/lib/site_perl/5.9.5/Danga/Socket.pm line 1380
crash log: ]oldref[Perlbal::ClientHTTPBase]newref[Perlbal::ClientHTTP] at /home/src/perl/repoperls/installed-perls/perl/pYqY8BO/perl-5.8.0@31199/lib/site_perl/5.9.5/Danga/Socket.pm line 1383
crash log:      Danga::Socket::rebless('Perlbal::ClientHTTP=HASH(0x8adc320)', 'Perlbal::ClientHTTP') called at blib/lib/Perlbal/ClientHTTP.pm line 49
crash log:      Perlbal::ClientHTTP::new_from_base('Perlbal::ClientHTTP', 'Perlbal::ClientHTTP=HASH(0x8adc320)') called at blib/lib/Perlbal/Service.pm line 1301
crash log:      Perlbal::Service::adopt_base_client('Perlbal::Service=HASH(0x8cf4d74)', 'Perlbal::ClientHTTP=HASH(0x8adc320)') called at blib/lib/Perlbal/Plugin/Vhosts.pm line 123
crash log:      Perlbal::Plugin::Vhosts::__ANON__[blib/lib/Perlbal/Plugin/Vhosts.pm:125]('webserver') called at blib/lib/Perlbal/Plugin/Vhosts.pm line 141
crash log:      Perlbal::Plugin::Vhosts::vhost_selector('Perlbal::ClientHTTP=HASH(0x8adc320)') called at blib/lib/Perlbal/ClientHTTPBase.pm line 249
crash log:      Perlbal::ClientHTTPBase::__ANON__[blib/lib/Perlbal/ClientHTTPBase.pm:250]() called at blib/lib/Perlbal/ClientHTTPBase.pm line 256
crash log:      Perlbal::ClientHTTPBase::event_read('Perlbal::ClientHTTP=HASH(0x8adc320)') called at /home/src/perl/repoperls/installed-perls/perl/pYqY8BO/perl-5.8.0@31199/lib/site_perl/5.9.5/Danga/Socket.pm line 527
crash log:      Danga::Socket::EpollEventLoop('Perlbal::Socket') called at blib/lib/Perlbal.pm line 1180
crash log:      eval {...} called at blib/lib/Perlbal.pm line 1178
crash log:      Perlbal::run() called at blib/lib/Perlbal/Test.pm line 138
crash log:      Perlbal::Test::_start_perbal_server('\x{a}LOAD vhosts\x{a}CREATE POOL a\x{a}\x{a}CREATE SERVICE ss\x{a}  SET ss.listen...', 60003) called at blib/lib/Perlbal/Test.pm line 116
crash log:      Perlbal::Test::start_server('\x{a}LOAD vhosts\x{a}CREATE POOL a\x{a}\x{a}CREATE SERVICE ss\x{a}  SET ss.listen...') called at t/32-selector.t line 56
ending run

	So I try to write a new rebless function that which locks the old keys
	AND the new keys. Again

t/32-selector.t  255 65280    38   72  3-38

	Yes, this can be worked around with extremely ugly nonsensical code.
	But it may give way to something better.

	For now I put the patch into the patches directory.

	* Bug: megainstall.20070511T2103.out shows an endless loop for HTML-GMap.

---- Unsatisfied dependencies detected during ----
----      PCANARAN/HTML-GMap-0.02.tar.gz      ----
    GD::Icons [requires]
    CGI::Session [requires]
    Time::Format [requires]

	Then it satisfied GD::Icons and Time::Format and from then it looped
	with

Running make for P/PC/PCANARAN/HTML-GMap-0.02.tar.gz
  Has already been unwrapped into directory /home/sand/.cpan/build/HTML-GMap-0.02-1Cclg2

  CPAN.pm: Going to build P/PC/PCANARAN/HTML-GMap-0.02.tar.gz

---- Unsatisfied dependencies detected during ----
----      PCANARAN/HTML-GMap-0.02.tar.gz      ----
    CGI::Session [requires]
Running make test
  Delayed until after prerequisites
Running make install
  Delayed until after prerequisites
Running install for module 'CGI::Session'
Running make install
  make test had returned bad status, won't install without force
Running make for P/PC/PCANARAN/HTML-GMap-0.02.tar.gz

	It is a goto problem. CGI-Session had a goto but the target then failed.

2007-05-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Uploaded today:

CFRANKS   Perl6-Junction-1.30000.tar.gz           6k   11 May 2007
MARKOV    MailTools-1.77.tar.gz                  47k   11 May 2007

	* If I find a way to reproduce the test breakage, Tim asks for:

	DBI_TRACE=4 DBD_GOFER_TRACE=1 DBI_GOFER_TRACE=4 perl -Mblib t/zvg_85gofer.t > zvg_85gofer.log 2>&1

	* JPRIT/Event-1.08.tar.gz broken by bleadperl but not easy to track.

	http://groups.google.de/group/perl.perl5.porters/browse_frm/thread/f17cb95982764f54/afa5337cf7fe5c7d?lnk=gst&q=Josh+Event&rnum=1&hl=de#afa5337cf7fe5c7d

	But where's the patch? This was a week ago on 31130. Patch uploaded and
	distropref written.

	* SUNGO/POE-API-Peek-1.0802.tar.gz never works but it has only PASSes on
	cpantesters. Dependency on Devel::Size.

	* RIZEN/Config-JSON-1.0.3.tar.gz broke on the day we switched user:

20070417T1509 perl        30970  375 OK    
20070418T2250 perl        30977  443 NOT OK

	Again a predictable filename in /tmp/

	http://rt.cpan.org/Ticket/Display.html?id=27078

2007-05-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* PETDANCE / Test::WWW::Mechanize 1.12 is failing all the time.

	There is a cleanup routine that kills the server without further
	diagnostics. The reason why this cleanup is called prematurely is
	"Can\'t locate Encode/ConfigLocal.pm in @INC" what I found out by
	running through the debugger. Called at Encode.pm line 53 !!!

 50 our %Encoding;
 51 our %ExtModule;
 52 require Encode::Config;
 53 eval { require Encode::ConfigLocal };

	Is this a $^S issue? Yes, as already reported by mark@blackmans.org in

	https://rt.cpan.org/Ticket/Display.html?id=26602

	* top failing module today is MARKSTOS/CGI-Session-4.20. Does not sound
	familiar. But in fact it failed all runs since 30977, both maint and
	blead. I have already reported to cpantesters but most reports were
	PASS. ARRRG, this is the annoying circular data structures problem in
	JSON::Syck. We seem to have a negative dependency on JSON::Syck. But as
	we always install it because it comes with YAML::Syck we see the
	negative report always.

	And now I discover that there is a 4.20_1 since last November. But it
	fails at the same test.

	* 26664 is reopened by Marek and he asks for a chmod before running
	patch. I'd think we should chmod selectively.

	* Bugreport from Slaven: $SIG{WINCH} must be dealt with. If one changes
	the windowsize while lwp is fetching something the transfer is being
	aborted. By setting $SIG{WINCH} to IGNORE this can be avoided.

	* Jifty caused a hang in the test suite again. I solved it the same way
	as the other times but this time I had to kill an additional ptee
	process which apparently was still waiting. Frightening.

	* B::Generate seems to be broken. It was also already broken at 23023
	which is my first intermediate point to base binary searches on because
	it is faster than 20002. And the interval [20002,23023] is it.

----Program----
eval q{use B::Generate 1.06};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pCWADJn/perl-5.8.0@22314/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pXfp3lj/perl-5.8.0@22315/bin/perl----
N/A

----EOF ($?='0')----

	* JAW/Devel-Profile-1.05.tar.gz looks like a candidate for a binary search.

	It is OK on maint and fails on blead since 30950 (the earliest I have
	ATM). But 23023 fails the same way. So we slip into the [22682,22741]
	interval and binary search starts building new old perls.

  CPAN.pm: Going to build J/JA/JAW/Devel-Profile-1.05.tar.gz

Checking if your kit is complete...
Looks good
Writing Makefile for Devel::Profile
cp Profile.pm blib/lib/Devel/Profile.pm
Manifying blib/man3/Devel::Profile.3
  JAW/Devel-Profile-1.05.tar.gz
  /usr/bin/make -- OK
Running make test
CPAN::Reporter not installed, falling back to testing without
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/perl/p7UlFTf/perl-5.8.0@22741/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/test1....ok
t/test2....dubious
        Test returned status 0 (wstat 11, 0xb)
t/test3....cannot open prof.out: No such file or directory
t/test3....dubious
        Test returned status 2 (wstat 512, 0x200)
DIED. FAILED tests 1-2
        Failed 2/2 tests, 0.00% okay
t/test4....dubious
        Test returned status 0 (wstat 11, 0xb)
t/test5....cannot open prof.out: No such file or directory
t/test5....dubious
        Test returned status 2 (wstat 512, 0x200)
DIED. FAILED tests 1-2
        Failed 2/2 tests, 0.00% okay
Failed Test Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/test2.t      0    11    ??   ??  ??
t/test3.t      2   512     2    4  1-2
t/test4.t      0    11    ??   ??  ??
t/test5.t      2   512     2    4  1-2
Failed 4/5 test scripts. 4/5 subtests failed.
Files=5, Tests=5,  0 wallclock secs ( 0.13 cusr +  0.02 csys =  0.15 CPU)
Failed 4/5 test programs. 4/5 subtests failed.
make: *** [test_dynamic] Error 2
  JAW/Devel-Profile-1.05.tar.gz
  /usr/bin/make test -- NOT OK
Running make install
  make test had returned bad status, won't install without force
----Program----
eval q{use Devel::Profile 1.05};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../p4yYZ5s/perl-5.8.0@22739/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p7UlFTf/perl-5.8.0@22741/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 22739 and 22741
No patch available between 22739 and 22741

	Change 22741 by davem@davem-percy on 2004/04/23 20:43:02

	    Include variable names in "Use of uninitialized value" warnings

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/4b3dafe41b70c5a6/b056a4d7ae5a673a?lnk=gst&q=22741+bbc&rnum=1#b056a4d7ae5a673a

	* MCMAHON!Devel-Command-0.08.xml consistently succeeds with maint and
	fails with blead.

	The test always says: "Your Perl can't be patched by Devel::Command"

	It's about the debugger and Module::Pluggable is involved but the README
	does not talk about what these perldb extensions are. All manpages also
	refuse to talk about what they do. They point at each other and talk
	about how they do it but not what *it* is. Weird.

	* Sam Tregar has not only XML::Validator::Schema in the problem zone but
	also DBIx-Timeout. The former has got a BBC article on P5P:

	http://groups.google.de/group/perl.perl5.porters/browse_frm/thread/a35e0d07783e6aee/3506f54c43a8b6aa?lnk=gst&q=sam+tregar&rnum=9&hl=de#3506f54c43a8b6aa

	But the latter? It is on my radar since 20070414T2030 and has always
	failed since. Ah, that's easy, it needs a DBI DSN. For some reason it
	believes that it can connect to mysql.

	Now it got a distropref.

	* package Module::Install::With;

	needs some cooperation from here

	* YAPPO/String-Diff-0.02 complains

	Can't locate inc/Module/Install.pm in @INC (@INC contains: /home/src/perl
/repoperls/installed-perls/perl/p9xHaBy/perl-5.8.0@31166/lib/5.9.5/i686-linux-64
int /home/src/perl/repoperls/installed-perls/perl/p9xHaBy/perl-5.8.0@31166/lib/5
.9.5 /home/src/perl/repoperls/installed-perls/perl/p9xHaBy/perl-5.8.0@31166/lib/
site_perl/5.9.5/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/p
9xHaBy/perl-5.8.0@31166/lib/site_perl/5.9.5 .) at Makefile.PL line 1.
BEGIN failed--compilation aborted at Makefile.PL line 1.

	It looks like a wrong usage of Module::Install. Sometimes it succeeds.

	http://rt.cpan.org/Ticket/Display.html?id=27048

	* EWILHELM seems to break the EUMM mantra in more distros than only Math-Vec

	http://rt.cpan.org/Ticket/Display.html?id=26925

	I saw the same with Math-Round-Var and so gave him a distropref with a
	match for his CPAN id.

2007-05-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Perlbal 1.57 maybe needs a binary search although I have mixed success
	in maintperl. But I have never success on blead with "configuration
	error". The failure with maint@31100 is always in t/17-webserver-concat
	and repeating the test several times does not change that. maint@30961
	exposes the same failure and an additional one in 15-webserver.
	maint@30765 has the one in 17 only. maint@30588 succeeds. maint@30210
	again has failure in 15 but not the one in 17. When I repeated the test
	it succeeded.

	_S_IFMT and S_IFDIR and S_IFREG are involved in the failure in the 17X
	test.

	http://groups.google.de/group/perl.perl5.porters/msg/d65da80913cff3ff

	where Alex Tourbin posts 'fixed Fcntl::S_IFMT() breakage introduced by
	change 30674 (blead 26701)'

	Aha. So this is it and the chapter is not yet closed.

	To run a binary search we probably must exclude the flaky test 15x. And
	then 45x and 12x turn out to be flaky as well.

	Does not work out. The root seems to be older than 20000 and then LWP
	failures masq the Perlbal failures. I must come up with a bit phantasy.
	
	* RMUHLE/classes-0.943.tar.gz needs a binary search

	It turns out that the test results are only negative when
	Test::Exception is installed, otherwise they are OK. So to run a binary
	search one would have to install Test::Exception and uninstall all
	instances of classes.pm we have at the moment. Hrmmmm.

	Well, when I take 5.8.8 and install Test::Exception and then test
	classes.pm it succeeds. I removed all installed classes.pm under blead
	and started a binary search with @22323 as lower boundary. 20002 was
	unsuited because it took so long to compile zlib stuff and then fail.
	But 22323 suffers from the same problem. But then, we're through, it is
	suited for this binary search run.

	REPORTED

	http://groups.google.de/group/perl.perl5.porters/browse_frm/thread/2b25aab152652e00/006a4f9e37f63890?hl=de#006a4f9e37f63890
	http://rt.cpan.org/Ticket/Display.html?id=27047

	And a separate bug report about the fact the Test::Exception itself is
	not in the dependencies:

	http://rt.cpan.org/Ticket/Display.html?id=27853

	* EDPRATOMO/Algorithm-Permute-0.06.tar.gz needs a binary search.

cc -c   -DDEBUGGING -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g   -DVERSION=\"0.06\" -DXS_VERSION=\"0.06\" -fPIC "-I/home/src/perl/repoperls/installed-perls/perl/p9xHaBy/perl-5.8.0@31166/lib/5.9.5/i686-linux-64int/CORE"  -DPERL_EXT Permute.c
Permute.xs: In function 'permute_engine':
Permute.xs:126: error: 'XPVAV' has no member named 'xav_array'
Permute.c: In function 'XS_Algorithm__Permute_next':
Permute.c:245: warning: cast to pointer from integer of different size
Permute.c: In function 'XS_Algorithm__Permute_DESTROY':
Permute.c:296: warning: cast to pointer from integer of different size
Permute.c: In function 'XS_Algorithm__Permute_peek':
Permute.c:331: warning: cast to pointer from integer of different size
Permute.c: In function 'XS_Algorithm__Permute_reset':
Permute.c:367: warning: cast to pointer from integer of different size
Permute.xs: In function 'XS_Algorithm__Permute_permute':
Permute.xs:306: error: 'XPVAV' has no member named 'xav_array'
Permute.xs:347: error: 'XPVAV' has no member named 'xav_array'

	REPORTED to P5P and author. BBC article:

	http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-05/msg00297.html
	http://rt.cpan.org/Ticket/Display.html?id=27022

	* PETDANCE/Template-Timer-0.04: I'm already used to seeing it fail. But
	I just discovered that there were 4 consecutive sessions where it
	succeeded:

20070430T1340 perl          31107  634 NOT OK
20070501T0032 perl          31110  760 OK
20070501T1746 perl          31111  769 OK
20070502T0515 perl          31113  416 OK
20070502T1604 perl          31117  431 OK
20070502T2300 perl          31120  505 NOT OK

	It is not that simple that Template were missing. There is something
	else going on.

	* Apache-Session started to have a Semaphore problem recently:

20070417T1509 perl          30970  116 OK
20070417T2056 perl          30971    0 OK
20070418T2250 perl          30977  145 NOT OK

	The semaphore tells us:

t/99flex...........Permission denied at /home/sand/.cpan/build/Apache-Session-1.82-jeBTMQ/blib/lib/Apache/Session/Lock/Semaphore.pm line 92.
        (in cleanup) Permission denied at /home/sand/.cpan/build/Apache-Session-1.82-jeBTMQ/blib/lib/Apache/Session/Lock/Semaphore.pm line 92.

	When I run the same test as user k it works.

	The IPC::Semaphore manpage says:

If you get an invalid argument message, that usually means that the system
is unhappy with the number of semaphores that you requested.  Try decreasing
the number of semaphores.  The semaphore blocks that this package creates
are persistent until the system is rebooted, so if you request 8 sempahores
one time and 16 sempahores the next, it won't work.  Use the system
commands ipcs and ipcrm to inspect and remove unwanted semphore blocks.

	Let's do that!... Done and now Apache-Session passes all tests and
	report is written to cpantesters. Phew! Apologies for the bogus report
	if anybody reads this.

2007-05-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* SWF-Builder now probably nailed with
	http://rt.cpan.org/Ticket/Display.html?id=26971

	* Todo: write a distropref for CPANPLUS with a goto 1.79_01.

2007-05-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* RRWO/CPAN-YACSmoke-0.03.tar.gz also broke recently

20070422T1717 perl          31019  817 OK
20070423T0905 maint-5.8     31011    0 NOT OK
20070423T1448 perl          31029  284 NOT OK

	That's a normal dependency on Regexp::Assemble. But why on maint? This
	was a dependency on the (then) broken CPANPLUS.

	And why do I have no maint result since then? Because CPANPLUS is still
	recursively dependent on itself.

	* ROBM/Cache-FastMmap-1.14.tar.gz came under the wheels:

20070417T1509 perl          30970  583 OK
20070418T2250 perl          30977  424 NOT OK

	http://rt.cpan.org/Ticket/Display.html?id=26951

	One should really run the whole megainstall with a random userid to find
	more of these bugs.

2007-05-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Jarkko's Graph is now seismograph and consistently failing apparently
	starting with 31105. But there was another interval where it failed!
	That interval started with 31079:

----Program----
eval q{use Graph 0.81};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pnKRDVH/perl-5.8.0@31078/bin/perl----
N/A

----EOF ($?='0')----
----Output of .../pGHaMwh/perl-5.8.0@31079/bin/perl----
OK

----EOF ($?='0')----

	and ended with 31104. But 31105 is an impossible candidate for a
	breaker. Maybe we must pay attn to the date once more?

20070428T1842 perl          31104    0 OK
20070429T0705 perl          31105    0 NOT OK

	So what changed between the two perls?

	/home/k/.cpan/Bundle/Snapshot_2007_05_05_0[01].pm

	Heap           0.71   => 0.80
	Module::Build  0.2807 => 0.2808
	Math::BaseCalc ???    => 1.011

	Yes, downgrading Heap fixes it. http://rt.cpan.org/Ticket/Display.html?id=26943

	* Locale::TextDomain seems to have been fixed or improved some day (30971) but
	it still fails occasionally.

	* JSON 1.12 needed a binary search and it ended with

----Program----
eval q{use JSON 1.12};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pB7ZOd0/perl-5.8.0@27263/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pWOlwj4/perl-5.8.0@27264/bin/perl----
N/A

----EOF ($?='0')----

	Change 27264 by nicholas@nicholas-saigo on 2006/02/21 19:04:39

	Reorder the SV flags so that SVp_?OK and SVf_?OK occupy 8 contiguous
	bits (0x0000XX00). This makes perl 3K smaller with -Os on x86 FreeBSD,
	and might also help on other architectures (eg with 8 contiguous bits,
	the SvOK() test on ARM won't need an intermediate constant).
	

2007-05-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Gtk2 has the dependency ExtUtils::Depends as I discovered today and
	then Glib.pm. Both not mentioned in the prereq decl or maybe mentioned
	in the Makefile.PL but PREREQ_FATAL is set and MakeMaker still does not
	let me override it.

	A small patch now at least lets me install the prereqs and demonstrates
	nicely that configure_requires is really needed.

	Annoyingly it says

*** can not find package gtk+-2.0 >= 2.0.0
*** check that it is properly installed and available in PKG_CONFIG_PATH
 at Makefile.PL line 69

	And I cannot find out which package I have to install on debian and I
	remember that on previous occasions I did not find out the problem
	either.

	The message above comes from ExtUtils::PkgConfig. Maybe it is broken?

	Maybe I must remove libgtk 1.2 first?

	Nope. Test program insists:

% /home/src/perl/repoperls/installed-perls/perl/p2VJt9O/perl-5.8.0@31136/bin/perl -le '
use ExtUtils::PkgConfig; 
$package ="gtk+-2.0";
%pkg_info = ExtUtils::PkgConfig->find ($package); 
'
*** can not find package gtk+-2.0
*** check that it is properly installed and available in PKG_CONFIG_PATH
 at -e line 4

	I put the patch into the patches directory and give up for now.

	* make a release for Adam and send it to him before actually releasing
	(because I broke pip)

	* Net::Libdnet on debian needs to change d to dumb in two spots:

	Libdnet.xs must say include dumbnet.h and Makefile.PL must say -ldumbnet.

	That runs all tests OK. That should be wrapped into a DEFINE.

	* Nothing TODO: Event 1.08 broken in blead. It's just the test suite,
	not Event itself. It was discussed on P5P.

2007-05-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* XML::Validator::Schema fails tests. Binary search points to 29118.
	Repeating the binary search with different starting points

	* disabled modules get no "markup" in the output to split them out of
	the logfile.

	* 2688{4,6} by Matthias. Complicated materiel from a scriptwriter who
	needs cleanup help for build_dir. Maybe we should make build_dir_reuse
	mandatory too.

2007-05-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Last run had a lot of fails but it seems the first failure was due to
	a timeout (DBI), the others were just dependency traps. The batch job
	running colorout-to-dir.pl apparently drew too many ressources. I've
	added a sleep.

2007-05-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* The UTF-8 HOWTO is by Bruno Haible. Markus Kuhn wrote
	http://www.cl.cam.ac.uk/~mgk25/unicode.html which is a FAQ. The latter
	contains 'How should the UTF-8 mode be activated?'

	* Todo: Jesse Vincent #26840

2007-04-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Locale::TextDomain: I realize now that the results are mixed. One NOT
	OK between 4 or 5 OKs. So there's something very fishy going on.

	* Theoretical prereq bug needs testing: "test" must ask for "available"
	modules (which includes the part coming from PERL5LIB), but "install"
	must ask for "installed" modules (but this only for requires, not for
	build_requires).
 
	* Bug: patch(1) does not understand --fuzz everywhere as reported by MAREKR
	in https://rt.cpan.org/Ticket/Display.html?id=26664

	Need a module or better probing.

	* http://use.perl.org/comments.pl?threshold=0&mode=nested&commentsort=0&op=Change&sid=35312

	Barbie asks for getting CPAN.pm support into CPAN::YACSmoke

	* parrot should be advised on a group account on pause.

2007-04-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Interesting ticket: https://rt.cpan.org/Ticket/Display.html?id=26727

	about redrawing the current line after something has moved the cursor.

2007-04-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Jifty again. Same recipe as last time, still no clue.

	* Here broke Tk and Regexp-Assemble:

20070422T1717 perl        31019
20070423T1448 perl        31029

	Slaven determined 31027. In addition a binary search is running in case
	we need it again.

----Program----
eval {require Regexp::Assemble};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../phti9p4/perl-5.8.0@31025/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pgwvrPP/perl-5.8.0@31027/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 31025 and 31027
(but 31026 could not successfully be used to build perl)

	REPORTED to P5P

2007-04-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Jifty hangs again in the middle of its tests. The last lines in the
	output file ()megainstall.20070426T1003.out) are:

#   Failed test 'use Jifty::Test::WWW::Mechanize;'
#   at t/Continuations/t/04-before-blocks.t line 18.
#     Tried to use 'Jifty::Test::WWW::Mechanize'.
#     Error:  Base class package "Test::WWW::Mechanize" is empty.
#     (Perhaps you need to 'use' the module which defines that package first.)
#  at /home/sand/.cpan/build/Jifty-0.70422-sTB0F8/blib/lib/Jifty/Test/WWW/Mechan
ize.pm line 5
# BEGIN failed--compilation aborted at t/Continuations/t/04-before-blocks.t line
 18.
# Compilation failed in require at (eval 928) line 2.
# BEGIN failed--compilation aborted at (eval 928) line 2.
Can't locate object method "new" via package "Jifty::Test::WWW::Mechanize" at t/
Continuations/t/04-before-blocks.t line 22.
# Looks like you planned 9 tests but only ran 2.
# Looks like you failed 1 test of 2 run.



	See further below for a similar example on 2007-04-01. I must now kill
	the hanging jobs and then see how the logfile continues. Maybe it gives
	me a clue?

	OR NO! much better I first try to input something in the interactive
	window. I enter RET twice and "y\n" 7 times. Nothing.

	I find the job that hange by stepping down the pid->ppid chain (pstree
	did not show me these processes). 29902 is my megainstall:

% ps -o user,pid,ppid -a | grep 29902
sand     29902 29901
sand     29654 29902
% ps -o user,pid,ppid -a | grep 29654
sand     29654 29902
sand     29818 29654
% ps -o user,pid,ppid -a | grep 29818
sand     29818 29654
sand     29886 29818
% ps -o user,pid,ppid -a | grep 29886
sand     29886 29818
% ps auxww|grep 29886
sand     29886  0.0  0.0      0     0 pts/5    Z+   12:38   0:03 [perl] <defunct>

	Oh it's a zombie! Neither kill nor kill -9 do anything useful. So the
	parent is to kill?

% ps auxww|grep 29818
sand     29818  0.0  0.3   9080  4900 pts/5    S+   12:36   0:00 /home/src/perl/repoperls/installed-perls/perl/pJHvqE3/perl-5.8.0@31080/bin/perl -MExtUtils::Command::MM -e test_harness(0, 'inc', 'blib/lib', 'blib/arch') t/00-load.t t/01-dependencies.t t/01-test-mechanize.t t/01-test-web.t t/01-version_checks.t t/02-connect.t t/03-form-protocol.t t/03-is_passing-no_plan.t t/03-is_passing.t t/03-test-mailbox.t t/04-test_file.t t/05-dispatcher.t t/06-forms.t t/07-limit-actions.t t/08-client.t t/09-url.t t/10-i18n.t t/11-config-files.t t/12-param-schema.t t/99-pod-coverage.t t/99-pod.t t/DateTime.t t/Continuations/t/00-prototype.t t/Continuations/t/01-raw-api.t t/Continuations/t/02-api.t t/Continuations/t/03-gc.t t/Continuations/t/04-before-blocks.t t/Mapper/t/00-prototype.t t/Mapper/t/01-raw-api.t t/Mapper/t/02-api.t t/TestApp-Plugin-PasswordAuth/t/00-model-User.t t/TestApp-Plugin-PasswordAuth/t/01-tokengen.t t/TestApp-Plugin-PasswordAuth/t/11-current_user.t t/TestApp-Plugin-PasswordAuth/t/12-signup.t t/TestApp-Plugin-REST/t/00-model-User.t t/TestApp-Plugin-REST/t/00-prototype.t t/TestApp-Plugin-REST/t/01-config.t t/TestApp-Plugin-REST/t/02-basic-use.t t/TestApp/t/00-model-User.t t/TestApp/t/00-prototype.t t/TestApp/t/01-config.t t/TestApp/t/02-dispatch-show-rule-in-wrong-ruleset.t t/TestApp/t/02-dispatch.t t/TestApp/t/03-static.t t/TestApp/t/04-sessions.t t/TestApp/t/05-editactions-Cachable.t t/TestApp/t/05-editactions-Record.t t/TestApp/t/06-validation.t t/TestApp/t/07-sandboxing.t t/TestApp/t/08-notifications.t t/TestApp/t/09-redirect.t t/TestApp/t/10-compress.t t/TestApp/t/11-current_user.t t/TestApp/t/12-search.t t/TestApp/t/13-page-regions.t t/TestApp/t/14-template-paths.t t/TestApp/t/15-template-subclass.t t/TestApp/t/i18n-standalone.t t/TestApp/t/instance_id.t t/TestApp/t/regex_meta_in_path_info.t t/TestApp/t/upgrade.t

	Now I killed it. The output leads to the end of Jifty's tests:

make[3]: *** [test_dynamic] Beendet
make[3]: Leaving directory `/home/sand/.cpan/build/Jifty-0.70422-sTB0F8'
  JESSE/Jifty-0.70422.tar.gz
  /usr/bin/make test -- NOT OK

	
	
	
	


	* my emacs could not send this email with a insufficient error message:

From: andreas.koenig.7os6VVqR@franz.ak.mind.de (Andreas J. Koenig)
To: andreas.koenig.gmwojprw@franz.ak.mind.de
Cc: cpan-testers@perl.org, FERREIRA@cpan.org
Subject: Re: FAIL Term-Size-Unix-0.203 i686-linux-64int 2.6.18-4-k7
References: <200704260541.l3Q5fqb0015972@franz.ak.mind.de>
X-Draft-From: ("cpan-testers" 116264)
Gcc: nnml:sent
Date: Thu, 26 Apr 2007 08:10:41 +0200
In-Reply-To: <200704260541.l3Q5fqb0015972@franz.ak.mind.de> (andreas koenig
	gmwojprw's message of "Thu, 26 Apr 2007 07:41:52 +0200")
Message-ID: <87fy6nis2m.fsf@k75.linux.bogus>
User-Agent: Gnus/5.110006 (No Gnus v0.6) Emacs/21.4 (gnu/linux)
--text follows this line--
>>>>> On Thu, 26 Apr 2007 07:41:52 +0200, andreas.koenig.gmwojprw@franz.ak.mind.de said:

  > ------------------------------
  > TESTER COMMENTS
  > ------------------------------

  > Additional comments from tester: 

It turns out that the test only fails when run under CPAN::Reporter.
Somehow the IO layer that CPAN::Reporter uses fools Term::Size::Unix
so that the test fails.

I can reproduce a similar effect by simply running

    make test > /dev/null < /dev/null

The STDERR of this is:

  $ make test > /dev/null < /dev/null
  # Testing Term::Size::Unix 0.203, Perl 5.009005, /home/src/perl/repoperls/installed-perls/perl/pGHaMwh/perl-5.8.0@31079/bin/perl

  #   Failed test at t/01_basic.t line 7.

  #   Failed test at t/01_basic.t line 10.
  #     Structures begin differing at:
  #          $got->[0] = ''
  #     $expected->[0] = '80'

  #   Failed test at t/01_basic.t line 16.
  Use of uninitialized value in concatenation (.) or string at t/01_basic.t line 21.
  # This terminal is x characters,
  Use of uninitialized value in concatenation (.) or string at t/01_basic.t line 21.
  #   and x pixels.
  # Looks like you failed 3 tests of 6.
  Failed 1/3 test programs. 3/13 subtests failed.
  make[1]: *** [test_dynamic] Error 255


2007-04-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* the logfile is 34MB instead of 11, who is to blame? 20070424T2309 has
	197018 lines while 20070424T0304 had 151351. There must be one very log
	line? No. The longest line in each case is 4145. I need the distribution
	of the lengths and here I discover 44719 lines with the same length, 507
	bytes.

	It is a database dump or some such with the columns

	|Elt|Got|Elt|Expected|

	with lots of whitespace. This comes out in the middle of the tests of
	PJCJ/Devel-Cover-0.61.tar.gz. There seems to be a call to eq_or_diff
	when t/at1.t fails and this spits out >22MB.

	This was between 31046 and 31058.

	This binary search must run at1.t and capture its output and output
	something like 'length $output < 100000 ? "ok" : "not ok"'.

2007-04-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Found 2481 old builds, restored the state of 968

	maintperl brings more weight because less fails (110)

2007-04-22  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Found 1948 old builds, restored the state of 939

	But 160 fails.

	* XML::Comma 1.98:

	STORE_ERROR -- make id error: DB_CONNECTION_ERROR -- DBI connect('comma:localhost;mysql_local_infile=1','comma',...) failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2) at .test/lib//XML/Comma/SQL/DBH_User.pm line 135 at t/multi_store_doctype.t line 36 at t/multi_store_doctype.t line 36
# Looks like you planned 29 tests but only ran 1.

	Who believes that the socket must be under /tmp/?

	editing bin/comma-create-config.pl doesn't help. It seems that there was
	a DBI or DBD::mysql change at some point in time. Or all my DBD::mysqls
	were build wrongly?

	Maybe, for sure the connect string must now be:

	DBI->connect("DBI:mysql:database=comma;host=localhost;mysql_socket=/var/run/mysqld/mysqld.sock;mysql_local_infile=1","comma","comma")

	and XML::Comma does not allow to configure that interactively. Reported
	on RT in ticket 26540.

	* What's the problem with Module-Release? I started watching it on
	20070413 and got only fails since.
	http://rt.cpan.org/Ticket/Display.html?id=26539

2007-04-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Found 2269 old builds, restored the state of 932

	* r command spits out:

GD::Graph::Data            1.21.2.2      1.21  BWARFIELD/GDGraph-1.4307.tar.gz
GD::Graph::axestype       1.44.2.14      1.44  MVERB/GDGraph-1.43.tar.gz
GD::Graph::pie             1.20.2.4      1.20  BWARFIELD/GDGraph-1.4306.tar.gz

	Is already reported on RT.

	* Regression in blead!

t/05_typelike....No such class: 'ARRAY'! at /home/src/perl/repoperls/installed-p
erls/perl/pRQK8my/perl-5.8.0@30999/lib/5.9.5/overload.pm line 99.
# Looks like you planned 29 tests but only ran 8.
# Looks like your test died just after 8.
dubious 
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 9-29
        Failed 21/29 tests, 27.59% okay

	I first noticed it with Params::Util. 

	20070419T1942 was the first one to fail, so it happened between

	20070419T1622 perl        30979
	20070419T1942 perl        30985

	Only 8 tests out of my 880 distributions fail with this regression:

	Params::Util, Graph (3 tests), 

	Then Algorithm::Dependency tries again to test Params::Util 4 times. Why
	4 times?

	First time during make because I forgot to set PERL_AUTOINSTALL=--skip.
	It seems to choose CPANPLUS to do the job, maybe because I have set
	CPANPLUS_IS_RUNNING? CPANPLUS then runs make test on Params::Util twice.
	Then CPANPLUS gives up with

*** Params::Util installation cancelled.
*** Module::AutoInstall installation finished.

	Then CPAN.pm reaches 'make test' and Module::Autoinstall or something is
	called again from the Makefile and CPANPLUS runs the test on
	Params::Util twice again just to reach the same conclusion.

	The regression in blead is reported to P5P. The thing with
	Module::Install has no place where it should be directed. Rantbox?

	* The kwalify test also fails on 5.8.0 with YAML 0.39. Which YAML has my
	5.6.2? None, only YAML::Syck 0.84 which was a regression. Trying to
	compile 0.85 fails already during its own tests on 5.6.2. 0.82 ditto. So
	is it time to install 0.85 with force? Yes, but with this the test in
	12cpan still fails. Maybe I should ask the question the other way round.
	If we downgrade YAML to 0.39, can we then reproduce the bug with 5.9.5?
	Trying with blead@31000: make test OK; make run + install
	INGY/YAML-0.39.tar.gz OK; make test OK.

2007-04-20  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* off topic:
	http://www.oreillynet.com/pub/a/databases/2007/04/12/building-a-data-warehouse-with-mysql-and-perl.html
	(sam tragar)

	* http://bricas.vox.com/

	* it seems like maybe a recent upgrade of XML::LibXML broke XML::Atom?
	Where is the script that quickly confirms/denies this hypothesis?

	* "Found 1659 old builds, restored the state of 880"

	So we did not reach 1000 yet.

	* Test::WWW::Mechanize has many PASSes _and_ FAILs.

	* I have removed from megainstall: PGP::Sign because it does not set $|;
	and Djabberd because it seemed to hang in the test even when it could
	write to /tmp/djabberd/

	* 5.6.2 fails one kwalify test in 12cpan.t for non obvious reason.

2007-04-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Crypt::OpenPGP needs a fix in the distroprefs file. What was the
	problem? During XML-FOAF the usual recursion into installing OpenPGP
	seemed to happen. Yes, I had PERL_AUTOINSTALL set, now added
	PERL_EXTUTILS_AUTOINSTALL.

	As long as this was missing, we had to kill the recursively acting
	installer three times: during make, make test, and make install.

	DONE.

	* 1.91 is out.

2007-04-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* bug: megainstall contains Bundle::Pause which is not published. Should
	be.

2007-04-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* see thread "echo die > Makefile.PL" on module-authors. Fortunately,
	Joshua argues well.

	* Slaven sent me dependency statistics on freebsd ports of perl modules.
	I have checked the 208 top lines (20+ references) of 1200. I found
	IO::Socket::INET6 hanging and added a few others to megainstall.

	* reports command should display open issues on rt.cpan.org. Current
	value to look up is

	http://rt.cpan.org/Public/Dist/Display.html?Name=Template-Timer

	Currently one would search for the element table and count the number of
	tr minus one to get the number of new and open issues. The page is
	declared as XHTML strict but isn't compliant.

2007-04-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Most urgent tasks?

	Report Text::Hatena (JKONDO/Text-Hatena-0.20.tar.gz)

	Report Locale::TextDomain (GUIDO/libintl-perl-1.16.tar.gz)

	Write a bug report about Coro::Event and its interaction with CPAN.pm or
	find out how to fix it and write a patch. Turn off distroprefs or work
	without CPAN.pm to make things more obvious. Look:

	cpan[2]> m Coro::Event      
Module id = Coro::Event
    CPAN_USERID  MLEHMANN (Marc Lehmann <pcg@goof.com>)
    CPAN_VERSION 2.1
    CPAN_FILE    M/ML/MLEHMANN/Coro-3.6.tar.gz
    UPLOAD_DATE  2007-04-14
    MANPAGE      Coro::Event - do events the coro-way
    INST_FILE    (not installed)¯


	Analyse the endless loop in "fforce test Task::Smoke". Maybe the fforce
	is to blame?

	FirstTime manpage?

	Implement configure_requires? (testcase RPC::XML)

	Implement a depends/requires keyword for distroprefs? (Testcase
	Spreadsheet-ParseExcel (http://rt.cpan.org/Ticket/Display.html?id=24693)
	or XML-Filter-XInclude
	(http://rt.cpan.org/Ticket/Display.html?id=27401))

	Speedup the cleanup? DONE [...time passes...] But I do not like the new
	version. I want to see how long it takes/will take. svk rev. 2216 seems
	to provide that.

	Implement 30shell.t in a way that always emits useful output after a
	failure? DONE in SVK rev. 2255

	Find an opinion on MIME-tools. It seems that nobody cares. It's about
	undef in %INC. I think it can stay as it is and we must educate
	ourselves how %INC works now. But if it is not even in perldelta.pod?
	Discussion on P5P was 11/12.4.

	* Bug? "fforce test Task::Smoke" goes into an endless loop.
	Test-TAP-Model and Task-Smoke play ping pong. All other prreqs are
	satisfied quickly and prepended to PERL5LIB but these two stay active

  drwx------   6 k k   4096 Apr 16 06:58 Task-Smoke-0.15-5ksBtB
  -rw-rw-r--   1 k k   1424 Apr 16 06:58 Task-Smoke-0.15-5ksBtB.yml
  -rw-rw-r--   1 k k   1532 Apr 16 06:58 Test-TAP-Model-0.09-wUFmP9.yml
  drwx------   5 k k   4096 Apr 16 06:58 Test-TAP-Model-0.09-wUFmP9
  drwx------   6 k k   4096 Apr 16 06:58 Task-Smoke-0.15-QOiZ85
  -rw-rw-r--   1 k k   1424 Apr 16 06:58 Task-Smoke-0.15-QOiZ85.yml
  -rw-rw-r--   1 k k   1532 Apr 16 06:58 Test-TAP-Model-0.09-H3Lqy0.yml
  drwx------   5 k k   4096 Apr 16 06:58 Test-TAP-Model-0.09-H3Lqy0
  drwx------   6 k k   4096 Apr 16 06:58 Task-Smoke-0.15-6lDDuP
  -rw-rw-r--   1 k k   1424 Apr 16 06:58 Task-Smoke-0.15-6lDDuP.yml
  -rw-rw-r--   1 k k   1532 Apr 16 06:58 Test-TAP-Model-0.09-48ClDJ.yml
  drwx------   5 k k   4096 Apr 16 06:58 Test-TAP-Model-0.09-48ClDJ
  drwx------   6 k k   4096 Apr 16 06:57 Task-Smoke-0.15-V3h8gK
  -rw-rw-r--   1 k k   1424 Apr 16 06:57 Task-Smoke-0.15-V3h8gK.yml
  -rw-rw-r--   1 k k   1532 Apr 16 06:57 Test-TAP-Model-0.09-MI4CP5.yml
  drwx------   5 k k   4096 Apr 16 06:57 Test-TAP-Model-0.09-MI4CP5
  drwx------   6 k k   4096 Apr 16 06:57 Task-Smoke-0.15-0rmHRt
  -rw-rw-r--   1 k k   1424 Apr 16 06:57 Task-Smoke-0.15-0rmHRt.yml
  -rw-rw-r--   1 k k   1532 Apr 16 06:57 Test-TAP-Model-0.09-A0HeR8.yml
  drwx------   5 k k   4096 Apr 16 06:57 Test-TAP-Model-0.09-A0HeR8
  drwx------   6 k k   4096 Apr 16 06:57 Task-Smoke-0.15-BpPXIa

	After I interrupt the endless loop and say "install Task::Smoke" all is
	well quickly. Let's page back what was prepended to PERL5LIB?

---- Unsatisfied dependencies detected during ----
----        GAAL/Task-Smoke-0.15.tar.gz       ----
    Test::TAP::Model [requires]
Prepending /home/k/.cpan/build/Test-TAP-HTMLMatrix-0.08-t1Tza8/blib/arch /home/k/.cpan/build/Test-TAP-HTMLMatrix-0.08-t1Tza8/blib/lib /home/k/.cpan/build/Method-Alias-1.03-Xgby0k/blib/arch /home/k/.cpan/build/Method-Alias-1.03-Xgby0k/blib/lib /home/k/.cpan/build/Best-0.11-T3AKJn/blib/arch /home/k/.cpan/build/Best-0.11-T3AKJn/blib/lib to PERL5LIB for 'test'
Running Build test
  Delayed until after prerequisites
Running test for module 'Test::TAP::Model'
Running make for N/NU/NUFFIN/Test-TAP-Model-0.09.tar.gz
Prepending /home/k/.cpan/build/Test-TAP-HTMLMatrix-0.08-t1Tza8/blib/arch /home/k/.cpan/build/Test-TAP-HTMLMatrix-0.08-t1Tza8/blib/lib /home/k/.cpan/build/Method-Alias-1.03-Xgby0k/blib/arch /home/k/.cpan/build/Method-Alias-1.03-Xgby0k/blib/lib /home/k/.cpan/build/Best-0.11-T3AKJn/blib/arch /home/k/.cpan/build/Best-0.11-T3AKJn/blib/lib to PERL5LIB for 'get'
Signature for /home/ftp/pub/CPAN/authors/id/N/NU/NUFFIN/CHECKSUMS ok
Checksum for /home/ftp/pub/CPAN/authors/id/N/NU/NUFFIN/Test-TAP-Model-0.09.tar.gz ok


2007-04-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: write a script that finds the distros in my local installation
	that have no reports on cpantesters yet. I suppose YACSmoke could do
	that.

	* Close to 700 now:

	"Found 1238 old builds, restored the state of 691"

2007-04-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Offtopic: Marc's patch for pack 'C' applied on top of 30952. Path:
	installed-perls/perl/pFvwf7I/perl-5.8.0@30952

	* Coro: in the logfile for 30943 I see that Coro did not build and did
	not install Coro::Event. Consequently, Continuity failed its tests. What
	might be the reason? On later retry, Coro built and installed both Coro
	and Coro::Event. Seeing the prereqs NOW, they contain

                                                  'AnyEvent' => '2.51',
                                                  'Event' => '1.06',
                                                  'IO::AIO' => '2.3',
                                                  'Scalar::Util' => '0'

	And here is the relevant output of Marc's Makefile.PL:

Warning: prerequisite AnyEvent 2.51 not found.
Warning: prerequisite Event 1.06 not found.
Warning: prerequisite IO::AIO 2.3 not found.

*** Event not found, not build Event support.

	This seems like a bug to me. He should ask if Event support is wanted
	and if yes, make Event a prerequisite. At least from my point of view he
	should do so.

	It has already lead to a wrong bugreport by chris on cpantesters.

	And I have now written to Marc (with CC cpantesters) if he would change
	things accordingly). Miscommunication happened and so I need to give up:-(

	* Locale::TextDomain needs a binary search. Yay, the first one for a
	long time that goes back before 20000. We are compiling perls in the
	[16904,17122] interval! Ouch: 16916, 16951, 16953, 16991, 17022, 17058,
	17075 do not want to be compiled!

	This needs more attention. Yes, it's DB_File that fails nowadays with
	these old perls. And we always used -Ui_db. For binsearchaperl the full
	argument then is

	--config="-Dinstallusrbinperl=n -Uversiononly -Doptimize=-g -des -Duse64bitint -Dusedevel -Ui_db"

----Program----
eval {require Locale::TextDomain};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pm3UiPL/perl-5.7.3@16904/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pN2DxS9/perl-5.7.3@16905/bin/perl----
N/A

----EOF ($?='0')----

	Change 16905 by jhi@alpha on 2002/05/30 20:26:32

	Subject: [PATCH perl@16893] lib/blib.t tweak for VMS
	From: "Craig A. Berry" <craigberry@mac.com>
	Date: Thu, 30 May 2002 16:22:40 -0500
	Message-Id: <a05111703b91c44a6865f@[172.16.52.1]>

	Impossible. This patches a test file in core perl, this cannot have
	consequences on user code.

	So it's likely to depend on a module.

	diff -u =(sort /home/k/.cpan/Bundle/Snapshot_2007_04_14_00.pm) =(sort /home/k/.cpan/Bundle/Snapshot_2007_04_14_01.pm) | less


	Nothing obvious. So let's study the test itself.

	It's about how the Austrians say to the month February. Why on earth is
	16904 able to dig that word "Feber" out of the locale system but 16905
	not? The files that contain "Feber" are specifically being delivered by
	Locale::TextDomain, so seem not dependent on my Linux version or the
	state of my locale installations.

	https://rt.cpan.org/Dist/Display.html?Queue=libintl-perl  is empty.

	So if I cannot find a negative module dependency, it's something in
	perl?

	Wow: my 16904 was compiled on Gentoo! But comparing the configs does not
	reveal anything yet.

	Maybe it helps to run the same program in two debuggers step by step?

	One day has passed and when I retry today in a fresh directory, then
	both 16904 and 16905 succeed on this test while 30952 fails. Heisenbug?

	I'll start with a new binary search. Apparently I did something wrong
	yesterday. I realize comments in the test output that escaped me
	yesterday. The new test script filters those comments out
	(t04find_domain_bug.t).

	With this I'm told that 29052 succeeds but 29053 fails with an Assertion
	failure. I rerun with new boundary and now the assertion failure did not
	go away up to 29543 and 29544 was then failing on the
	04find_domain_bug.t.

	So this seems more logical and proves yesterday's recherche was bogus,
	most probably not a Heisenbug.

	Update 2007-05-05 akoenig: Locale::TextDomain succeeded @31148!
	
2007-04-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Devel::ebug again. failed with 30943 but on retry success. The logfile
	reports

t/return.........YAML Error: Invalid characters in stream. This parser only supports printable ASCII
   Code: YAML_PARSE_ERR_BAD_CHARS
   Line: 0
   Document: 0
 at /home/src/perl/repoperls/installed-perls/perl/pCufuHQ/perl-5.8.0@30943/lib/site_perl/5.9.5/YAML.pm line 33
# Looks like your test died before it could output anything.
dubious
	Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 1-13
	Failed 13/13 tests, 0.00% okay
	[...]
t/return.t   255 65280    13   26  1-13

	Remember that "20070330T2346 perl 30791" already had a problem. But it
	was not in the same test. It was

t/break_point....YAML Error: Invalid characters in stream. This parser only supports printable ASCII
   Code: YAML_PARSE_ERR_BAD_CHARS
   Line: 0
   Document: 0
 at /home/src/perl/repoperls/installed-perls/perl/p6oBwLf/perl-5.8.0@30791/lib/site_perl/5.9.5/YAML.pm line 33
# Looks like you planned 27 tests but only ran 15.
# Looks like your test died just after 15.
dubious
	Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 16-27
	Failed 12/27 tests, 55.56% okay


	Eeek.

	* 30941 is a suspicious patch file. It mixes perl and maint-5.8 branches
	in one patch and contains an "edit" without a diff following. As a
	consequence I get a "maint" and a "perl" versions of 30941 which seems
	pretty uniq afair. Need to further investigate.

	* Hatena::Keyword seems to need a binary search: maint@30874 is "OK",
	blead isn't. But the search cannot start with 20002 because prereq Jcode
	fails there. Need to add Cache::File to the prep script because it is an
	undecl prereq (already reported as
	https://rt.cpan.org/Ticket/Display.html?id=23684). blead@23963 is fine
	with Jcode and H:K. The error message hints at LWP::Protocol. We should
	verify that this is not a "dependent" failure.

----Program----
eval q{use Hatena::Keyword 0.04};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pZ7WhmN/perl-5.8.0@23963/bin/perl----
OK

----EOF ($?='0')----
----Output of .../p35sQ2r/perl-5.8.0@23964/bin/perl----
N/A

----EOF ($?='0')----

	But take care, this 23964 failed on all of 00-load, 01-methods and
	02-caching.t (every time with "Can't locate RPC/XML.pm"). So this binary
	search was worthless. I think we must now find out when XML::RPC started
	working again. Please do not confuse XML::RPC and RCP::XML! But it's
	strange anyway because both modules run and install well under 23964.
	Now, when I retry the very first binarysearch, it says both 23983 and
	30943 fail. Cool. So we need 23964 against 23983? Yes, on retry, 23964
	succeeds and 23983 fails. And the new binary point of balance is
	2396[45]! When I now apply this balance point against 99999 via
	RPC::XML, then ***lots*** of compiling, testing, and installing is being
	done. And we "jump" to what? 29099/29100, such a wide jump! But it has
	to do with LWP that RPC::XML does not even build. Apparently is LWP an
	undeclared configure_requires (which is not even implemented yet). When
	I add LWP to the prep-RPC-XML.pl script? Then both 23965 and 30943 work
	and there is no binary search. But if I now add both LWP and RPC::XML,
	in that order, to the prep-Hatena-Keyword.pl? 23965 succeeds and 30943
	fails and binary search starts. When we reach [24003,24023] it needs to
	build perls.

----Program----
eval q{use Hatena::Keyword 0.04};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pQ3Kc3b/perl-5.8.0@24009/bin/perl----
OK

----EOF ($?='0')----
----Output of .../puKzj8b/perl-5.8.0@24010/bin/perl----
N/A

----EOF ($?='0')----


	Change 24010 by rgs@bloom on 2005/03/08 17:53:50

	Subject: Encoding neutral unpack
	From: perl5-porters@ton.iguana.be (Ton Hospel)
	Date: Sun, 6 Mar 2005 18:29:38 +0000 (UTC)
	Message-Id: <d0fi6i$k06$1@post.home.lunix>

t/01-methods......1..25
[...]
ok 23
Content-Length header value was wrong, fixed at /home/src/perl/repoperls/installed-perls/perl/puKzj8b/perl-5.8.0@24010/lib/site_perl/5.9.2/LWP/Protocol/http.pm line 189, <DATA> line 855.

#   Failed test at t/01-methods.t line 49.
# Looks like you failed 1 test of 25.
ok 24
not ok 25
dubious
        Test returned status 1 (wstat 256, 0x100)
DIED. FAILED test 25
        Failed 1/25 tests, 96.00% okay


	When I run this test in the debugger with 24010 (first remove the -T on
	the shebang), many tests fail.	


2007-04-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Nick denies 30900's responsibility. Something else must be it because
	he sees the crazy loop going back to 30000. So I must gather facts now.
	Questions?

	MIME-tools is a distribution, not a module. Which module represents
	MIME-tools? -- MIME::Body
	
	Which perls between 30000 and 30900 have MIME::Body installed? -- 30383,
	30384, 30388, 30391, 30392, 30393, 30394, 30399, 30402, 30405, 30408,
	30413, 30414, 30415, 30418, 30419, 30420, 30884, 30888, 30898

	Which logfiles have been written for those versions? --
	30383=>20070223T2127, 30384=>20070224T1000, 30388=>20070224T1500,
	30391=>20070224T1957, 30392=>20070225T0045, 30393=>20070225T0524,
	30394=>20070225T1622, 30399=>20070225T2121, 30402=>20070226T0344,
	30405=>20070226T0904, 30408=>20070226T1412, 30413=>20070226T1902,
	30414=>20070227T0414, 30415=>20070227T1355, 30418=>20070227T1856,
	30419=>20070227T2342, 30420=>20070228T0417, 30884=>20070410T1050,
	30888=>20070410T1614, 30898=>20070410T2143

	The large gap after 30420 jumps into my eyes. What was the next logfile
	after that? And for which patch? -- 20070228T1244 for 30428

	And the last before 30844? -- 20070409T1809 for 30875

	Did the tests in the succeeding runs really succeed on Entity.t or did
	they probably skip it? -- All of above cited successful tests were
	reported as "....ok" for Entity.t. All others complained "Can't locate
	Mail/Internet.pm in @INC". I should point out that I had banned
	Mail::Internet from being installed most of the time.

	So which versions of MIME::Body and Mail::Internet did gain the cited
	successes above? -- MIME::Body was always 5.42. For Mail::Internet it
	was from 30383 up to 30420 the module version 1.74 and from 30884 up to
	30898 it was 1.76.

	Would you mind installing Mail::Internet and MIME::Body for 30428 and
	report? -- For Mail::Internet CPAN.pm chose MARKOV/MailTools-1.76.tar.gz
	to install and it succeeded. For MIME::Body it chose
	DSKOLL/MIME-tools-5.420.tar.gz and it succeeded.

	Would you do the same for 30875? -- I did with the same result.

	* Algorithm::Partition comes with a test "99-kwalitee".

use Test::More;

eval { require Test::Kwalitee; Test::Kwalitee->import };

plan( skip_all => 'Test::Kwalitee not installed; skipping' ) if $@;

	Ha, what a gem I haven't noticed yet!

	* Mail::Send has a new release and I just used it to report its own test
	with 30898 and another one for Continuity. We'll have to check for
	success later. -- No success.

	* make test on DSKOLL/MIME-tools-5.420.tar.gz goes into a fast endless
	loop today with blead@30900. We have already 30902 but it seems
	unrelated.

t/Entity............Use of uninitialized value within %INC in pattern match (m//
) at /home/src/perl/repoperls/installed-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/
site_perl/5.9.5/Mail/Field.pm line 114.
Use of uninitialized value in concatenation (.) or string at /home/src/perl/repo
perls/installed-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/site_perl/5.9.5/Mail/Fie
ld.pm line 114.
closedir() attempted on invalid dirhandle DIR at /home/src/perl/repoperls/instal
led-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/site_perl/5.9.5/Mail/Field.pm line 9
1.
Warning: Use of "require" without parentheses is ambiguous at (eval 482) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 483) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 484) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 485) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 486) line 1.
[...]
closedir() attempted on invalid dirhandle DIR at /home/src/perl/repoperls/instal
led-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/site_perl/5.9.5/Mail/Field.pm line 9
1.
[...]
closedir() attempted on invalid dirhandle DIR at /home/src/perl/repoperls/instal
led-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/site_perl/5.9.5/Mail/Field.pm line 9
1.
closedir() attempted on invalid dirhandle DIR at /home/src/perl/repoperls/instal
led-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/site_perl/5.9.5/Mail/Field.pm line 9
1.
closedir() attempted on invalid dirhandle DIR at /home/src/perl/repoperls/instal
led-perls/perl/p7R8oCc/perl-5.8.0@30900/lib/site_perl/5.9.5/Mail/Field.pm line 9
1.
Warning: Use of "require" without parentheses is ambiguous at (eval 740) line 1.
Bareword found where operator expected at (eval 740) line 1, near "200::lvchange
"
        (Missing operator before ::lvchange?)
Warning: Use of "require" without parentheses is ambiguous at (eval 741) line 1.
Bareword found where operator expected at (eval 741) line 1, near "200::lvm"
        (Missing operator before ::lvm?)
Warning: Use of "require" without parentheses is ambiguous at (eval 742) line 1.
Bareword found where operator expected at (eval 742) line 1, near "200::vgcfgres
tore"
        (Missing operator before ::vgcfgrestore?)
Warning: Use of "require" without parentheses is ambiguous at (eval 743) line 1.
Bareword found where operator expected at (eval 743) line 1, near "200::lvcreate
"
        (Missing operator before ::lvcreate?)
[...about 6 million lines of "closedir attempted" and "require without parentheses"...]
Warning: Use of "require" without parentheses is ambiguous at (eval 5936852) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 5936853) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 5936854) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 5936855) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 5936856) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 5936857) line 1.
Warning: Use of "require" without parentheses is ambiguous at (eval 5936858) line 1.

	The last perl before 30900 was 30898 which installed MIME-tools just
	fine.

	I built an autobundle snapshot from 30900 and another from 30898. Of
	course the latter is much bigger because it was not stopped by an
	endless loop. So the diff is unbalanced.

	Snapshot_2007_04_11_0[01].pm

	The only version difference is in Tk::Tree, impossible that it has an
	influence.


2007-04-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* t/op/pat....................................................FAILED at test 1658

	this is with bleadperl @ 30881

2007-04-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Need tests for dot distros and scripts. megainstall tests both but is
	too slow and we had no dot distro running on MB.

2007-04-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: my first trial (after the release of 1.90) to use "cpan ." with
	class-mop failed. It did not try the Build.PL but compleined about the
	inexistent Makefile.PL. Trying again with full path gave the same ugly
	result:

Running make for /home/src/perl/class-mop/SVN/.
Prepending /home/k/.cpan/build/Test-Without-Module-0.09-4HOjGl/blib/arch /home/k/.cpan/build/Test-Without-Module-0.09-4HOjGl/blib/lib to PERL5LIB for 'get'
  Has already been unwrapped into directory /home/src/perl/class-mop/SVN/.
Prepending /home/k/.cpan/build/Test-Without-Module-0.09-4HOjGl/blib/arch /home/k/.cpan/build/Test-Without-Module-0.09-4HOjGl/blib/lib to PERL5LIB for 'make'

  CPAN.pm: Going to build /home/src/perl/class-mop/SVN/.

Can't open perl script "Makefile.PL": No such file or directory
Warning: No success on command[/home/src/perl/repoperls/installed-perls/perl/pqoGi7b/perl-5.8.0@30869/bin/perl Makefile.PL]
Directory '/home/src/perl/class-mop/SVN/.' not below /home/k/.cpan/build, will not store persistent state
Prepending /home/k/.cpan/build/Test-Without-Module-0.09-4HOjGl/blib/arch /home/k/.cpan/build/Test-Without-Module-0.09-4HOjGl/blib/lib to PERL5LIB for 'test'
Running make test
  Make had some problems, won't test
CPAN: Module::Build loaded ok (v0.2807)
Failed during this command:
 /home/src/perl/class-mop/SVN/.               : writemakefile NO '/home/src/perl/repoperls/installed-perls/perl/pqoGi7b/perl-5.8.0@30869/bin/perl Makefile.PL' returned status 512

	First culprit is the 'return 1;' in line 5730.... FIXED in SVK rev. 2187
	or so.

	* Nice to have: serialization needs to be able to deal with JSON et.al.
	too.

	* LWP::UserAgent usage is not centralized, several spots of copy&paste.

2007-04-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Nice to have: an overview over the neuralgic patches up to 5.10 that
	broke XS modules with both links to patches, versions of the modules
	before and after the fix, error messages, etc. This would help people
	who have a broken XS module to find the quickest fix.

	* Bug: we scan the cache for sizes, then sort by date, then delete. We
	should first sort by date, then scan for sizes, then start to remove
	without scanning as soon as we know we are above the limit.

	* Maybe add a depends keyword to distroprefs because the number of
	missing dependency declarations in modules does not decrease despite all
	the bug reports we have sent out.

	* As soon as we support bz2 we must have an implicit dependency on
	packages Compress::Bzip2 whenever we want to untar such a thing.

	* For the Todo from David Golden: On installation of a distribution,
	check %INC for modules in that distribution. If found, warn the user and
	suggest that they call "reload cpan" at the prompt.

	Very good idea. But I had to answer:

But it will need some refinement because the
'reload cpan' command only checks for a static list of modules. It's
in my Todo file now and will be dealt with after 1.90.

	Maybe we just reload whatever we have loaded at the moment? Dangerous?
	How to render the process that is now already quite loud?

	* HTML::CalendarMonth is failing but the error output is really large. I
	just tried to report() it and must check later if the mail actually
	arrived. --- It seems this report never arrives.

	* Todo(???): introduce --notest and --force, etc. I'm not fond of it but
	Slaven has observed that two users expected it would work that way.

	* off topic: replace "falling" with "decreasing" where appropriate

	* off topic: Richard's talk about debugger brings me the idea to patch
	it to support saving of terminal history. I started implementing it and
	then lost track of my changes. Now in k75:/home/src/perl/perl5db/

	Patch sent in but Richard would like to get the default behaviour being
	to write the histfile.

	* bring the FirstTime dialogs into POD and back

	* somebody reports that RT does recursion. But what is the driving
	module for RT? RSPIER/Bundle-RT-0.030601.tar.gz ? No, this will only
	tell CPAN to install "most of RT's dependent modules". Not RT itself.
	--> this needs a bugreport.

	* wishlist Mark Overmeer: less output

	* http://www.youtube.com/watch?v=daJ1Hs_y738 screencast hint from
	Juergen Christoffel

	* http://rt.cpan.org//Ticket/Display.html?id=25223

	contact brian

	* offtopic: Perl::Repository::APC needs a doc patch that it doesn't work
	on case insensitive file systems.

	* Todo: write one of the CircDepe distros new to include version
	number(s) in prerequisites, especially undef.

	* Bug report/feature request from David Cantrell via David Golden:
	report shall only report on what-I-say, but not on the prerequisites.

	I have answered and I am not yet sure I want to go down that route.

	This muddies the waters. If we only report on things on the commandline,
	we can probably not get 'report Bundle::Spd' or 'Bundle::CPANxxl' to
	work properly? Well, maybe we can. We just have to try. And when? Before
	the release?

	I'd also need input from David because I could easily break his
	intentions.

	* Musing: when we some day optimize for the best CPAN mirror we shall
	learn from bittorrent and consider that the index file problem is
	separated from the rest of CPAN. And that we can fetch older files from
	everywhere but younger files only from hosts being fresh enough.

	* Next biggies: mod_perl, Subversion

	* Feature request by self: The bad performance of YAML.pm seems to be a
	showstopper. YAML.pm needs to be banned or disabling of YAML operations
	should be possible, don't know exactly how.

	* IAMCAL/XML-Parser-Lite-Tree-0.03.tar.gz fails when called early,
	succeeds when called late?

	Yes, this is the case. Because X:P:L:T depend on XML::Parser::Lite.
	PAUSE has indexed BYRNE/SOAP/SOAP-Lite-0.60a.tar.gz for that, but I have
	disabled the installation of this distro, so we fail quickly with a
	missing dependency.

	But during megainstall somebody installs X:P:L 0.65_3 and solves the
	problem for X:P:L:T. So who is it? With locate I find this:

	% ls -l /home/ftp/pub/PAUSE/authors/id/H/HE/HEX/XML-Parser-Lite-0.66.tar.gz
-rw-rw-r-- 1 root root 4388 Jan 31 13:53 /home/ftp/pub/PAUSE/authors/id/H/HE/HEX/XML-Parser-Lite-0.66.tar.gz

	But when going through the logfile, I find that SOAP-Lite-0.69 has
	installed it. Is my logfile the only one who knows who installed what?
	What a sad story. It's getting even worse when we realize that nobody
	discovers who overwrote which previous version!

	I must ask HEX if this is all as intended. DONE.

	We should also institutionalize a place where FAILED reports of the
	PAUSE indexer are directed to. We receive 3 every day and nobody cares
	about them, not even the authors.

	I also need to understand how I can speed up Gnus on large, rarely
	visited mailboxes. It is extremely slow on my pause mailbox and I cannot
	simply catchup on that as I do with the lookslikespam mailbox.

	And how do I deal with the X:P:L:T dependency in exactly this situation?
	It's not a goto. We need to patch up the dependency: instead of X:P:L it
	would have to be BYRNE/SOAP-Lite-0.69.tar.gz for now. But this would
	have to be removed as soon as HEX gets the index entry. Well, I think we
	have to pass on this one. Pity.

	And we have a similar issue with Flickr::API which also depends on
	XML::Parser::Lite::Tree (but which still fails tests, even if we resolve
	the X:P:L dependency).

	I think it's best described as a pseudo dependency. It depends on a
	thing that is contained in another but this other thing hides this (with
	the underscore in the version number).

	As was the case before we had distroprefs, externally known dependencies
	are best handled by bundle files. My "bundle file" here is the
	MEGA_INSTALL macro in my Makefile.PL. I simply add SOAP::Lite _before_
	Plagger.

	* Feature request by self: "o conf init ~"

	Should only try to talk about uninitialized or undefined config
	variables. (?)

	Tried it and it was much more work than expected, giving up. For a
	future reference, see the lines around C< $matcher eq "~" > in
	FirstTime.pm

	* TTL stuff

	* retry to run under Devel::Cover and actually read the results.

	* Feature: make the FTPstats max counter settable.

	* make _get_urllist a public method for Randy.

	* Write manpage for CPAN::HandleConfig, esp load().

	* I realize that CPAN::FTP::localize is undocumented and is what Randy
	wants.

	* Integrate hosts into $META like authors, distributions, and modules?
	If we're cautious, this might turn into an automatic optimization.

	If Coro does index downloads for us, we do not have to fear slow
	connections and can gather better data.

	* Guessing of -p0/-p1 for patch maybe wrong if the patch tries to create
	a new file against, say, /dev/null.

	* Would be nice: integrate the config variable name into the init
	dialogs such that one has a chance to learn their names over time.

	* Would be nice: 'o conf /check/' to list all variables matching a regex.

	* Todo: offer the choice between (readline) Gnu and Perl and Coro. See
	my trials in the bin/ directory (SVN only). Possibly this is done via
	envariables? Then we only should document it.

	* Mail::Send problem persists that Test::Reporter's mails do not arrive
	when sent with Mail::Send but do when sent with Net::SMTP (IIRC). In any
	case I must disable installation of Mail::Send somehow or debug.
	Test::Reporter has got a wish item via RT already some weeks ago.

	http://rt.cpan.org/Ticket/Display.html?id=13836

	http://code.google.com/p/test-reporter/

	* if we make the TTLs setable, maybe we should make the TTL for
	CHECKSUMS file too. In any case we have the problem of imacat also when
	the TTL of the local copy of the CHECKSUMS file has not yet been
	reached!

	* Coro. See also notes below, search for anyevent	

	* The first thing that I encounter when I start testing instead of
	installing things is that test doesn't stop when the installed version
	is higher than or equal to the CPAN version. Ilya invented for that
	test_uptodate??

	* replace 03 index file with YAML.

	* Looks like a bug to me what I find in Bundle-SZABGAB-0.01.yml:
	CONTAINSMODS is empty because Gabor has a distro in the bundle.

	* Todo: clean up "XXX" in the code

	* M2 (Wishlist) separate the TTLs for 01,02,03. If somebody asks 'a
	FOO', we should only check for the authors database, etc.

	* E1 Todo: use 00whois.xml instead of mailrc, and follow the UTF-8 HOWTO to
	get rid of the term_is_latin variable. Test output with locales.

	* H4 branch 1.87-dbmdeep-hackery revive? It was very broken but I do not
	remember details. Hint: DBM::Deep promises significant memory savings
	and in that branch we tried to see how it can be made to work for us.

	* M3 RT 17353: Flag outdated CPAN sites and move them to the end of the
	list when they have reached 291 hours. (Note: $CPAN/authors/02STAMP)

	* E1: revisit rev 158:159, the introduction of "recent" and "perldoc".
	#21791 has its bugreport. I don't like that most of the subroutines are
	thrown into CPAN::Distribution either. OTOH, we have commands that have
	no central role within CPAN. One can always refuse to use them. Hrm.
	HTML::Display!

	* E5: (again and again) verify that the CPAN.pm-using modules continue
	to work:

	DMUEY/AltaVista-BabelFish
	MSCHILLI/CPAN-Unwind
	ULPFR/CPAN-WAIT
	RJRAY/Devel-Modlist
	SMUELLER/PAR-Dist-FromCPAN
	DAGOLDEN/Perl-Dist
	CRAKRJACK/Test-CPANpm

	DONE (added most of them to MEGA_INSTALL)

	* E5 watch RT for open tickets. This todo can never be closed.

	* E1 Todo: continue to close the Pod::Coverage gap. Currently only
	CPAN.pm is covered

	* E3 Todo: write a test for dot-cpan/Metadata usage. Hmmm. Important for
	the future of locking, the future of DBM::Deep, protocol changes. Not
	sure what to test.

	* M3 Todo: investigate what BUGHUNTING in Tarzip means "today": it's
	about a very old bug in Archive::Tar that is most probably fixed. Turn
	bughunting on with the command C< !print$CPAN::Tarzip::BUGHUNTING=1 >.
	It is slow but everything should just plain work. When we're confident
	that everything works, we could offer a tar_policy option that has
	options "ext" and "mod", for external programs vs. modules, default to
	"ext"?

	* M3 Reopened Bug: it seems that a user who is in /bin and has "." in
	the beginning of the path gets ./sh as his shell from FirstTime. If we
	encounter . in the path we should rather ignore it. But first we must
	verify the behaviour. Reported by Slaven Rezic on behalf of Tino
	Schulze. This has nothing to do with -I. but only with the shell and
	$ENV{PATH} and as we do not know which shell it was it seems we cannot
	test for the problem.

	* H1 These days developer TELS posted to perl5-porters that his newest
	release is available at

	    http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

	Suddenly it dawned on me that I want to support

	    install http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

	What am I missing?

	The other commands dealing with files would have to learn a bit.

	d http://      # fails as before with "No objects of...."

	               # alt: does a HEAD and tells user that the URL can e reached

	ls http://     # lists nothing

	               # alt: says that ls doesn't support URLs

	get http://    # this is probably all we need to implement. Maybe a new
	               # class needed that does as_string and as_glimpse as well?

	And maybe a pragma that turns this feature on? So that 'get http://...'
	never works but 'force get http://...' does? Alt: config variable to
	turn feature on, then a separate module that implements it.

	Brian likes the idea

From: brian d foy <brian.d.foy@gmail.com>
Subject: Re: Welcome new user LOCAL
To: modules@perl.org
Date: Mon, 18 Sep 2006 14:52:48 -0500
Organization: Perl Authors Upload Server
Reply-To: modules@perl.org

In article <877j0361hl.fsf@k75.linux.bogus>, (Andreas J. Koenig)
<andreas.koenig.gmwojprw@franz.ak.mind.de> wrote:

> My spontaneous idea was to support the command
> 
>     cpan> get http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

oh, very interesting, especially if I already have the file:

   cpan> get file:///....

This makes CPAN::Mini::Inject a bit less useful because I no longer
need the middle man.

	* Make the "new -> ." symlink in scripts/ as outlined in a mail to kurt
	and jarkko

	* M2 feature request by Juergen Christoffel: have time stamps on the
	history and a history command to see them

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

2007-04-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* looping in installation: Dist-DCC
	(DMAKI/DateTime-Calendar-Chinese-0.05.tar.gz) install() calls test which
	calls make. This encounters 4 prereq (DES, DEC, DUAM, DUAC). The first
	two of those have already failed tests but we continue anyway. The other
	two are re-queued, the "later" flag on D is set. So we leave
	make/test/install early due to the later flag. As soon as we hav left
	the first position of the queue, the later flag is cleared. DUAM quickly
	decides that it is already installed. DUAC ditto. Dist-DCC is now again
	the first on the queue. It calls install/test/make again. Look, the
	later flag is cleared already, so nothing prevents us from looping
	through.

	So the bug seems to be that we rely on the module installation of DUAM
	and DUAC to recognisably either fail or succeed. But DUAM and DUAC seem
	to be not installed and installed at the same time. The Moon.pm and
	Common.pm files are found, their versions are considered "undef". But
	the distro they are in, Dist-DUA-0.08 considers itself already
	installed. What has happened to it? Indeed I can see that Dist-DUA-0.08
	has been installed. Why do we not recognize their installed version?

    $VERSION = $DateTime::Util::Astro::VERSION;

	So this is the root cause. The PAUSE indexer somehow determined 0.04
	being the version. One bug must have happened over there. But we should
	not run into a loop just because of this.

	Until recently we broke out of this loop because we set and consulted
	is_tested. But this left us in the is_tested state leading to the
	"Prepending" bug.

	As we now (correctly) reserved the is_tested/is_installed stuff
	exclusively for the task of prepending to PERL5LIB, we now need
	something similar for finer control over prereq menagement than "later"
	and undelay provide.

	I do not want to use "later" for this because it already does something
	OK and needs a short lifespan. (For the record: leave test and install
	early when we discover that we have to deal with prereqs first).

	But now the first thing I need is a recipe how to reproduce the loop
	bug: new bleadperl + Bundle::CPANxxl. install
	DMAKI/DateTime-Calendar-Chinese-0.05.tar.gz triggers many installs and
	soon fails nicely with

  DMAKI/DateTime-Calendar-Chinese-0.05.tar.gz
  ./Build test -- NOT OK
Running Build install
  make test had returned bad status, won't install without force
Failed during this command:
 DMAKI/DateTime-Util-Astro-0.08.tar.gz        : make_test NO
 DMAKI/DateTime-Util-Astro-0.09.tar.gz        : make_test NO
 DMAKI/DateTime-Event-Lunar-0.05.tar.gz       : make_test NO
 DMAKI/DateTime-Event-SolarTerm-0.04.tar.gz   : make_test NO
 DMAKI/DateTime-Event-Chinese-0.04.tar.gz     : make_test NO
 DMAKI/DateTime-Calendar-Chinese-0.05.tar.gz  : make_test NO

	So mayby with the advent of DMAKI/DateTime-Util-Astro-0.09.tar.gz the
	loop is gone? Looking into the distro I find the 

	$VERSION = $DateTime::Util::Astro::VERSION;

	dictum in all files, so the saga continues. Maybe I can reproduce the
	bug if I disable 0.09? No. If instead I "goto(0.08)" and turn
	build_dir_reuse off? No. If I manually set the $VERSION of DUAC and DUAM
	to undef? No.

	My current blead@30849 can reproduce the bug. Backup. On that perl
	installation it is enough to

	  install DMAKI/DateTime-Calendar-Chinese-0.05.tar.gz

	to enter the loop. The solution is the sponsored_modules attribute which
	is already used to prevent re-testing within one command. So now we
	prevent re-installing too.

2007-04-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* with yesterday's fix DMAKI/DateTime-Util-Astro-0.08.tar.gz runs into
	an endless installation loop:-(

2007-04-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Prepending /home/k/.cpan/build/Text-Autoformat-1.13-tM9mak/blib/arch /home/k/.cpan/build/Text-Autoformat-1.13-tM9mak/blib/lib /home/k/.cpan/build/DateTime-Util-Astro-0.08-YLAScV/blib/arch /home/k/.cpan/build/DateTime-Util-Astro-0.08-YLAScV/blib/lib to PERL5LIB for 'make'

	Now I got it. If for whatever reason we have another "test" after an
	"install", we enter is_tested again but do not leave it because install
	is "already done".

	What's the fix? Either do not enter again or always leave even when
	"already done". The former is not easy or even impossible because we
	never know that a distribution is already installed. We only know it for
	modules. So the second solution is the better.

	* CPANPLUS 0.78?

Recursive dependency detected:
    CPANPLUS (have: N/A; want: 0.78)
 => KANE/CPANPLUS-0.78.tar.gz
 => CPANPLUS::Shell::Default (have: N/A; requires: 0.0)
 => KANE/CPANPLUS-0.78.tar.gz.
Cannot resolve.

	Need to relax the dependency check for self?

	http://rt.cpan.org/Ticket/Display.html?id=26077

	* YAML::Tiny 1.04?

	Now that YAML::Syck is broken, YAML::Tiny tests also fail. It seems
	because they compare Syck with Tiny.

	* Try newer apache for mod_perl (Current is 1.3.37!)

	* Try out outline mode for Changes file

	* The "Prepending" bug: Prepending /home/k/.cpan/build/XML-LibXML-1.62-yZpjGO/blib/arch /home/k/.cpan/build/XML-LibXML-1.62-yZpjGO/blib/lib /home/k/.cpan/build/Apache-Session-1.82-idoFjK/blib/arch /home/k/.cpan/build/Apache-Session-1.82-idoFjK/blib/lib /home/k/.cpan/build/mod_perl-1.30-YPYnZK/blib/arch /home/k/.cpan/build/mod_perl-1.30-YPYnZK/blib/lib to PERL5LIB for 'test'

	This gathering is always around more or less of the same modules. And
	today (megainstall.20070403T0058.out) I did not run a parallel shell
	session, so the problem builds up from some other forces. It started
	with mod_perl, then Apache-Session joined the club and then XML::LibXML.

	YAY, mod_perl is a real problem: installation fails because the apache
	part wants to install its deputies into /usr/local where I have no
	permissions. Need to revisit the parameters I can influence.

	So next problem child is Apache-Session. I find no line in the output
	(yet?) that would explain the problem but a suspect it's simply due to
	the mod_perl dependency. Nope. Only declared prereqs are

    requires: 
      File::Temp: 0
      Test::Deep: 0.082
      Test::Exception: 0.15
      Test::More: 0.47

	???

2007-04-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug or what?

% make run
/home/src/perl/repoperls/installed-perls/perl/p3VGl7t/perl-5.8.0@30827/bin/perl -Ilib -MCPAN -eshell
CPAN: Term::ANSIColor loaded ok (v1.11_01)
Terminal does not support AddHistory.

cpan shell -- CPAN exploration and modules installation (v1.90)
ReadLine support available (try 'install Bundle::CPAN')

cpan[1]> m HTTP::Body
CPAN: Storable loaded ok (v2.16)
Going to read /home/k/.cpan/Metadata
  Database was generated on Mon, 02 Apr 2007 05:09:49 GMT
CPAN: YAML::Syck loaded ok (v0.84)
Going to read /home/k/.cpan/build/
......................................................Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Use of uninitialized value in concatenation (.) or string at lib/CPAN.pm line 657.
Catching error: 'Alert: While trying to  YAML file
  
with '' the following error was encountered:
  
' at lib/CPAN.pm line 274
        CPAN::shell() called at -e line 1

	Same for 30824. But when I repeat the 'm' command after that, it works.

	There must be a yaml file that breaks something. Needs further investigation.

	The broken YAML file is ~/.cpan/build/DBD-SQLite-1.13-Hqur1h.yml which
	fails at line 30/31:

 29   prefs:
 30     comment: '\nBecause the Makefile.PL depends on having DBI installed we w    ant to\nlet them build DBI and then rerun perl Makefile.PL and then make"\n\    nIt\'s a crazy example that I do not really like. I prefer resolving\nsuch a     thing with a build_requires or similar mechanism and see it\nas a Todo item     that such hacks are not needed in the future.\n'
 31     install: {}
 32 

	YAML::LoadFile isn't accepting this as valid YAML either. So who wrote
	it? It was written by YAML::Syck 0.84.

	https://rt.cpan.org/Ticket/Display.html?id=26057

2007-04-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* The HTTP::Body failing test is interesting. It's a loop over 11 cases
	with 5 tests on each. We get one "ok" and the next line in the code is
	an is_deeply() which consumes memory until exhausted.

	Replacing YAML with YAML::Syck resolves the problem. But running the
	program in the debugger with YAML also resolves it.

	https://rt.cpan.org/Ticket/Display.html?id=25927

	Also posted to P5P.

	* Much worse, I just discover that the last run of megainstall hangs and
	it is not obvious where.

	It has to do with Jifty and lsof says it has
	/home/k/.cpan/build/Jifty-0.70117-rnNlvG/t/Mapper as the CWD.

	The last lines in the output file are

		 Calling 'column' within a schema class is deprecated:

				package Jifty::Model::Session::Schema;
				column session_id => ...;        # NOT VALID

		 Please write this instead:

				package Jifty::Model::Session;
				use Jifty::DBI::Schema;
				use Jifty::Record schema {
						column session_id => ...;    # VALID
				};

		 Sorry for the inconvenience.

		*********************************************************
		 at /home/k/.cpan/build/Jifty-0.70117-rnNlvG/blib/lib/Jifty/Model/Session.pm line 20

		#   Failed test 'use Jifty::Test::WWW::Mechanize;'
		#   at t/Mapper/t/01-raw-api.t line 16.
		#     Tried to use 'Jifty::Test::WWW::Mechanize'.
		#     Error:  Base class package "Test::WWW::Mechanize" is empty.
		#     (Perhaps you need to 'use' the module which defines that package first.)
		#  at /home/k/.cpan/build/Jifty-0.70117-rnNlvG/blib/lib/Jifty/Test/WWW/Mechanize.pm line 5
		# BEGIN failed--compilation aborted at t/Mapper/t/01-raw-api.t line 16.
		# Compilation failed in require at (eval 1124) line 2.
		# BEGIN failed--compilation aborted at (eval 1124) line 2.
		Can't locate object method "new" via package "Jifty::Test::WWW::Mechanize" at t/Mapper/t/01-raw-api.t line 21.
		# Looks like you planned 32 tests but only ran 2.
		# Looks like you failed 1 test of 2 run.


	I kill the hanging test and hope to remember this problem next time
	around.

	And the major Todo here is to give an alert when such things happen.

	* Apache resurrected!

	But I see a bug or two:

cpan[5]> m mod_perl
Module id = mod_perl
    CPAN_USERID  GOZER (Philippe M. Chiasson <gozer@cpan.org>)
    CPAN_VERSION 1.30
    CPAN_FILE    G/GO/GOZER/mod_perl-1.30.tar.gz
    MANPAGE      mod_perl - Embed a Perl interpreter in the Apache HTTP server
    INST_FILE    /home/src/perl/repoperls/installed-perls/perl/pK4VYj9/perl-5.8.0@30806/lib/site_perl/5.9.5/i686-linux-64int/mod_perl.pm
    INST_VERSION 1.30


cpan[6]> m mod_perl
Module id = mod_perl
    CPAN_USERID  GOZER (Philippe M. Chiasson <gozer@cpan.org>)
    CPAN_VERSION 1.30
    CPAN_FILE    G/GO/GOZER/mod_perl-1.30.tar.gz
    MANPAGE      mod_perl - Embed a Perl interpreter in the Apache HTTP server
    INST_FILE    /home/src/perl/repoperls/installed-perls/perl/pK4VYj9/perl-5.8.0@30806/lib/site_perl/5.9.5/i686-linux-64int/mod_perl.pm
    INST_VERSION 1.30


cpan[7]> d GOZER/mod_perl-1.30.tar.gz
No objects of type Distribution found for argument GOZER/mod_perl-1.30.tar.gz


	Note that the last upload date does not appear.

	And when I scroll back I see a potentially third one:

Running make for D/DM/DMUEY/AltaVista-BabelFish-v42.0.2.tar.gz
Prepending /home/k/.cpan/build/mod_perl-1.30-gG7ERZ/blib/arch /home/k/.cpan/build/mod_perl-1.30-gG7ERZ/blib/lib to PERL5LIB for 'get'

	And later:

DEL(528.9>100.0MB): /home/k/.cpan/build/mod_perl-1.30-wAaavP 
DEL(257.3>100.0MB): /home/k/.cpan/build/mod_perl-1.30-gG7ERZ 

	These are now removed so are no good witnesses. Leaving the shell and
	re-entering?

cpan[2]> m mod_perl
Module id = mod_perl
    CPAN_USERID  GOZER (Philippe M. Chiasson <gozer@cpan.org>)
    CPAN_VERSION 1.30
    CPAN_FILE    G/GO/GOZER/mod_perl-1.30.tar.gz
    UPLOAD_DATE  2007-03-30
    MANPAGE      mod_perl - Embed a Perl interpreter in the Apache HTTP server
    INST_FILE    /home/src/perl/repoperls/installed-perls/perl/pK4VYj9/perl-5.8.0@30806/lib/site_perl/5.9.5/i686-linux-64int/mod_perl.pm
    INST_VERSION 1.30


cpan[3]> d GOZER/mod_perl-1.30.tar.gz      
Distribution id = G/GO/GOZER/mod_perl-1.30.tar.gz
    CPAN_USERID  GOZER (Philippe M. Chiasson <gozer@cpan.org>)
    CONTAINSMODS Apache Apache::Connection Apache::Constants Apache::Constants::Exports Apache::Debug Apache::ExtUtils Apache::FakeRequest Apache::File Apache::Include Apache::Leak Apache::Log Apache::ModuleConfig Apache::Opcode Apache::Options Apache::PerlRun Apache::PerlRunXS Apache::PerlSections Apache::RedirectLogFix Apache::Registry Apache::RegistryBB Apache::RegistryLoader Apache::RegistryNG Apache::Resource Apache::SIG Apache::Server Apache::SizeLimit Apache::StatINC Apache::Status Apache::Symbol Apache::Symdump Apache::Table Apache::URI Apache::Util Apache::fork Apache::httpd_conf Apache::src Apache::testold mod_perl
    UPLOAD_DATE  2007-03-30

	Interesting. This must be the same bug as described below for
	DMAKI/DateTime-Util-Astro-0.08.tar.gz et.al. Something gets installed
	properly, its state gets reanimated twice, and some data get lost during
	this step. Not sufficient to write a recipe how to reproduce.

2007-03-31  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Tcl-0.91

	When was Tcl updated last time?      2006-11-13

	When was Tcl added to megainstall?   SVK rev. 2016 on 2007-03-04

	When did Tcl start failing?          20070330T2346 (@30791)

	What is the failure saying?          t/call.........Tcl_InitNotifier: unable to ...
	                                     start notifier thread...dubious...and many ...
	                                     such messages

	Binary search says?                  First try against 30402 says that 30402 also fails

	Do we have a counter example?        20070305T0316 (@30463)

	What the latest counterexample?      megainstall.20070329T1818.out.term (@30777)

	cmp autobundle 30777/30791?          Snapshot_2007_03_31_0[01].pm too many differences.
	                                     I blame the extra tests I did for 30777

	cmp autobundle 30776/30806?          Snapshot_2007_04_01_0[01].pm also many differences.

	Are there google results on the
	error message "Tcl_InitNotifier:
	unable to start notifier thread"?    Plenty.

	I suppose my box upgrade on 0328 triggered some tcl breakage and I can
	ignore the issue from bleadperl's viewing angle.

	* Spreadsheet-ParseExcel-0.29

	http://rt.cpan.org/Ticket/Display.html?id=24693

	* Getopt ArgvFile 1.10

	No update since 2005. It seems to me the test now fails due to CPAN.pm's
	renaming of the root directories.

	http://rt.cpan.org/Ticket/Display.html?id=26001

	* AltaVista::BabelFish 42.0.1

	tests OK but CPAN.pm complains about an unfulfilled dependency,
	IO::Redirect. CPAN.pm does no know about IO::Redirect. Ticket in RT
	written.

	http://rt.cpan.org/Ticket/Display.html?id=26000

	* Net::Twitter 1.04

	testers has a pass, no fails. No bugreports in RT. It fails because
	JSON::Any fails. And JSON::Any fails because of a POD bug uncovered by
	Test::Pod or some such. Uh, oh!

	http://rt.cpan.org/Ticket/Display.html?id=25991

	* Devel::ebug 0.47

	Nothing blead related in RT. Tests ok with 30804. On retry installs
	successfully also with 30791. The error in the logfile is a YAML thing.

	NEEDS FURTHER WATCHING

	* Template::Timer 0.04, don't know where it comes from.

	It's been uploaded in 2005 and does profiling on TT. Catalyst-View-TT
	may have brought that in but who brought us that? Need to look into RT
	which is down at the moment. There is one bugreport about strange
	behaviour with 5.9.2 but no followup. Here it fails with 20002 too and
	with 16904.

	Cannot imagine what the problem is. Maybe som TT internal thing and
	older versions of Template did something differently.

	http://rt.cpan.org/Ticket/Display.html?id=26002

	* HTTP::Body 0.9 broken too.

	Ahh, this is the already reported YAML bug.

	* CPAN-SQLite from CVS broken too:

	20070326T0114 perl        30754
	20070326T0933 perl        30756
	20070326T1512 perl        30759
	20070326T2046 perl        30763 B
	20070327T0157 perl        30769 B
	20070327T0954 perl        30771 B
	20070327T1451 perl        30773 B
	20070327T2003 perl        30774 B
	20070328T1247 perl        30775 B
	20070329T0833 maint-5.8   30765
	20070329T1122 perl        30776 B
	20070330T0409 perl        30777 B
	20070330T2244 perl        30777 B
	20070330T2346 perl        30791 B

	A single 'make clean' helped and is now in the LOCAL distroprefs file.

	* Why is this in last night's megainstall (megainstall.20070330T2346.out):

  CPAN.pm: Going to build P/PE/PEVANS/Time-HiRes-Value-0.03.tar.gz

Checking whether your kit is complete...
Looks good

Checking prerequisites...
Looks good

Creating new 'Build' script for 'Time-HiRes-Value' version '0.03'
Copying lib/Time/HiRes/Value.pm -> blib/lib/Time/HiRes/Value.pm
Manifying blib/lib/Time/HiRes/Value.pm -> blib/libdoc/Time::HiRes::Value.3
  PEVANS/Time-HiRes-Value-0.03.tar.gz
  ./Build -- OK
  Prepending /home/k/.cpan/build/DateTime-Util-Astro-0.08-yKjgxA/blib/arch /home/k/.cpan/build/DateTime-Util-Astro-0.08-yKjgxA/blib/lib /home/k/.cpan/build/mod_perl-1.30-eynhXg/blib/arch /home/k/.cpan/build/mod_perl-1.30-eynhXg/blib/lib /home/k/.cpan/build/Bit-Vector-6.4-SYePdn/blib/arch /home/k/.cpan/build/Bit-Vector-6.4-SYePdn/blib/lib /home/k/.cpan/build/Text-Autoformat-1.13-w2ad5G/blib/arch /home/k/.cpan/build/Text-Autoformat-1.13-w2ad5G/blib/lib to PERL5LIB for 'test'

	It seems to indicate that some modules were built and tested
	successfully and await installation. But why did they not get installed?

	I can see elsewhere in the logfile:

  DMAKI/DateTime-Util-Astro-0.08.tar.gz
  make install UNINST=1 -- OK

  STBEY/Bit-Vector-6.4.tar.gz
  make install UNINST=1 -- OK

  DCONWAY/Text-Autoformat-1.13.tar.gz
  make install UNINST=1 -- OK

	So apparently three times the unsetting of the is_tested flag did not
	work. Do we have a new bug in perl or is it our own bug?

	Going back to February 22, I see the same thing for
	DateTime-Util-Astro-0.08-BsMTev XML-LibXML-1.62-Zi4hvt
	Apache-Session-1.82-3jaGeJ Bit-Vector-6.4-nHiJ0u

	This was less noisy in January, started in February, so I suppose our
	own bug:(

2007-03-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Perlbal fails all over since we have it in megainstall at
	20070323T0231.

	Why are there some logfiles without a broken Perlbal?

	B for broken:

	B 20070323T0231 perl        30700
	  20070323T0727 maint-5.8   30701 gpg failure? terminated?
	B 20070323T1315 perl        30714
	B 20070323T1935 perl        30726
	B 20070323T2327 maint-5.8   30723
	B 20070324T0326 perl        30740
	B 20070324T1335 maint-5.8   30743
	B 20070324T1813 perl        30745
	B 20070325T0041 perl        30750
	B 20070326T0114 perl        30754
	B 20070326T0933 perl        30756
	B 20070326T1512 perl        30759
	B 20070326T2046 perl        30763
	B 20070327T0157 perl        30769
	B 20070327T0954 perl        30771
	B 20070327T1451 perl        30773
	B 20070327T2003 perl        30774
	B 20070328T1247 perl        30775
	B 20070329T0833 maint-5.8   30765
	B 20070329T1122 perl        30776
	  20070329T1818 perl        30777 gpg failure? terminated?
	B 20070330T0409 perl        30777
	  20070330T2219 perl        30777 terminated somehow
	B 20070330T2244 perl        30777
	B 20070330T2346 perl        30791
	  20070331T0514 perl        30804 still running

	The two gpg failures/terminated questions are suspicious. I rename them
	to .out.term so they do not lead to confusion.

	* Perlbal failing with maintperl, bleadperl (very different failure
	modes). 2 reports sent (as k), check which arrived!

	And 5.8.8 failed the first time but succeeded the second time. Binary
	search impossible because sometimes it hangs. Too fragile: hanging test
	45 for example. Maybe the prerequisites not tight enough?

2007-03-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

2007-03-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: Uuuuuh, pressing ^C and then trying an illegal command, ugliness:

	LWP failed with code[500] message[read timeout]
Trying to get away with old file:
6114541  500 -rw-rw-r--  1 1000     1000       504953 Nov  8 08:02 /home/k/.cpan/sources/modules/02packages.details.txt.gz
Going to read /home/k/.cpan/sources/modules/02packages.details.txt.gz
  Database was generated on Tue, 07 Nov 2006 12:25:12 GMT
.
Caught SIGINT, trying to continue
	
cpan> hosts
Refusing to autoload 'hosts' while signal pending at lib/CPAN.pm line 590.

	Seems to be FIXED

	* Verilog-Perl a.k.a. Verilog::Language broke some day but not on perl
	but on some other module most probably. I spent a long time
	investigating and still no good plan how to identify the problem.
	There's quite a bit to read further down on 2007-02-17.

	2007-03-28 akoenig: 2007-01-27/28 the tests started failing.

	grep -1 WSNYDER/Verilog-Perl logs/megainstall.20070*.out|grep 'make test'

logs/megainstall.20070127T1700.out-  /usr/bin/make test -- OK
logs/megainstall.20070127T2309.out-  /usr/bin/make test -- OK
logs/megainstall.20070128T0351.out-  /usr/bin/make test -- NOT OK

	all tests before that were OK, all tests after failed.

logs/megainstall.20070127T2309.out:ESC[1;44m  WSNYDER/Verilog-Perl-2.371.tar.gz
logs/megainstall.20070127T2309.out-ESC[0mESC[1;44m  /usr/bin/make test -- OK
--
logs/megainstall.20070128T0351.out:ESC[1;44m  WSNYDER/Verilog-Perl-2.371.tar.gz
logs/megainstall.20070128T0351.out-ESC[0mESC[1;31m  /usr/bin/make test -- NOT OK

	Now this: back in February I proved it is not perl. Now I proved, it is
	something based on date, not perl version. So something else was updated
	that evening, either a distro or a distroprefs file.

% diff -u =(grep 'CPAN.pm: Going to' logs/megainstall.20070127T2309.out | sort) =(grep 'CPAN.pm: Going to' logs/megainstall.20070128T0351.out | sort)
--- /tmp/zshkEon7w      2007-03-28 08:09:44.000000000 +0200
+++ /tmp/zsheCNzmI      2007-03-28 08:09:44.000000000 +0200
@@ -321,6 +321,7 @@
   CPAN.pm: Going to build J/JR/JROBINSON/DBIx-Class-0.07005.tar.gz
   CPAN.pm: Going to build J/JR/JROGERS/Net-Telnet-3.03.tar.gz
   CPAN.pm: Going to build J/JU/JURL/DBD-ODBC-1.13.tar.gz
+  CPAN.pm: Going to build J/JV/JV/Getopt-Long-2.36.tar.gz
   CPAN.pm: Going to build J/JW/JWIED/Net-Daemon-0.39.tar.gz
   CPAN.pm: Going to build J/JW/JWIED/PlRPC-0.2018.tar.gz
   CPAN.pm: Going to build K/KA/KANE/CPANPLUS-0.076.tar.gz

	It is GetOpt-Long-2.36!

	Now I wrote a bug report and RT answers with an internal server error.
	Bug report lost? Fortunately no:

	https://rt.cpan.org/Ticket/Display.html?id=25900

	* David Golden sent me this link to perlmonks
	http://perlmonks.org/?node_id=603402 and we have since fixed the
	documentation in perlrun or so. Need to come back to monks and report
	this success. DONE.
	
2007-03-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: shuffle the Todo list so that it is useable again

	* Jifty seems to hang in the test 

	/home/src/perl/repoperls/installed-perls/perl/pWbnf63/perl-5.8.0@30754/bin/perl -w t/Mapper/t/02-api.t

	I must kill the associated process because it is standing still since
	2:48 and now it is 5:25. Will have to be seen again before we can take
	some action.

2007-03-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: the notest pragma seems to be sticky. I encounter today that I
	cannot test Module::Build with the error message:

Skipping test because of notest pragma

	I do not know who sets it. Even after 'fforce get' it is set.

	After removing all Module-Build*.yml files in the build directory the
	problem goes away. Apparently we restore the pragma from a previous
	session... UHHH. Bug!

	Fixed in SVK rev. 2112 or so.

	* Todo: XUL::Node is some POE stuff and asks two questions

	* rxvt-unicode current version is @ 8.2, debian's is @ 7.9

	* Todo: post a working patch against Danga-Socket based on Dan Kogai's
	posting
	http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2006-12/msg00187.html

	DONE

2007-03-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* screencast still in idea stage: Slaven suggests to write an abstract
	widget as described in Tk::mega. This shall then use a text widget and
	only implement a few things like add_character, delay, add_line. Each
	shall then be passed through to the text widget. If our needs cannot be
	fulfilled by the text widget, we can still switch later to a canvas
	implementation.

	Further methods needed to make TAB behaviour visible. Both on capture
	and on output tricky. Does screen capture the TAB with its built-in? No.

	It's a drag. It turns me off. It seems the only software that does it
	right might be xterm itself? Ask Marc if rxvt can do it? DONE

2007-03-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* rt.cpan.org #25627 is awaiting further thoughts.

2007-03-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* I just discovered Term::ReadLine::Zoid by Jaap Karssenberg (PARDUS).
	It seems to work if the prompt is a string, it fails if it is an
	overloaded string. E.g.:

	PERL_RL=Zoid /home/src/perl/repoperls/installed-perls/*/p*/perl-5*@30598/bin/perl -Ilib -MCPAN -e 'shell("zoid> ")'
CPAN: File::HomeDir loaded ok (v0.64)
CPAN: Term::ANSIColor loaded ok (v1.11)

cpan shell -- CPAN exploration and modules installation (v1.8879)
ReadLine support enabled

zoid> q
Lockfile removed.

	But it starts in vi mode so immediately turns me off.
	PERL_RL=Zoid::Emacs works better.

	See also Zoidberg, the Perl shell. It seems to need a binary search. Or
	two! First it failed a test in blead which passes with ~29000. But with
	~29000 it's misbehaving during installation because it wants to write to
	/etc/. Maybe a Module::Build problem. With ~23000 it is installable.
	Strange. After a few hours we reach the area 2809[45] and the diffs
	indicate that we must be chasing a red herring. Usually we detect this
	by removing the older of the two involved perls and restarting the
	binary search and then comparing the profile of installed modules and
	their versions near the old and the new borderline. As we have no idea
	which modules to watch we will have to use autobundle.

	28094 succeeds, 95 fails. The patch 28095 is empty (!; see 28097 for
	some kind of explanation). The modules in the old (failing) 28095 are
	documented in Snapshot_2007_03_21_00.pm The first succeeding perl above
	28094 is which? 28100 and its snapshot is Snapshot_2007_03_21_01.pm

	And the first that then fails again is 28101 and I have now to change
	one module after the other to find out which has a bug. The snapshot of
	the 101 is Snapshot_2007_03_21_02.pm.

	Upgrading ExtUtils::MakeMaker from 6.30_02 to 6.32: no success.

	100 ok: Zoidberg-0.96-GO1tIS 	ExtUtils::Install	1.39
	101 fail: Zoidberg-0.96-wZKukQ 	ExtUtils::Install	1.41

	Stepwise upgrading of ExtUtils::Install:

   54015 2006-04-09 YVES/ExtUtils-Install-1.38.tar.gz
   65192 2006-04-14 YVES/ExtUtils-Install-1.39.tar.gz
   66620 2006-04-15 YVES/ExtUtils-Install-1.39_01.tar.gz
   56020 2006-04-30 YVES/ExtUtils-Install-1.40.tar.gz
   56582 2006-07-02 YVES/ExtUtils-Install-1.41.tar.gz
   57600 2007-02-02 YVES/ExtUtils-Install-1.41_01.tar.gz
   57628 2007-02-03 YVES/ExtUtils-Install-1.41_02.tar.gz
   58146 2007-02-11 YVES/ExtUtils-Install-1.41_03.tar.gz

	
	1.39    ok
	1.39_01 not ok
	1.40    not ok
	1.41    not ok
	1.41_01 fails its tests
	1.41_02 not ok
	1.41_03 not ok

	[(Sidetrack: Up/downgrading to 1.39_01 does not work. When I go to the
	~/.cpan/build/ExtUtils-Install-1.39_01 and call './Build install' then I
	see just this:

Reading skip patterns from 'INSTALL.SKIP'.
Writing /home/src/perl/repoperls/installed-perls/perl/pbN6H8H/perl-5.8.0@28100/lib/site_perl/5.9.4/i686-linux-64int/auto/ExtUtils/Install/.packlist

	I have to remove the INSTALL.SKIP file to install it. After that the
	installation finishes and I get 1.39_01.)]

  Downgrading to 1.39 makes it "work" again. When it comes by zoidrc it says:

Skipping /etc/zoidrc (unchanged)

	Apparently I have this zoidrc since Feb 12 or somebody set the timestamp
	to that. The file belongs to me, so I would be able to overwrite it. The
	failure to install it is a bug in ExtUtils::Install since 1.39_01.

	http://rt.cpan.org/Ticket/Display.html?id=25627

	What's noteworthy is that there seems to be no viable workaround short
	of patching Zoidberg. I cannot find a way to skip the installation step
	of etc/zoidrc. Not with "appdir", not with "distroprefs/*/commandline"
	where I tried to remove some files in the right moment, not with
	"||true" on the commandline because etc/zoidrc comes before the modules.
	Only thing is to disable all ExtUtils::Install after 1.39 and allow 1.39
	and downgrade everywhere. But here my love to Zoidberg is not strong
	enough and I decide to wait for a new release of ExtUtils::Install.

2007-03-20  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug in perldoc when rendering S< > which is being used in
	Tk/pod/mega.pod. It seems the rest of the line is being lost or so.
	tkpod displays it correctly.

	* Todo: screencast into the distro.

	http://kubasik.net/blog/2006/12/04/finally-howto-screencast-on-linux/

	http://ubuntu.wordpress.com/2006/06/08/how-to-create-a-screencast-in-ubuntu/

	I think I do not like these tools. They may be good for a YouTube video
	but for inclusion in the distro I want a text file that can be replayed,
	not a video. Tk, wx or curses. But maybe with sound. And of course,
	things that need just-in-time-explanation like "Watch now what happens
	when I hit TAB" or "see the result in slow motion now". It's probably
	much harder to produce such a beast than one would think on first sight.

2007-03-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: fix wxWidgets to not download 20 MB every time I try to build
	it. [...] Oh well, I removed wxWidgets from MEGA instead.

	* Todo: investigate a bug in Cache.pm. Cache-2.04 failed today but it
	does not fail when I want to report the bug. The error message in the
	logfile was:

t/file...........
#   Failed test 'Cache::Tester::test_expiry: entry with 1 sec timeout added'
#   at /home/k/.cpan/build/Cache-2.04-L1wXv8/blib/lib/Cache/Tester.pm line 449.
# Looks like you failed 1 test of 84.
dubious
	Test returned status 1 (wstat 256, 0x100)
DIED. FAILED test 37
	Failed 1/84 tests, 98.81% okay

2007-03-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Alien::wxWidgets uses C< use Fatal qw(mkdir); > and uncovers that
	bleadperl forgot Fatal.pm when the _ prototype was introduced.

	http://groups.google.com/group/perl.perl5.porters/browse_thread/thread/2cae4476fda4c645/94fa909e7ae230a8#94fa909e7ae230a8

2007-03-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Retrying now with 5.6.2 from my k account. Worked.

	* Just sent a report for 5.8.3 from my k account and it arrived immediately.

	* report about 5.00504? I forgot that CPAN::Reporter does not run there.
	Lots of prereqs broken on 5.005

	* Report from OSX:

Sending test report with 'pass' to cpan-testers@perl.org
postdrop: warning: unable to look up public/pickup: No such file or directory

	* Report for 5.6.2, where did it get lost? Mail::Send is NOT installed
	(which is good). Net::SMTP is 2.29. 2.30 does not compile because it is
	calling utf8::encode. Will have to retry later.

	* Why is he not sending?

cpan[5]> report ANDK/CPAN-1.88_79.tar.gz
[...]
Test report not sent

	I think I had 'send_report' set to 'no'. Retrying after setting it to
	ask/no. Yes, this time it sent a report for 5.9.5 and it arrived.

2007-03-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* clean 31sessions.t output and run 30shell without Expect and clean
	that stderr thing too.

	This doesn't seem to be possible to do reliably. As soon as I let STDOUT
	and STDERR be joint with 2>&1 some tests fail. I think I'd prefer to
	have the Test:: stuff refrain from using STDERR alltogether and as long
	as they don't (or can't?) I'll let some STDERR escape.

	And this?

make[1]: Entering directory `/home/k/.cpan/build/CPAN-Test-Dummy-Perl5-Make-Failearly-1.02-8r8dgG'
make[1]: *** No rule to make target `clean'.  Stop.

	Ah, if {writemakefile} failed, do not try 'make clean'! DONE

2007-03-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Class::MOP needs a binary search because test t/003methods.t fails in
	blead but not in 22000. But a naive binary search discovers breakage in
	t/081_meta_package_extension.t on patch 26370. But we certainly can
	ignore that because this test works again nowadays. So I need a
	distropref to limit tests.

	Learn something new about Module::Build:

	    ./Build test --test_files t/mytest.t

	So now binary search again without the 081 test:

----Program----
eval {require Class::MOP};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pL9BuO7/perl-5.8.0@26486/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pHxMchK/perl-5.8.0@26487/bin/perl----
N/A

----EOF ($?='0')----

	Change 26487 by nicholas@nicholas-saigo on 2005/12/26 12:31:01

	Rework constant.pm to take advantage of the space savings of proxy
	constant subroutines whenever it can.

% ./Build test --verbose --test_files t/003_methods.t                                                                                                [CPANSHELL]
t/003_methods....1..64
ok 1 - use Class::MOP;
ok 2 - use Class::MOP::Class;
ok 3 - ... our method is not yet blessed
not ok 4 - ... we added the method successfully

#   Failed test '... we added the method successfully'
#   at t/003_methods.t line 65.
# died: Not a GLOB reference at /home/k/.cpan/build/Class-MOP-0.37-SpVpcK/blib/lib/Class/MOP/Package.pm line 197.
Not a GLOB reference at /home/k/.cpan/build/Class-MOP-0.37-SpVpcK/blib/lib/Class/MOP/Package.pm line 197.
# Looks like you planned 64 tests but only ran 4.
# Looks like you failed 1 test of 4 run.
# Looks like your test died just after 4.
dubious
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 4-64
        Failed 61/64 tests, 4.69% okay
Failed Test     Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/003_methods.t  255 65280    64  121  4-64

	REPORT sent to P5P.
	
2007-03-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Do you want to build wxWidgets? [yes] y
Which archive type? [tar.gz] tar.gz
Do you want to include OpenGL support [no] n
Creating new 'Build' script for 'Alien-wxWidgets' version '0.28'
MBARBON/Alien-wxWidgets-0.28.tar.gz requires perl '5.6'; you have only 5.009005; giving up

	Looks like a bug in Alien::wxWidgets but somehow I feel guilty. Reported
	via RT.

2007-03-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Jost sent me the test output with TEST_VERBOSE and it was sooo
	frustrating:

PERL_DL_NONLAZY=1 /usr/local/perl-5.8.8/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(1, 'blib/lib', 'blib/arch')" t/30shell.t
t/30shell....1..230
ok 1 - histsize is 100 before testing
ok 2 - Another dummy test
ok 3 - RUN_EXPECT[1]
ok 4 - empty test %h=()
# PRESSING RETURN
# EXPECT: (?s:ReadLine support (enabled|suppressed|available).*?cpan[^>]*>)
# Looks like you planned 230 tests but only ran 4.
# EOF on i[1]prog[]
# expected[(?s:ReadLine support (enabled|suppressed|available).*?cpan[^>]*>)]
# got[]
# 
dubious
	Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 5-230
	Failed 226/230 tests, 1.74% okay
Failed Test Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/30shell.t  255 65280   230  452  5-230
Failed 1/1 test scripts. 226/230 subtests failed.

	I see no way short of incrementall improve diagnostics there and hope
	that the next release shows us more. DONE.


2007-03-11  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: when I ^C a job, then it seems that some "force" is kept around
	for the next command. We must clear all modules, distros and bundles
	from 'force' bits when we let a Signal interrupt us. I'm not actually
	sure this is what happened but I have the impression that it is possible.

	Or maybe we have a different bug. This is the command:

	fforce test DMAKI/DateTime-Calendar-Japanese-0.05.tar.gz

	requires DMAKI/DateTime-Calendar-Japanese-0.05.tar.gz

	This in turn

	  DateTime::Util::Astro::Moon [requires]
    DateTime::Util::Calc [requires]
    DateTime::Util::Astro::Common [requires]
    DateTime::Event::SolarTerm [requires]

	DMAKI/DateTime-Util-Astro-0.08.tar.gz is the first one and it complains
	about Calc missing.

	DMAKI/DateTime-Util-Calc-0.13.tar.gz then complains about nothing, runs
	tests that fail for some reason. So we come back to Astro. This fails
	tests apparently because Calc is missing.

	So then we come to Calc again because it was on the list above. We fail
	the tests again, but I frankly do not understand why they are run at
	all. Normally we do not run a test twice within a single command.

	Then comes Astro again because of DateTime::Util::Astro::Common and
	fails again tests.

	Then we reach the last one on the list, SolarTerm. This again depends on
	Calc, so we build Calc again, fail, test SolarTerm, fail and ***finish***.

	So now my impression is that the setting of $xo->{make} might cause bad
	things to happen because we are not paying attention to the status of
	make/test/install before that, no? No, it's the fforce that make things
	so ugly. Because all parties inherit the fforce, they need to retest so
	often. So probably no bug at all, just ugly.

	CLOSED.
	
	* Bug: 

Recursive dependency detected:
    DMAKI/DateTime-Calendar-Japanese-0.05.tar.gz
 => DateTime::Calendar::Chinese (have: ; requires: 0.02)
 => DMAKI/DateTime-Calendar-Chinese-0.05.tar.gz
 => DateTime::Util::Astro::Moon (have: ; requires: >= 0.04)
 => DMAKI/DateTime-Util-Astro-0.08.tar.gz
 => Math::BigInt (have: 1.77; unknown status)
 => TELS/math/Math-BigInt-1.80.tar.gz
 => bignum (have: 0.17; requires: 0.19)
 => TELS/math/bignum-0.19.tar.gz
 => Math::BigInt (have: 1.77; requires: 1.79).
Cannot resolve.

	All involved parties get the stigma of circular dependency. That seems
	wrong. Only Math::BigInt and bignum should get it.

	OK, I fixed this but now D:Event:SolarTerm, D:U:Calc, D:U:Astro,
	D:Event:Lunar somehow fall into a spiral of unresolvable dependecies and
	are never redeemed from it. No? Maybe I was just impatient.

	FIXED.

	* HTML::CalendarMonth is failing but the error output is really large. I
	just tried to report() it and must check later if the mail actually
	arrived. --- It seems this report never arrives.

	* There was a mail from David Cantrell about a failure on OpenBSD which
	I could not imagine any reason for.

	ANSWERED.

2007-03-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Continue discussing the perlmonks bug with P5P. Only Schwern has
	answered and we need a resolution. Either document as it is at the
	moment or change it and then document it. I tend to the former because
	it is consistent. DONE
	
2007-03-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* David Golden sends me a link to perlmonks
	http://perlmonks.org/?node_id=603402

	It's about 1.8802. This guy does a

	setenv PERL5LIB /home/me/build/perl-addons/inst/usr/local/lib/perl5:/home/me/build/perl-addons/inst/usr/local/lib/perl5/site_perl

	and sets for the './Build install' command?
    Your choice:  [] --destdir /home/me/build/perl-addons/inst

	and for 'make install' command?
    Your choice:  [] DESTDIR=/home/me/build/perl-addons/inst

	When he installs Params::Validate, it indeed gets installed into that
	directory but when he asks 

	! use Params::Validate; print "$Params::Validate::VERSION\n"

	he gets an error

	When he quits the shell and enters it again and repeats the command, it
	is OK.


	Reproducing:

>16:18:39 k@k75:~/sources/CPAN/SVK/trunk% rm -rf ~/.cpan_pm_603402/destdir
>16:18:46 k@k75:~/sources/CPAN/SVK/trunk% PERL5LIB=/home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/bin/perl -I ~/.cpan_pm_603402 -MCPAN::MyConfig -Ilib -MCPAN -eshell
CPAN: Term::ANSIColor loaded ok (v1.11)

cpan shell -- CPAN exploration and modules installation (v1.8879)
ReadLine support enabled

cpan[1]> install Acme::Meta
CPAN: Storable loaded ok (v2.15)
Going to read /home/k/.cpan/Metadata
  Database was generated on Thu, 08 Mar 2007 14:08:52 GMT
Running install for module 'Acme::Meta'
CPAN: YAML::Syck loaded ok (v0.82)
Running make for N/NW/NWCLARK/Acme-Meta-0.02.tar.gz
CPAN: LWP::UserAgent loaded ok (v2.033)
CPAN: URI::URL loaded ok (v5.03)
CPAN: Digest::SHA loaded ok (v5.44)
CPAN: Module::Signature loaded ok (v0.55)
Signature for /home/ftp/pub/CPAN/authors/id/N/NW/NWCLARK/CHECKSUMS ok
CPAN: Compress::Zlib loaded ok (v2.004)
Checksum for /home/ftp/pub/CPAN/authors/id/N/NW/NWCLARK/Acme-Meta-0.02.tar.gz ok
Scanning cache /home/k/.cpan_pm_603402/build for sizes
............................................................................DONE
Acme-Meta-0.02
Acme-Meta-0.02/Meta.pm
Acme-Meta-0.02/MANIFEST
Acme-Meta-0.02/t
Acme-Meta-0.02/Changes
Acme-Meta-0.02/README
Acme-Meta-0.02/Makefile.PL
Acme-Meta-0.02/META.yml
Acme-Meta-0.02/t/1.t
CPAN: File::Temp loaded ok (v0.18)
Package came without SIGNATURE


  CPAN.pm: Going to build N/NW/NWCLARK/Acme-Meta-0.02.tar.gz

Checking if your kit is complete...
Looks good
Writing Makefile for Acme::Meta
cp Meta.pm blib/lib/Acme/Meta.pm
Manifying blib/man3/Acme::Meta.3
  NWCLARK/Acme-Meta-0.02.tar.gz
  /usr/bin/make -- OK
Running make test
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/1....ok                                                                    
All tests successful.
Files=1, Tests=2,  0 wallclock secs ( 0.07 cusr +  0.00 csys =  0.07 CPU)
  NWCLARK/Acme-Meta-0.02.tar.gz
  /usr/bin/make test -- OK
Running make install
Installing /home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/Acme/Meta.pm
Installing /home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/man/man3/Acme::Meta.3
Writing /home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/i686-linux-64int/auto/Acme/Meta/.packlist
Appending installation info to /home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8/i686-linux-64int/perllocal.pod
  NWCLARK/Acme-Meta-0.02.tar.gz
  make install DESTDIR=/home/k/.cpan_pm_603402/destdir -- OK

cpan[2]> m Acme::Meta      
Module id = Acme::Meta
    CPAN_USERID  NWCLARK (Nicholas Clark <nwc10+please+use+perlbug+for+perl+queries@colon.colondot.net>)
    CPAN_VERSION 0.02
    CPAN_FILE    N/NW/NWCLARK/Acme-Meta-0.02.tar.gz
    UPLOAD_DATE  2006-10-01
    MANPAGE      Acme::Meta - Enhances the Meta package
    INST_FILE    (not installed)


cpan[3]> ! use Acme::Meta  
Can't locate Acme/Meta.pm in @INC (@INC contains: /home/k/.cpan_pm_603402 /home/k/sources/CPAN/SVK/trunk/lib /home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8/i686-linux-64int /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8 /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/i686-linux-64int /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8 /home/k/sources/CPAN/SVK/trunk) at (eval 48) line 2.
BEGIN failed--compilation aborted at (eval 48) line 2.

cpan[3]> q
Lockfile removed.
>16:20:19 k@k75:~/sources/CPAN/SVK/trunk% PERL5LIB=/home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl /home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/bin/perl -I ~/.cpan_pm_603402 -MCPAN::MyConfig -Ilib -MCPAN -eshell
CPAN: Term::ANSIColor loaded ok (v1.11)

cpan shell -- CPAN exploration and modules installation (v1.8879)
ReadLine support enabled

cpan[1]> ! use Acme::Meta
cpan[1]> m Acme::Meta    
CPAN: Storable loaded ok (v2.15)
Going to read /home/k/.cpan/Metadata
  Database was generated on Thu, 08 Mar 2007 14:08:52 GMT
CPAN: LWP::UserAgent loaded ok (v2.033)
CPAN: YAML::Syck loaded ok (v0.82)
CPAN: URI::URL loaded ok (v5.03)
Module id = Acme::Meta
    CPAN_USERID  NWCLARK (Nicholas Clark <nwc10+please+use+perlbug+for+perl+queries@colon.colondot.net>)
    CPAN_VERSION 0.02
    CPAN_FILE    N/NW/NWCLARK/Acme-Meta-0.02.tar.gz
    UPLOAD_DATE  2006-10-01
    MANPAGE      Acme::Meta - Enhances the Meta package
    INST_FILE    /home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/Acme/Meta.pm
    INST_VERSION 0.02



	So the bug is real and reproducable with blead. It seems to be about
	@INC expansion. Before I installed Acme::Meta I had this @INC:

cpan[1]> dump @INC
CPAN: Storable loaded ok (v2.15)
Going to read /home/k/.cpan/Metadata
  Database was generated on Thu, 08 Mar 2007 14:08:52 GMT
CPAN: Data::Dumper loaded ok (v2.121_11)
$VAR1 = '/home/k/.cpan_pm_603402';
$VAR2 = '/home/k/sources/CPAN/SVK/trunk/lib';
$VAR3 = '/home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl';
$VAR4 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8/i686-linux-64int';
$VAR5 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8';
$VAR6 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/i686-linux-64int';
$VAR7 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8';
$VAR8 = '/home/k/sources/CPAN/SVK/trunk';

	After I installed Acme::Meta I had this @INC:

cpan[1]> dump @INC         
CPAN: Storable loaded ok (v2.15)
Going to read /home/k/.cpan/Metadata
  Database was generated on Thu, 08 Mar 2007 14:08:52 GMT
CPAN: Data::Dumper loaded ok (v2.121_11)
$VAR1 = '/home/k/.cpan_pm_603402';
$VAR2 = '/home/k/sources/CPAN/SVK/trunk/lib';
$VAR3 = '/home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/i686-linux-64int';
$VAR4 = '/home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8';
$VAR5 = '/home/k/.cpan_pm_603402/destdir/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl';
$VAR6 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8/i686-linux-64int';
$VAR7 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/5.8.8';
$VAR8 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8/i686-linux-64int';
$VAR9 = '/home/src/perl/repoperls/installed-perls/maint-5.8/pZ22fQT/perl-5.8.0@30509/lib/site_perl/5.8.8';
$VAR10 = '/home/k/sources/CPAN/SVK/trunk';


	So apparently I knew too little about @INC population.

	It seems perl 5.8.8 scans the PERL5LIB directories at startup if they
	exist and only populates @INC for directories that either are explicitly
	mentioned or that really exist. The directories .../5.8.8 and
	.../5.8.8/i686-linux-64int are not added as long as they are not
	created.

	And apparently I had always relied that perl solves it for me.

	POSTED analysis to P5P with the subject "Composing @INC from PERL5LIB".
	

	* David Cantrell reports that YAML must be > 0.39 if we want to use it.

	FIXED

2007-03-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Oh Joy of having authors who carefully track the dependencies between
	their packages. bignum currently depends on Math::BigInt 1.79. But
	current version is 1.80. But Math-BigIng-1.80 depends on bignum 0.19. So
	if I have 1.77 I must first install 1.79, then I can install bignum and
	only then I can install BigInt 1.80.

	I'm sure some people will call it a bug that CPAN.pm is not able to
	install the old version 1.79 as a dependency of 1.80.

2007-03-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* blead@30460:

ext/Time/HiRes/t/HiRes......................................FAILED at test 35
[...]
../ext/Time/HiRes/t/HiRes.t: overall time allowed for tests (90s) exceeded!
ok

	* Strange failures with bleadperl @30458:

 ADAMK/Test-ClassAPI-1.03.tar.gz              : make_test NO
 ADAMK/File-Flat-1.00.tar.gz                  : make_test NO
 ADAMK/Test-Inline-2.201.tar.gz               : make_test NO
 RUZ/DBIx-SearchBuilder-1.47.tar.gz           : make_test NO
 JESSE/Class-ReturnValue-0.53.tar.gz          : make_test NO one dependency not OK (Test::Inline)
 ADAMK/Algorithm-Dependency-1.102.tar.gz      : make_test NO one dependency not OK (Test::ClassAPI)

	when I tried all these, they worked fine.

	It seems that ADAMK/Test-ClassAPI-1.03 is depending on Params::Util but
	not declaring it? Yes, that's it. Already reported as
	http://rt.cpan.org/Ticket/Display.html?id=25009

	* 29026 broke Text::Template

t/09-error.........Illegal value `WLUNCH' for TYPE parameter at t/09-error.t line 41
t/09-error.........FAILED test 3
        Failed 1/5 tests, 80.00% okay

	It's a \Q\` matter and shall be treated as a bug in user code, I suppose.

	https://rt.cpan.org/Ticket/Display.html?id=23620 and a new distroprefs
	file. I only looked into RT too late:(

2007-03-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* just sent a report about Exporter::Simple. Debugging shows that it was
	sent with Net::SMTP. Same for XML::Compile. Neither arrived at testers.
	Maybe I had a different smtp host then? I do not remember to ever have
	changed it.

	smtp_server=localhost

	We should try	mx.develooper.com ?

	Tried that with Attribute::Util. Debugging says that it was sending to
	develooper.

	Or maybe I shouldn't have changed my email address?

	Changing back to andreas.koenig.gmwojprw@franz.ak.mind.de and reporting
	about UNIVERSAL::exports.

	YES, this was it. So I need to turn the clock back: I have not reported
	anything for quite a while:(

	* whats missing for this release?

	cpan -r bug report      # mail to brian is on the way

	Jost's sun-solaris test # no idea what to do

	can we have RT          # Bundle::RT is in

	and Tcl in megainstall  # DONE

	* my internet access is broken at the moment. When it is back I need to
	answer two posts by Eric Wilhelm.

	* possible bug: when a distroprefs file has "match" but no valid keyword
	under match/, then it seems that it matches always instead of being
	rejected as invalid. We must make the one of the match subthingies
	mandatory. Need to study
	http://www.kuwata-lab.com/kwalify/users-guide.01.html for that when my
	internet is back.

	FIXED in svk rev. 2002 or so.

2007-03-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* New FAILS from testers: Jost on Sun sees only 4 OKs in 30shell on
	solaris and a dubious. Slaven saw one test in 31sessions failing.

	The Slaven thing can be averted by taking out a piece of the "Expected"
	regexp. DONE

	For the failure on sun I need a different strategy. Something that gives
	more feedback.

t/30shell..........dubious
	Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 5-230
	Failed 226/230 tests, 1.74% okay

2007-03-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* XML::Simple failed a test today. When I came and tested it again, it
	succeeded. Fortunately the tests spit out helpful diagnostics. Looks
	like XML::SAX must be installed? No, this seems not the problem. So
	maybe a intermittant failure.

t/3_Storable......
no element found at line 1, column 0, byte 0 at /home/src/perl/repoperls/installed-perls/perl/pvDPEkV/perl-5.8.0@30435/lib/site_perl/5.9.5/i686-linux-64int/XML/Parser.pm line 187
# Looks like you planned 23 tests but only ran 13.
# Looks like your test died just after 13.
dubious
	Test returned status 255 (wstat 65280, 0xff00)

2007-02-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Tcl needs some attention to compile? NO

2007-02-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* supposedly a bug: Slaven found both cpanconfig and cpan_config FIXED

	* todo: document match/perlconfig DONE

2007-02-24  Andreas Koenig  <k@andreas-koenigs-computer.local>

	* jochen stenzel asked me for a comparison of CPAN::Site and dot
	distributions or better said, a summary about the options we have today
	to support modules besides CPAN itself.

	My current favorite is to have all distros that are not on CPAN in a
	repository, check the repository out on the local disk, ideally always
	in the same path/location. Then write a Bundle file that contains all
	"root" directories of these non-distros and install the Bundle. (Note to
	self: need to write detailed instructions how to do all that). The
	advantage of this is that nobody needs to make releases, all code is
	checked out at any point in time and is current. If one needs to make
	sure that the software is in a stable state, this can be achieved with
	the options provided by the revision control software. The disadvantage
	of this method is that CPAN.pm knows nothing about the state of the
	distros, it just installs them and does not keep a record that it did so
	and cannot determine if there is a newer version. If you install the
	Bundle again immediately after you have installed, it just starts from
	the beginning again (rinse, repeat).

	I must try if 'cpan .' also works for a Bundle. I do not think it does.

	Then I must study how CPAN::Site works nowadays. The problem with that
	always was that it required manual work on the side of the maintainer of
	the additional repository.

	Of course, the ideal solution would be if CPAN.pm could just "subscribe"
	to any number of parallel Universes and then mix them with some
	algorithm (first wins; manual conflict resolution; etc.). Still, this
	would require skills on the side of the archive maintainers or muchly
	improved tools for them.

	pip by Adam Kennedy tries to solve the problem (I think) by injecting
	distros/tarballs into the author "LOCAL" directory. Simple quick
	solution but no integration into an index at all, so the same
	disadvantage as the dot distros (rinse,repeat) but with the additional
	(of course very minor) disadvantage that somebody must make releases,
	tar them together and then CPAN.pm has to unroll them again.

2007-02-20  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* scripts installation broken. Tried it with pingomatic and keepcool. FIXED

	* when was notest introduced? In 1.80, December 2005. New features by
	Slaven this year are: 'cpan .', scripts, 'perl -I. -MCPAN' now works.

	* consider different sorting of directory listings. suggested by Slaven.
	REJECT

2007-02-19  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Chris has tested _76: twice OK, once NOT on 31sessions/28th test.

	* Chris has tested _75 and I can see that his shell says the unexpected

	'Unknown shell command \'yes\'. Type ? for help.
'
	But the "yes" gets eaten earlier too

	Would you like me to configure as much as possible automatically? [yes] yes

	How can it happen that the yes is both consumed and still left over on
	the input?

	Now I have it! He must have set PERL_MM_USE_DEFAULT!!!!!!!!!

2007-02-18  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* I'm quite helpless with the 5 reports from chris.

	Apparently the output is from the command N-1 while the shell believes
	to test the command N.

	So the reason could be that the shell asks one more question to chris
	than to me.

	I have tried

	cpanplus with bleadperl on k75
	cpanplus with 5.8.8 on k75
	cpan with 5.8.6 on k78
	cpan with 5.8.8 on dev05
	cpan with 5.8.8 on playground
	cpan 1.7601 with 5.8.7 on k66

	Ahh, the last one has lots of errors. But not the one that chris has.

	* last night Convert::PEM with 30342 went into an endless loop and
	filled the disk. Convert-PEM-0.07-Dlxs3I/ is left over, I had to remove
	the logfile but let's try if report can reconstruct. Of course not,
	because the yml file could not be written. Report starts in a new
	directory and succeeds within seconds. Visiting the left over directory
	from the nightly run also brings no evidence: tests run OK within
	seconds. Oh well.

2007-02-17  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* testers has 5 nearly identical FAILS results on 1.88_74, all made with
	CPANPLUS 0.076, all from chris. The failure goes like this:

#   Failed test 'command[test CPAN::Test::Dummy::Perl5::Make]'
#   at t/31sessions.t line 170.
#                   '    patch              [ ]
# Please use 'o conf commit' to make the config permanent!
# 
# '
#     doesn't match '/t/00_load.+ok/'


	and I cannot imagine how this can happen.

	So I find myself using CPANPLUS for the very first time since ages.

	I type 'f Verilog::Languange' and CPANPLUS does not seem to answer ever.
	Oh well, after about two minutes it says

    1 Verilog-Perl                                       2.361    WSNYDER   
    2 Verilog-Perl                                       2.371    WSNYDER   

	Cool feature.

	I do the same for CPAN and they answer

    1 CPAN                                               1.87     ANDK
    2 CPAN                                               1.8869   ANDK
    3 CPAN                                               1.8866   ANDK
    4 CPAN                                               1.8872   ANDK
    5 CPAN                                               1.8867   ANDK
    6 CPAN                                               1.8864   ANDK
    7 CPAN                                               1.8871   ANDK
    8 CPAN                                               1.88     ANDK
    9 CPAN                                               1.8865   ANDK
   10 CPAN                                               1.8873   ANDK
   11 CPAN                                               1.8874   ANDK
   12 CPAN                                               1.8868   ANDK
   13 CPAN                                               1.8801   ANDK
   14 CPAN                                               1.8802   ANDK

	What a strange sorting! And where are the underscores? And when I say 'i
	11' they say

Installing CPAN
*** Install log written to:
  /home/k/.cpanplus/install-logs/CPAN-1171719784.log

Module 'CPAN' installed successfully
No errors installing all modules

	This action took less than a second and I must open that logfile to find
	out that CPAN is already up to date (without version information). And
	above that I do have 1.8873 installed, not 1.8874 so why they do not
	install 1.8874 is not clear.

	But I can test 1.8874 ok and now I have again no idea why the 5 FAILS on
	testers.
	
	* Macbook compiles bleadperl@30032 with a horrible amount of test failures

Failed Test                               Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
../ext/Encode/t/Aliases.t                    2   512    ??   ??  ??
../ext/Encode/t/CJKT.t                     255 65280    60  120  1-60
../ext/Encode/t/Encode.t                     2   512    ??   ??  ??
../ext/Encode/t/Encoder.t                  255 65280   516 1032  1-516
../ext/Encode/t/Unicode.t                  255 65280    37   74  1-37
../ext/Encode/t/at-cn.t                    255 65280    29   58  1-29
../ext/Encode/t/at-tw.t                    255 65280    17   34  1-17
../ext/Encode/t/enc_data.t                   2   512    ??   ??  ??
../ext/Encode/t/enc_eucjp.t                  2   512    ??   ??  ??
../ext/Encode/t/enc_module.t                 2   512    ??   ??  ??
../ext/Encode/t/enc_utf8.t                   2   512    ??   ??  ??
../ext/Encode/t/encoding.t                   2   512    ??   ??  ??
../ext/Encode/t/fallback.t                 255 65280    44   88  1-44
../ext/Encode/t/from_to.t                  255 65280     3    6  1-3
../ext/Encode/t/grow.t                       2   512    ??   ??  ??
../ext/Encode/t/gsm0338.t                  255 65280    21   42  1-21
../ext/Encode/t/guess.t                      2   512    ??   ??  ??
../ext/Encode/t/jperl.t                    255 65280    15   30  1-15
../ext/Encode/t/mime-header.t              255 65280    11   21  1-11
../ext/Encode/t/mime_header_iso2022jp.t    255 65280    14   28  1-14
../ext/Encode/t/perlio.t                   255 65280    38   76  1-38
../ext/Encode/t/utf8strict.t                 2   512    ??   ??  ??
../ext/Hash/Util/FieldHash/t/01_load.t     255 65280     8   12  1-2 4-8
../ext/Hash/Util/FieldHash/t/02_function.  255 65280    ??   ??  ??
../ext/Hash/Util/FieldHash/t/03_class.t    255 65280     7   14  1-7
../ext/Hash/Util/FieldHash/t/04_thread.t   255 65280    ??   ??  ??
../ext/Hash/Util/FieldHash/t/05_perlhook.  255 65280    ??   ??  ??
../ext/Hash/Util/FieldHash/t/10_hash.t     255 65280    ??   ??  ??
../ext/Hash/Util/FieldHash/t/11_hashassig  255 65280    ??   ??  ??
../ext/Hash/Util/FieldHash/t/12_hashwarn.  255 65280    ??   ??  ??
../ext/Hash/Util/t/Util.t                  255 65280   227  430  1-227
../ext/PerlIO/encoding/t/nolooping.t       255 65280     1    2  1
../ext/Storable/t/downgrade.t              255 65280   169  325  7-169
../ext/Storable/t/restrict.t                 2   512    ??   ??  ??
../ext/Sys/Syslog/t/syslog.t                 4  1024   159    4  129-132
../lib/Pod/Simple/t/corpustest.t                        43   15  3 5 7 9 11 17
                                                                 19 21 23 25 28
                                                                 36 38 40 42
../lib/base/t/fields-base.t                255 65280    29   20  20-29
../lib/base/t/fields.t                     255 65280    16   22  6-16
../lib/encoding/warnings/t/4-lexical.t                   3    1  2
comp/utf.t                                   2   512    15   30  1-15
io/layers.t                                             37   13  6 9-11 13 21
                                                                 23-24 33-37
run/fresh_perl.t                                        94    1  94
uni/chomp.t                                  2   512    ??   ??  ??
uni/chr.t                                  255 65280     6   12  1-6
uni/greek.t                                  2   512    ??   ??  ??
uni/latin2.t                                 2   512    ??   ??  ??
uni/tr_7jis.t                              255 65280     6   12  1-6
uni/tr_eucjp.t                             255 65280     6   12  1-6
uni/tr_sjis.t                              255 65280     6   12  1-6
uni/tr_utf8.t                              255 65280     8   16  1-8
79 tests and 530 subtests skipped.
Failed 50/1366 test scripts. 1312/172604 subtests failed.
Files=1366, Tests=172604, 647 wallclock secs (357.74 cusr + 65.52 csys = 423.26 
CPU)
Failed 50/1366 test programs. 1312/172604 subtests failed.


	* Todo: mark hosts command and dot directories as alpha code in the
	documentation.

	* Bug: Watch the upload date between the two runs of 'm'

cpan[4]> m Verilog::Language
Module id = Verilog::Language
    DESCRIPTION  Language support, number parsing, etc
    CPAN_USERID  WSNYDER (Wilson Snyder <wsnyder@wsnyder.org>)
    CPAN_VERSION 2.371
    CPAN_FILE    W/WS/WSNYDER/Verilog-Perl-2.371.tar.gz
    DSLIP_STATUS Rdpfp (released,developer,perl,functions,Standard-Perl)
    INST_FILE    (not installed)

cpan[5]> m Verilog::Language
Module id = Verilog::Language
    DESCRIPTION  Language support, number parsing, etc
    CPAN_USERID  WSNYDER (Wilson Snyder <wsnyder@wsnyder.org>)
    CPAN_VERSION 2.371
    CPAN_FILE    W/WS/WSNYDER/Verilog-Perl-2.371.tar.gz
    UPLOAD_DATE  2007-01-23
    DSLIP_STATUS Rdpfp (released,developer,perl,functions,Standard-Perl)
    INST_FILE    (not installed)

	1.8802 does not seem to have this bug. Ah, but I cannot reproduce it now
	with 1.88_74 either, so it's not always there. Turning off
	cache_metadata does not bring it back.

	I must keep an eye on this but it is no showstopper.

	* Verilog-Perl a.k.a. Verilog::Language broke on patch 30044. The
	failure mode is that the modules themselves compile fine but the output
	of the compiled program 'vppp' differs from the expected one.

	    UPLOAD_DATE  2007-01-23

	Suspiciously young and the patch 30044 appeared on 27th.

   91807 2006-10-02 WSNYDER/Verilog-Perl-2.361.tar.gz
   93591 2007-01-23 WSNYDER/Verilog-Perl-2.371.tar.gz

	I repeat the binary search with nailed down version demand on
	Verilog::Language 2.371 to make sure that the first run was not trapped
	into a difference between the two versions. ... No, it's not a version
	trap.

	So I made my own 30333 where the sense of the ifdef is turned around to
	say the opposite. It seems to me this is the way it was intended. But no
	success. Even backing out 30044 does not help.

	Now I removed the whole installed 30333, reinstalled it with the backed
	out 30044 patch. (recompiled but not recompiled from scratch). As my
	first module I try Verilog and it fails.

	Now I recompile from scratch. 'make clobber' and start with ./Configure.
	30044 is backed out. No, Verilog remains broken.

	This is impossible. Let me see 30043 again. Yes, it passes all tests.

	And when I now patch perl.h with 30044 straight forward and compile perl
	again and install it and then fforce test Verilog::Language? Then it too
	passes all tests!

	Does ./installperl not overwrite perl.h??? It does overwrite it.

	CCACHE to blame? No, CCACHE_DISABLE makes no difference.

	Something within Verilog must be broken too. It's a preprocessor. It may
	parse header files and draw conclusions.

	Let me repeat:

	30043: ok
	30044: not ok
	30333: not ok

	Apply diff 43:44 to 30043: still ok
	apply diff 44:43 to 30333: still not ok

	So *something* between perl and Verilog does not notice the perl.h
	change and remains in the state it had on the very first compile. Maybe
	this something even survives make clobber.

	"regen" or some such?

	apply diff 44:43 to 30333 and regen: still not ok

	Remove the old 30044 and build one with buildaperl from scratch, no
	extra patching:

	30044: ok

	!!!!! something must have gone wrong when building 30044 the first time,
	so the binary search went wrong too and I was hunting the wrong diff for
	many hours.

	Maybe there is still a race condition in binsearchaperl?

	Remember: if a binary search brings a result that raises doubts, remove
	both perls from installed-perls and their build directory as well and
	rerun the binary search.

	This is even true if there is NO race condition within binsearchaperl.
	It's always possible that some third party installed something that
	disturbs the binary search, like say Carp.pm

	So I start the next binsearch since 30044 now is OK and it diagnoses
	3006{4,7} as the threshold and I decide immediately to remove 30067 to
	run the next binsearch. And it jumped only forward and decided now it
	would be between 3007[26]. It's very clear now that it is not bleadperl
	but some other module that is used by vppp.

	LATER. I must delay further analysis because this can take a long time.


2007-02-16  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Talk: convert a megainstall file to HTML with <pre> and <span
	class="XXX"> and many anchors so that we can jump directly into it. Then
	make HTML slides that jump into that file and into the distroprefs files
	which may need converting too for best lettersize.

	Interestingly, when I do this, rendering of the resulting HTML file is
	too much work for my firefox on linux/Dell/500 MHz. The MacBook is
	several orders of magnitude faster but still a bit painful.

	* in the talk, compare dot distros with pip and Inject.

	* read CPAN::Inject and CPAN::Mini::Inject manpages

	straightforward and modest. No index support, so only distribution
	support.

	* read pip manpage:

	Wow: http://svn.phase-n.com/svn/cpan/trunk/pip invitation to write
	directly to it. But nobody gives me the clue howto follow this
	invitation. It *is* subversion. Ah, two levels higher we have the
	paragraph

	    To access the repositories above via Subversion, browse to the
	    location in the repository you want via your web browser and then
	    use that URL with your favorite Subversion client tool. You may
	    asked to enter your username and password for access to any
	    restricted repositories.

	Indeed, I can do

	    % svn co http://svn.phase-n.com/svn/cpan/trunk/pip/ ./

	and when I want to check in, it asks me for username and password. But
	it speaks only http, so no way to use that seriously. No contact address
	on that page either except for a link to the Michael.Sinz homepage.

	Typos: "is available is", "guarentee"

	Missing example of a p5i file in the manpage.

	Ahh, now I understand how it works. Authentication does not go via pause
	(I watched the logfile while logging in with wrong password) but every
	author must get a password from adam directly. So that's OK. It's just
	misleading to say

	    Write access to the repository is made available automatically to
	    any published CPAN author, and to most other volunteers on request.
	
2007-02-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* I'm guilty to not have mentioned Devel::Size when we were talking
	about releasing 5.10. It's gone broke when? 29544: Eliminate PVBM

	We need something like this which is from a patch by Nicholas for
	Clone.xs:

+#if PERL_VERSION <= 8
       case SVt_PVBM:   /* 8 */
+#endif

	FIXED in http://rt.cpan.org/Ticket/Display.html?id=24982 and distroprefs.

	* I just discovered that CPAN::Reporter does not work with 5.8.0 because
	IO::CaptureOutput does not either.

2007-02-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* My tests usually are run with perls that are pretty well equipped with
	modules. I should always test with a minimum perl installation. We need
	to provide one. Let's nominate a funny number. 30123.

	31sessions test succeeds with this.

	BUT if I remove Archive::Tar and Compress::Zlib, then it fails. Wonderful.

	FIXED around SVK rev. 1913

	* Today with 30254 I observed HTML::Mason test failure, but only once:

t/10-cache....................
#   Failed test 'cache_self_expire_in'
#   at /home/k/.cpan/build/HTML-Mason-1.35-ecRYhh/blib/lib/HTML/Mason/Tests.pm line 593.
# Looks like you failed 1 test of 20.
dubious
	Test returned status 1 (wstat 256, 0x100)
DIED. FAILED test 6
	Failed 1/20 tests, 95.00% okay

	When I started a binary search this same perl succeeded with all tests.
	Go figure.

	* From Adam K:

 > Ahhh, yes...'reload index' was the key for me.  Unfortunately, I had a
> very stale mirror (ibiblio.org) as my first site.  I then repopulated
> my cpan site list based on info from http://www.cs.uu.nl/people/henkp/
> mirmon/cpan.html and thought my index would get updated automatically.

Andreas

This is the issue I was talking about before, with regards to mirror
changes.

We should probably always flush non-archival files when the mirror changes.

	FIXED in SVK rev. 1903

	* Bug: Template-Plugin-Number-Format-1.01 declares prerequisite
	Number::Format with version undef (real undef, not the String undef) and
	it does not get installed before the tests happen. I need a random perl
	that has neither T:P:N:F nor Template nor N:F.

for p in `binsearchaperl --show-cache --bounds 30000-99999 --apcdir /home/src/perl/repoperls/APC --prefix /home/src/perl/repoperls/installed-perls` ; do
  $p -e 'for my $p (qw(Template::Plugin::Number::Format Number::Format Template)){
    eval qq{require $p};
    print $@ ? "-" : "+";
  }
  print $^X, "\n"'
done

	Gives 30192.

	FIXED in SVK rev. 1902

2007-02-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

2007-02-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Unicode/Map.pm, Spreadsheet/WriteExcel.pm, Jcode.pm are all undeclared
	prereqs of Spreadsheet ParseExcel and prevent binary search. RT is down.
	RT is up again and I added this observation to
	http://rt.cpan.org/Ticket/Display.html?id=24693

	* Bug in APC: the tempdirs that end up in the chache are mode 0700
	instead of 0755. Fixed in APC revision 230

	* Bug in patchaperlup:

Not in MANIFEST: wince/README.perlce.withCR
Not in MANIFEST: wince/registry.bat.withCR
ALERT: Going to remove apparent testfile(s): lib/Text/Balanced/t/00.load.t lib/Text/Balanced/t/pod-coverage.t
Maybe this MANIFEST is broken?
Proceed? (y|n) [y] 

	Fixed in APC revision 229

2007-02-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Look after TT 2.17 [...] Not needed, Andy has released 2.18 today YAY!

2007-02-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* CPAN::Inject fails with 5.8.9-tobe. I tend to believe this happens
	because 5.8.9 has 1.7602 and C:I needs 1.87. Now what is intimidating is
	that when I run under 1.88_73, then CPAN.pm refuses to install CPAN
	saying that it is up to date. While the installed CPAN.pm is outdated,
	the used CPAN.pm is really uptodate. Aha! force install at its best.

	* Feature request by self: The bad performance of YAML.pm seems to be a
	showstopper. YAML.pm needs to be banned or disabling of YAML operations
	should be possible, don't know exactly how.

	* ----Program----
eval q{use DBIx::Class 0.07005};
print $@ ? "N/A" : "OK";
print "\n";

----Output of .../pBEyrHy/perl-5.8.0@29025/bin/perl----
OK

----EOF ($?='0')----
----Output of .../pgLprwz/perl-5.8.0@29026/bin/perl----
N/A

----EOF ($?='0')----

	t/76joins.......................NOK 6/53
#   Failed test 'join 6 (HASH reference for ON statement dies) ok'
#   at t/76joins.t line 110.
#                   'HASH reference arguments are not supported in JOINS - try using "..." instead' at t/76joins.t line 109
# '
#     doesn't match '(?-xism:^HASH\ reference\ arguments\ are\ not\ supported\ in\ JOINS\ \-\ try\ using\ \\\"\.\.\.\"\ instead)'
t/76joins.......................ok 29/53# Looks like you failed 1 test of 53.  
t/76joins.......................dubious
        Test returned status 1 (wstat 256, 0x100)
DIED. FAILED test 6
        Failed 1/53 tests, 98.11% okay


	https://rt.cpan.org/Ticket/Display.html?id=24349

	Binary search points to 29026.


2007-02-07  Andreas J Koenig  <akoenig@iconmobile.com>

	* Feature request by self (again?): when dieing due to recursion
	detection, please list the demanded version number behind each module
	name. Adjust the test in 30shell.t. DONE

2007-02-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug in patchaperlup: the 5.8.0/ directory is breaking concurrency.
	When a process untars a perl before the other one has moved to the
	File::Temp directory, it seems to overwrite something. Binary searches
	and the normal megainstall loop must not run at the same time!

	Fixed in APC revision 231

2007-02-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: I have a tar ball of an already installed bleadperl@28095 with a
	certain mix of outdated modules. When I run upgrade with that perl on
	dev05, then it runs into:

  JPEACOCK/version-0.69.tar.gz
  ./Build test -- NOT OK
Warning (usually harmless): 'YAML' not installed, will not store persistent state
Running Build install
  make test had returned bad status, won't install without force

Recursive dependency detected:
    Archive::Tar
 => K/KA/KANE/Archive-Tar-1.30.tar.gz
 => File::Spec
 => K/KW/KWILLIAMS/PathTools-3.24.tar.gz
 => Module::Build
 => K/KW/KWILLIAMS/Module-Build-0.2806.tar.gz
 => File::Spec.
Cannot continue.
Failed during this command:
 RKOBES/ExtUtils-Command-1.13.tar.gz          : make_test NO Test::Harness too old
 RKOBES/ExtUtils-Manifest-1.51.tar.gz         : make_test NO Test::Harness too old
 KWILLIAMS/ExtUtils-ParseXS-2.18.tar.gz       : make_test NO Test::Harness too old
 KWILLIAMS/PathTools-3.24.tar.gz              : make_test NO Test::Harness too old
 KWILLIAMS/Module-Build-0.2806.tar.gz         : make_test NO Test::Harness too old
 JPEACOCK/version-0.69.tar.gz                 : make_test NO

	As so often, we are missing the required version numbers in the
	dependency graph, so I must ask CPAN.pm manually.

    Archive::Tar
 => K/KA/KANE/Archive-Tar-1.30.tar.gz
 => File::Spec                                        # 0.82 but 3.18 is installed
 => K/KW/KWILLIAMS/PathTools-3.24.tar.gz
 => Module::Build
 => K/KW/KWILLIAMS/Module-Build-0.2806.tar.gz
 => File::Spec.

	Aha. This demonstrates that the recursive dependency detector calculates
	wrong. It does not seem to take into account the minimum required
	version number. Maybe this is all due to the Test::Harness anomaly?

	Can I shorten the path? Trying on k75. If I only ask for 'install
	Archive::Tar', what happens? It gets installed. Same for File::Spec.
	Same for Module::Build. Grrr. And when I say 'upgrade', then it does
	indeed upgrade? Because Expect is not installed we must answer the
	libnet question after a while (which surprises me because it is in
	DD_PREFS) and shortly after that we are facing the same output as
	described above.

	Can this situation then be reproduced after leaving CPAN.pm? Or do we
	have to start from the beginning? 'install version' just fails due to
	'qv.al' and such. The upgrade command now does not reproduce the above
	situation.

	Seems to be FIXED in SVK rev. 1865 or so. There was (1) a variable
	confusion: s/depth/color/ around line 8802 and (2) the need to pull the
	desired version number out again within color_cmp_tmps and to compare
	with what we have available at the moment. (3) we needed a way to
	withdraw quickly when we only set all commandcolors to 0. Not sure if we
	couldn't withdraw much quicker though: isn't recursion detection after
	the command has finished completely bogus? No, it is necessary because
	if we run into recursion it is no fun and we must break it.

	BTW, it's incredible how long it takes to upgrade 28095: more than 30
	minutes.

2007-02-05  Andreas J Koenig  <akoenig@iconmobile.com>

	* Important things I forgot in the talk paper (minus means already written):

	-degraded mode
	-add distribution name to every OK/NOT OK; also inspired by Ilya.
	-mention 'cpan .', compare with pip and Inject stuff
	-mention yaml_module and YAML::Syck earlier
	-build_requires_install_policy
	-scripts installation
	Devel::Cover statistics??? -- not really interesting
	eexpect example -- no, no good example found
	- force/fforce
	- auto_commit
	-	maybe mention Kwalify in the distroprefs section
	- Randy status report
	- patch/applypatch support with example
	- goto example
	- commandline example -- no, too intimidating

	Screenshot of the hosts command

cpan[1]> hosts
CPAN: YAML loaded ok (v0.62)
Log starts: Thu Jan  4 16:26:35 2007
Log ends  : Fri Feb  2 17:14:48 2007

Successful downloads:
   N       kB  secs      kB/s url
   1      504     1     360.3 ftp://ftp.kulnet.kuleuven.ac.be/pub/mirror/CPAN/
   1      501     1     254.7 ftp://ftp.rediris.es/mirror/CPAN/
   2      898     3     252.3 ftp://dl.iskon.hr/pub/CPAN/
   1      125     0     226.4 http://cpan.serveroffice.at/
   2      164     0     218.5 http://cpan.interprovide.de/
   1      501     2     182.8 ftp://cpan.mirrors.skynet.be/pub/CPAN/
   2       72     0     175.1 http://www.planet-elektronik.de/CPAN/
   1      218     1     167.4 ftp://cpan.provocation.net/
   2      309     2     130.9 ftp://ftp.cs.uu.nl/mirror/CPAN/
   1      126     1     119.0 http://cpan.blic.net/
   4      201     1     111.8 http://cpan.org.ua/
   2       43     0     105.6 http://www.chemmedia.de/mirrors/CPAN/
   1      121     1     104.0 ftp://cpan.mirrors.easynet.fr/pub/ftp.cpan.org/
   2      133     1      99.0 http://cpan.univ-paris.com/
   5      555     8      69.3 ftp://ftp.litnet.lt/pub/CPAN/
   2      203     3      59.3 ftp://ftp.flirble.org/pub/CPAN/
   1       88     1      58.6 ftp://ftp.cpan.nl/pub/CPAN/
   2       56     1      56.2 ftp://ftp.cs.tu-berlin.de/pub/lang/perl/CPAN/
   1       34     0      56.0 http://cpan.panu.it/
   1      125     2      55.9 ftp://no-more.kiev.ua/pub/CPAN/

Unsuccessful downloads:
   2 http://cpan.univ-paris.com/
   2 http://www.chemmedia.de/mirrors/CPAN/
   2 http://cpan.interprovide.de/
   2 ftp://ftp.uit.no/pub/languages/perl/cpan/
   2 ftp://gnu.kookel.org/ftp/CPAN/
   2 ftp://ftp.telepac.pt/pub/cpan/
   2 http://cpan.mirror.rokscom.nl/
   2 ftp://ftp.du.se/pub/CPAN/
   1 http://kvin.lv/pub/CPAN/
   1 http://cpan.enstimac.fr/
   1 http://cpan.org.ua/
   1 http://cpan.panu.it/


2007-02-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Got another mail from T. Need to close the issue. Better a WONTFIX
	than scenes like those we had on P5P at the end of the 90ies.

2007-02-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Feature request by self: introduce a lex TELS that ignores a failing
	Makefile.PL, declares the META.yml as authoritative (for lack of
	alternatives), and reruns the Makefile.PL; we should count how often we
	reran it and give it a final death shot after the second time.

	This solution should fit together with a refined model of the toolchain
	as recently pointed out by Adam Kennedy who said:

1. Configure Dependency
2. Build Dependency
3. Test Dependency
4. Install Dependency
5. Run-Time Dependency

For the current CPAN case, we can consider "requires" to cover
Run-Time Dependency, and "build_requires" to cover all other 4.

Since the Configure Dependency is required to be installed before
configuring, that means that we have to do build_requires before
running our configure script.

	And Schwern recently also said something in this direction.... Where did
	he post something? On P5P:

From: Michael G Schwern <schwern@gmail.com>
Subject: Re: $VERSION string of ExtUtils::MM_Unix
To: John Peacock <jpeacock@rowman.com>
CC: schwern@pobox.com, perl5-porters@perl.org, rgarciasuarez@gmail.com
Date: Sun, 14 Jan 2007 22:46:35 -0800
Reply-To: schwern@pobox.com

John Peacock wrote:
>> I'd say to send the patch, but I don't see the utility when C<$VERSION =
>> '1.23_01'; \n $VERSION = eval $VERSION> works fine and is a lot simpler to
>> maintain.  I remain open to convincing.
> 
> But Damian suggested C<use version; $VERSION = qv('1.2.3');>, which EU::MM isn't
> completely prepared to deal with.  Now that PAUSE has a way to reset the latest
> release, module authors can switch from numeric to extended versions (SVK just
> did that with v2.0.0).  Can EU::MM handle comparing those without version.pm around?

Ah ha, that's a horse of a different color.  This, I presume, is the VERSION_FROM problem?  Distribution Foo's Makefile.PL says "VERSION_FROM => 'lib/Foo.pm'" which says C<use version; our $VERSION = qv'1.2.3';>.  Even if Foo depends on version.pm the CPAN shells try to run the Makefile.PL before it resolves dependencies (something I'd like to change).

Ok, that's convincing.  Send it on.



	Even though I believe this is too complex to be solved in a one day
	timeframe, I'm tempted.

	* How come that I did get the impression that PREREQ_FATAL=0 fixes all
	the TELS distros that set PREREQ_FATAL to 1? Just tried with blead@30104
	and it does not help. At least not with TELS/math/bignum-0.18.tar.gz.

	So maybe I tried them out in the "right" order? Yes, this must have been
	the case. The "right" order seems to be: Math::BigInt, Math::BigRat.

	This means that we discovered a bug in MakeMaker (a
	non-commandline-overrideable parameter) and we need 4 patches for TELS.

	This is about the MakeMaker bug: http://rt.cpan.org/Ticket/Display.html?id=24774

	I'll first ask Tels himself before I go this route. [time passes] As
	expected, Tels is not ready to remove PREREQ_FATAL from his modules.

	* TELS has given all new Math modules the PREREQ_FATAL parameter. Trying
	now to counteract with PREREQ_FATAL=0. Yes, the commandline wins, so
	this gives a new distropref file. Update 2007-02-04: I was wrong.

	But with three big* packages upgraded DateTime::Util::Astro::Sun still fails.

	So when did Astro install successfully for the last time?

	for p in `~k/sources/Perl-Repository-APC/SVN/scripts/binsearchaperl --show-cache` ; do $p -e 'print $^X, $"'; $p tests/has-DateTime-Util-Astro.pl ; done | tee show-astro.out

	ergibt als letztes:
	
	/home/src/perl/repoperls/installed-perls/perl/pGoZsz3/perl-5.8.0@30044/bin/perl 0.040

	and this was:

	-rwxr-xr-x 2 k k 3850309 Jan 28 03:48 /home/src/perl/repoperls/installed-perls/perl/pGoZsz3/perl-5.8.0@30044/bin/perl*

	Running CPAN.pm with 30044:

	cpan[2]> r /big/

Package namespace         installed    latest  in CPAN file
Math::BigFloat                 1.51      1.53  TELS/math/Math-BigInt-1.79.tar.gz
Math::BigInt::FastCalc      0.10_01      0.11  TELS/math/Math-BigInt-FastCalc-0.11.tar.gz
Math::BigInt::GMP              1.18      1.19  TELS/math/Math-BigInt-GMP-1.19.tar.gz
Math::BigRat                   0.15      0.16  TELS/math/Math-BigRat-0.16.tar.gz
bigint                         0.07      0.08  TELS/math/bignum-0.18.tar.gz

cpan[4]> ls TELS/math/*
  172453 2007-01-28 TELS/math/Math-BigInt-1.78.tar.gz
  172135 2007-02-02 TELS/math/Math-BigInt-1.79.tar.gz
   41007 2007-02-02 TELS/math/Math-BigInt-FastCalc-0.11.tar.gz
   37602 2007-01-28 TELS/math/Math-BigInt-GMP-1.19.tar.gz
   34907 2007-01-28 TELS/math/Math-BigRat-0.16.tar.gz
   15933 2007-01-28 TELS/math/bignum-0.18.tar.gz

	I could prove for both bleadperl@30044 and maintperl@29832 that the
	failure is caused by an upgrade to Math-BigInt-1.79. Report written to
	Tels and DMAKI.

	SUMMARIZED at http://rt.cpan.org/Ticket/Display.html?id=24779

2007-02-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Tels has quickly released three more distros but
	DateTime::Util::Astro::Sun still fails. No time to investigate.

	* Yves has posted a patch that should fix the XML::Twig failures but the
	pumpkin has not yet reacted. Update 2007-02-04: Steve Peters has
	integrated it, problem solved. YAY!

	* what's the problem with Math::BigInt?

	bleadperl has 1.77, TELS has released 1.78. Running the tests for 1.78
	produces lots of warnings. DateTime::Util::Astro::Sun produces lots of
	failures with it but also when I downgrade to 1.77. Giving up for now.

2007-02-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Summary of the facts, also posted to Ken:

(1) perl is bleadperl @30080 (verified again with 30087)
(2) Module::Build is 0.2806
(3) distro is DMAKI/DateTime-Util-Calc-0.11.tar.gz
(4) Math::BigInt::GMP and Math::Pari must NOT be installed, so that y_n() is triggered
(5) I call 'perl Build.PL > /tmp/ttt' and it hangs forever and /tmp/ttt remains empty

	Continuing with experiments.

	Downgrading Module::Build to 0.2805 and the bug stays.
	Downgrading Module::Build to 0.2804 and the bug stays.
	Downgrading Module::Build to 0.2610 and the bug goes away.
	0.2801 not ok
	0.2612 ok
	0.27_09 ok
	0.27_10 ok
	0.28 not ok

	Studying the diff between 27_10 and 28:

+                  repository => 'http://svn.perl.org/modules/Module-Build/'

	Taking note of the repository for refined binary search. But watch out:

	trunk/tags/branches!

-0.27_11  Tue Mar 28 22:50:50 CST 2006
+0.28  Thu Apr 27 22:25:00 CDT 2006

	Where is 27_11?

	5978 is a test, 5977 talks about prompt and y_n, 5871...

	0.28     was 5994
	0.27_10  was 5850

	5870 died on that Build.PL
	5871 works correctly
	5976 works wrong
	5931 works wrong
	5919 works wrong
	5904 works correctly

	The diff between the two is interesting:

+sub _is_unattended {
+  my $self = shift;
+  return $ENV{PERL_MM_USE_DEFAULT} || ( !$self->_is_interactive && eof STDIN );
+}
+

	Sure, this hangs. REPORTED on the mailing list.
	
	* D/DM/DMAKI/DateTime-Util-Calc-0.11.tar.gz again. Ken wrote me to say
	that Module::Build does set $|, so I do the following:

2007-02-01 07:27  cd ~/.cpan/build/DateTime-Util-Calc-0.11-Or71Ir
2007-02-01 07:53  mv /home/src/perl/repoperls/installed-perls/perl/p8FWT5N/perl-5.8.0@30080/lib/site_perl/5.9.5/i686-linux-64int/Math/BigInt/GMP.pm
2007-02-01 07:53  /home/src/perl/repoperls/installed-perls/perl/p8FWT5N/perl-5.8.0@30080/bin/perl Build.PL >| /tmp/p8FWT5N.out2 2>&1

	This "hangs" and the file /tmp/p8FWT5N.out2 contains ONLY the following lines:

Math::BigInt::FastCalc is missing method '_from_oct' at /home/src/perl/repoperls/installed-perls/perl/p8FWT5N/perl-5.8.0@30080/lib/site_perl/5.9.5/DateTime/Util/Calc.pm line 9
Cannot load outdated Math::BigInt::FastCalc v0.10_01, please upgrade at /home/src/perl/repoperls/installed-perls/perl/p8FWT5N/perl-5.8.0@30080/lib/site_perl/5.9.5/DateTime/Util/Calc.pm line 9

	So I must repeat this in the debugger to find out who is waiting for what.

	I reach line 501:

  DB<4> 
Module::Build::Base::prompt(/home/src/perl/repoperls/installed-perls/perl/p8FWT5N/perl-5.8.0@30080/lib/5.9.5/Module/Build/Base.pm:501):
501:      local $|=1;
DB<4> 
Module::Build::Base::prompt(/home/src/perl/repoperls/installed-perls/perl/p8FWT5N/perl-5.8.0@30080/lib/5.9.5/Module/Build/Base.pm:502):
502:      print "$mess $dispdef";
DB<4> x $|
0  1

  So this seems correct.
  
	I change lines 501 and 502 to read:

  local $|=1;{my $s = fileno select;warn "Going to print message to selected filehandle[$s]. \$|[$|]";}
  print "$mess $dispdef";warn "Have printed message to selected filehandle";

	With that I retry and am quite surprised that again the output file
	looks like the first time.

	For my testing it seems better to not redirect STDERR but only STDOUT,
	so we can just look with 'ls -l' to see that the file is empty.

2007-01-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* http://rt.cpan.org/Ticket/Display.html?id=24673 Template fails.

	Maybe needs a binary search? DONE and REPORTED.

	* DMAKI/DateTime-Util-Calc-0.11.tar.gz hangs, but I do not see why.

  /usr/bin/patch -N --fuzz=3 -p1
patching file t/04-bigfloat.t
Prepending /home/k/.cpan/build/DBD-SQLite-1.13-PQHMS0/blib/arch /home/k/.cpan/build/DBD-SQLite-1.13-PQHMS0/blib/lib to PERL5LIB for 'make'

  CPAN.pm: Going to build D/DM/DMAKI/DateTime-Util-Calc-0.11.tar.gz


	So I start to believe that Module::Install (or who?) does not set $|. ps
	shows:

k        11717  0.0  0.3   7704  5488 pts/3    S+   00:52   0:00 /home/src/perl/repoperls/installed-perls/perl/peBfNb9/perl-5.8.0@30067/bin/perl Build.PL

	% lsof -p 11717|grep cwd
perl    11717    k  cwd    DIR    9,1    4096 11323846 /home/k/.cpan/build/DateTime-Util-Calc-0.11-oDcgJK

	By killing all jobs involved in this, I can find out more:

>06:31:09 k@k75:/home/src/perl/repoperls% kill 3391 3392 1458 1459 11717
>06:32:02 k@k75:/home/src/perl/repoperls% cd /home/k/.cpan/build/DateTime-Util-Calc-0.11-oDcgJK
>06:32:12 k@k75:~/.cpan/build/DateTime-Util-Calc-0.11-oDcgJK% /home/src/perl/repoperls/installed-perls/perl/peBfNb9/perl-5.8.0@30067/bin/perl Build.PL

================================================================================
+  You don't seem to have neither Math::BigInt::GMP and Math::BigInt::Pari
+
+  Many astronomical calculations require the arbitrary-precision math
+  libraries like GMP. Without it you might see occasional overflows
+  which will result in an incorrect calculation. It is recommended that
+  you install either one of the module (If both are installed, GMP will
+  be used)
+
+  To install GMP, you will be required to have installed GMP library from
+  http://www.swox.com/gmp/ prior to installing the Perl module
+
+  To install Pari, you will be required to have installed Pari from
+  http://www.parigp-home.de/ prior to installing the Perl module.
+
+  Proceed with installation without Math::BigInt::GMP or Math::BigInt::Pari? [n] 

	Why did I never before see this?

	Because Math::BigInt::GMP fails! See
	http://rt.cpan.org/Ticket/Display.html?id=24672

	Whatever the answer, this must go into distroprefs. DONE for both TELS
	and DMAKI.

	In the Build.PL I see:

	    my $proceed = Module::Build->y_n($message, "n");

	Looks to me that Module::Build should set $| within y_n? Yes? No?

	Missing $| reported to module build mailing list just now.

2007-01-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* My talk proposal http://www.perl-workshop.de/auth/my/edittalk?id=46

-Distroprefs: Module morphing, taming, killing, obedience, etc.
-CPAN::Reporter: Talkback.
-CPAN::SQLite: use less memory.
-dot distros: cpan DOT (bring your own)
-Persistent Shell. build_dir_reuse
-Permanent Shell. reload seems reliable now
-Upgrade.
-Test Now, Install Later. Is_tested, install_tested
-Interactive Configuration of single items.
-Color.
Bundle::CPANxxl - what is in there? sequence matters.
-hosts stats

	* Feature: On recursive dependency please dump the required version.
	DONE

	* Spreadsheet-ParseExcel-0.28 is broken for quite some time now.

	https://rt.cpan.org/Ticket/Display.html?id=24267 is about missing
	prerequisites. This explains two test failures but not the third:

t/examples/warning......
#   Failed test 'stderr is empty when running warning.pl'
#   at t/examples/warning.t line 10.
#          got: 'Character in 'c' format wrapped in pack at /home/k/.cpan/build/Spreadsheet-ParseExcel-0.28-ddCmVr/blib/lib/Spreadsheet/ParseExcel.pm line 1744.
# Character in 'c' format wrapped in pack at /home/k/.cpan/build/Spreadsheet-ParseExcel-0.28-ddCmVr/blib/lib/Spreadsheet/ParseExcel.pm line 1748.
# '
#     expected: ''
# Looks like you failed 1 test of 2.
dubious
	Test returned status 1 (wstat 256, 0x100)
DIED. FAILED test 1
	Failed 1/2 tests, 50.00% okay

	https://rt.cpan.org/Ticket/Display.html?id=7376 has something about it.

	* hunting XML::Twig/bleadperl test failures again. I started this once
	on 2007-01-06 and yesterday I let a binary search run against 3.29.
	28202 broke 3.29 but only with a test failure that later disappeared
	again, so this result is not interesting. I need a temporary patch that
	disables the testfile t/test_xml_split.t completely. Ah, this is quite
	easy with test/args distroprefs.

	Testing a temporary MIROD.XML-Twig.yml file that lists all test scripts
	individually (except the offending one). And it turns out that this
	functionality was missing in CPAN.pm. FIXED in SVK rev. 1807

	With              28202           the test test_xml_split  started failing
	Somewhere before  28319                    test_xml_split  stopped failing
	With              28319           the test test_errors     started failing
	Somewhere before  28785                    test_errors     stopped failing
  With              28785           the test test_3_27	     started failing
	Somewhere between 29274 and 29285 the test test_mark       started failing

	274 did not fail the mark test

	275 had problems to build XML::Parser, but why? Or better yet, why did
	274 have no problems building XML::Parser 2.34? I just retried, and yes,
	274 can build XML::Parser. 29275 seems to have a syntax error in
	/home/src/perl/repoperls/installed-perls/perl/poKEUxZ/perl-5.8.0@29275/lib/5.9.5/utf8_heavy.pl.
	Yes, it is very annoying, the syntax error is there and cannot be
	explained by anything but a disk drive error (and I had RAID break three
	times these days). It is a rotten build and must be removed.

	278 cannot be built due to two failing tests. We will ignore the failing
	tests ../ext/Time/HiRes/t/HiRes.t ../lib/perl5db.t for now. OK, it does
	not fail the mark test, just the 3_27.

	279 fails the mark test. Ready to write to P5P. And I must correct the
	temporarily manipulated test/args distroprefs file.
	
	285 failed the mark test

	29010 and 29220 have at least test_3_27.t and test_additional.t failing

	29411 and 29705 have at least test_mark failing

	30044 fails only test_3_27	and test_mark
	
	* Slaven tells me that he can confirm the Term::ReadLine::Gnu behaviour
	in the t/callback.t test that I find so annoying for 5.9.5(debugging)
	but not for 5.8.8. I.e. with 5.8.8 the window gets closed automatically
	while with 5.9.5 it stays.

	This would normally be solved with a binary search but as always with
	big distros there are risks. Tk under randomly picked 21846 segfaults
	during make test. Same for 23300.

	25302 dies quickly with

	/home/src/perl/repoperls/installed-perls/perl/pq4nEoU/perl-5.8.0@25302/bin/perl: symbol lookup error: /home/src/perl/tk/SVN/blib/arch/auto/Tk/Event/Event.so: undefined symbol: Perl_newXS_flags

	28810 dies quickly with

	Strange: could not load Tk library: Assertion (svtype)((_svi)->sv_flags & 0xff) >= SVt_PV failed: file "Event.xs", line 33 at /home/src/perl/repoperls/installed-perls/perl/pPOaCtI/perl-5.8.0@28810/lib/5.9.4/i686-linux-64int/DynaLoader.pm line 224.
Compilation failed in require at /home/src/perl/tk/SVN/blib/lib/Tk.pm line 13.
BEGIN failed--compilation aborted at /home/src/perl/tk/SVN/blib/lib/Tk.pm line 13.
Compilation failed in require at (eval 3) line 3.

	and 29411 similarly with

	Strange: could not load Tk library: Assertion (svtype)((_svi)->sv_flags & 0xff) >= SVt_PV failed: file "Event.xs", line 33 at /home/src/perl/repoperls/installed-perls/perl/pXADjKY/perl-5.8.0@29411/lib/5.9.5/i686-linux-64int/DynaLoader.pm line 226.
Compilation failed in require at /home/src/perl/tk/SVN/blib/lib/Tk.pm line 13.
BEGIN failed--compilation aborted at /home/src/perl/tk/SVN/blib/lib/Tk.pm line 13.


	* Speed things up by reading distroprefs less often or otherwise find
	out who is so slow here. What happens between 'Running make for
	<distro>' and 'Checksum for <distro> ok'? Time is spent in get(). Even
	though we now do negative caching of distroprefs for the time of one
	command, the get() is still slower for some reason. SEEMS AMENDED

	* if somebody else deletes a build_dir, we must offer a better solution
	than breakage 'can't chdir...'

	Suggest "maybe try 'force get $ID' to clean up the object in memory" or
	something like that. Or "to reset everything" or "to start with a fresh
	distro"... Nothing seems really good and correct. DONE

	* Catalyst would be another candidate for a large dependency list. INC'ED

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* Bug: batch jobs scan for sizes although they never delete anything. So
	either teach them to delete under certain conditions or do not scan for
	sizes. FIXED

	* Bug: "faileTAB" does not do completion

	Fixed in SVK rev. 1806

	*  NEELY/Data-Serializer-0.36.tar.gz            : make_test NO

	This distro appeared these days on the make_test-NO scene. But when I
	look closer, it turns out that it fails with the pretty old bleadperl
	22491.

2007-01-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* what's going on with JHOBLITT/DateTime-Format-ISO8601-0.0403.tar.gz?

	rt.cpan.org has the solution in ticket 24335. Patch by Aaron Crane (=ARC)

	Aaron's patch cannot be copy and pasted because of some whitespace
	problems. So I try to apply it manually.

	======================Dealing With Patches==================

	My procedure when I encounter a broken package:

    look DISTRO
    cd ..
    rsync -va DISTRODIR/ DISTRODIR.orig/
    # fix the distro in DISTRODIR
    diff -urp DISTRODIR.orig DISTRODIR > DISTRODIR-ANDK-01.patch
    gzip DISTRODIR-ANDK-01.patch

	I then upload the resulting patch to my CPAN patches/ directory and
	write a YAML file into my prefs_dir/ directory that contains roughly

    ---
    comment: "This patch fixes ..."
    match:
      distribution: "^DISTRO$"

    patches:
      - ANDK/patches/DISTRODIR-ANDK-01.patch

	That's all. From then I can install that distro for any perl version on
	that machine.

	Uploaded to CPAN and a new distropref file is made.
	
	* yesterday I built maintperl 29988 and somehow megainstall failed with
	Jifty-DBI asking auto-install questions. I suppose the question was
	asked by a different perl and an old CPAN because I do have a Jifty-DBI
	distropref file that should prevent questions asking.

	NO! The malfunctioning started exactly at 23:40 when the disk also
	started failing. So I suppose we can simply restart a megainstall on
	29988 now.

	No. Still hanging. No signs of being the wrong perl. Trying with 'make run'.

______________________ D i s t r o P r e f s ______________________
                      AUDREYT.Jifty-DBI.yml[0]                      
Running make for A/AU/AUDREYT/Jifty-DBI-0.32.tar.gz
  Has already been unwrapped into directory /home/k/.cpan/build/Jifty-DBI-0.32-LUlvH7
  '/home/src/perl/repoperls/installed-perls/maint-5.8/pLUMXwK/perl-5.8.0@29988/bin/perl Makefile.PL' returned status 2, won't make

	'fforce make ...' first scans the build_dir for sizes which takes a
	while, maybe the resync of the RAID is slowing it down. After that the
	distroprefs mechanics answer the auto-install question(s).

	But 'test Jifty::DBI' fails some tests. It tests many dependencies, so
	let's look at the summary:

  AUDREYT/Jifty-DBI-0.32.tar.gz
  /usr/bin/make test -- NOT OK
Failed during this command:
 JHOBLITT/DateTime-Format-ISO8601-0.0403.tar.gz: make_test NO
 AUDREYT/Jifty-DBI-0.32.tar.gz                : make_test NO

cpan[4]> is_tested 
Sat Jan 27 06:08:02 2007 /home/k/.cpan/build/FreezeThaw-0.43-MyeZXx
Sat Jan 27 06:08:07 2007 /home/k/.cpan/build/DBIx-DBSchema-0.31-Wrf6R4
Sat Jan 27 06:08:17 2007 /home/k/.cpan/build/Lingua-EN-Inflect-1.89-8UYDiB
Sat Jan 27 06:08:36 2007 /home/k/.cpan/build/Cache-Simple-TimedExpiry-0.27-rznB3I

	Ahja, just the normal autoinstall misbehaviour. Because something
	failed, it tries to go into recursion. My normal patch
	ANDK/Module-AutoInstall-in-inc-ANDK-01.patch seems to take the
	appropriate amount of care for that.

2007-01-26  Andreas J Koenig  <akoenig@iconmobile.com>

	* document build_requires and when you talk about prerequisites, name
	the option names explicitly. DONE

	* note/explain the improved behaviour on recursion detection in the
	Changes file. DONE.

	* Today I found a bug in Tk::Pod when trying with bleadperl:

	/..../tkpod -I lib CPAN

	Need to have a closer look some day.

	A test script also failed but I installed it with 'force notest install
	Tk::Pod' because I had more interest in getting _71 out.

	Sent a patch to Slaven today which commented out an else in line 190 or
	so.

2007-01-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* bug: 'fforce instTAB' doesn't do completion.

	FIXED in SVK rev. 1762

2007-01-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Today I also saw an uninstallable IO::AIO 2.32: the AIO.pm file was
	not found within blib although it was there in blib/lib/IO/IO/AIO.pm.
	Who is playing a false game? Diff between 3.31 and 2.32 shows:

+    PM           => {
+                   'AIO.pm'            => '$(INST_LIBDIR)/IO/AIO.pm',
+                    },

	Bug fixed and reported to Marc:

--- Makefile.PL~	2007-01-22 16:58:24.000000000 +0100
+++ Makefile.PL	2007-01-23 08:04:38.000000000 +0100
@@ -61,7 +61,7 @@
     VERSION_FROM => "AIO.pm",
     LIBS         => ['-lpthread -lrt', '-lpthread', '-lpthreads', ''],
     PM           => {
-    		    'AIO.pm'		=> '$(INST_LIBDIR)/IO/AIO.pm',
+    		    'AIO.pm'		=> '$(INST_LIBDIR)/AIO.pm',
                     },
     clean        => { FILES => "autoconf/config.h autoconf/config.log autoconf/config.status" },
 });


	* Today I saw this:

cpan[15]> install Coro
Running install for module 'Coro'
Running make for M/ML/MLEHMANN/Coro-3.41.tar.gz
  Has already been unwrapped into directory /home/k/.cpan/build/Coro-3.41-xlIZvI
  Has already been made
Running make test
  Couldn't chdir to '/home/k/.cpan/build/Coro-3.41-xlIZvI': No such file or directory
Running make install
  make test had returned bad status, won't install without force

	This was already somewhere in my Todo list: give up objects in memory
	that cannot fulfil some promise or at least offer the solution which is

	fforce install Coro # but no, this is not an appropriate suggestion

	Or remove the objects from memory while CacheMgr is running. Or both! If
	we delete it ourselves, the deletion from memory is appropriate

  --DONE in ~ SVK rev. 1760 --

	but if somebody else deletes it we must offer a better solution than the
	above breakage.

	Suggest "maybe try 'force get $ID' to clean up the object in memory" or
	something like that. Or "to reset everything" or "to start with a fresh
	distro"... Nothing seems really good and correct. LATER
	
	* Today Ken confirmed that _build/prereqs is safe to rely on. Good news,
	Thanks Ken!

	* Todo before 71: write a Changes file. Declare YAML::Tiny not supported
	DONE; support is_tested and install_tested and document them (DONE SVK
	rev 1763); integrate the distroprefs README into the manpage (DONE SVK
	rev. 1766); speed up distroprefs parsing with a cache DONE in SVK rev.
	1764;

	It would be nice to understand the failures that were reported through
	testers and the one I saw on my dev05 box and the ones I saw on OSX but
	it will again be a developer release after all, so maybe these will have
	to wait.

	The test failure on dev05 is not reproducable. OSX?

	OSX passes all tests with my first _71 test build.
	
	* Today I tried 1.88_69 on OSX wit 5.8.6 as it comes preinstalled.
	File::HomeDir has issues and I could not use CPAN::Reporter to write a
	report because it said there was no config file. Will have to revisit
	this.

	* For several days I have kept Kwalify out with dontload_list. Today I
	opened the door again and let 29923 work through megainstall. All's
	well.

2007-01-21  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* We need a speedup of the distroprefs stuff. Currently we're going
	through readdir and YAML::Load thousand times per module. We should
	probably cache the whole directory structure once per command and delete
	it from re-used build_dirs. DONE with negative per-command distroprefs
	cache.

2007-01-20  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Today I have a segv with 29895 when running CPAN.pm. It may be
	relevant that I erroneously left YAML::Tiny configured? I reconfigured
	to prefer YAML::Syck and ... the SEGV remains. Configuring limit
	coredumpsize 100m now. The SEGV seems to bring the box to its knees and
	the logfile of the first run of 29895 says 'Out of memory'. And the core
	file is indeed 100m and has no stack. Setting coredumpsize to 1000m now.
	The problem comes immediately after loading Kwalify 1.13

	29887 was the last before 895 and its logfile is large. It came to the
	place where it loaded YAML::Tiny and from there is broke but not with a
	SEGV. So something between 29887 and 29895 is evil. How ironic that most
	of these patches are related to CPAN.pm!

	The newest core file is 1000M large, gdb needs a long time to load it
	and again says "No stack" when I say 'bt'.

	Next idea is to 'o conf dontload_list push Kwalify'. Now we get a step
	further. CPAN tries to install Archive::Zip, then becomes very slow,
	grows to 55M and then starts scanning build_dir for sizes. From that
	point it succeeds in building and installing, just a bit slow it seems,
	but this may be just the normal distroprefs slowness. Bundle::CPANxxl is
	installed now and megainstall is running. After a while I discover that
	I made a typo for yaml_module and said YAML::Sync. Of course this leads
	to slowness. Interesting mistake though, we might want to guard against
	it. 'make megainstall' finishes just as we're used to.

	FirstTime warns on misspelled module names since SVK rev. 1761.

2007-01-15  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* DBIx::Class has DBD::SQLite as build_requires. Thus it is being built,
	not installed and CPAN::SQLite does not demand it as prerequisite
	because it finds it (?) but then the install_driver fails during the
	tests. Weird.

	As a first alternative I try to install DBD::SQLite explicitly
	immediately before CPAN::SQLite.

	* See the two fails on CPAN testers for 1.88_69!

	They are both MSWin32 and 397036 is 5.8.5 and fails

t/31sessions.......dubious
	Test returned status 5 (wstat 1280, 0x500)
DIED. FAILED tests 10-11, 14, 22, 26
	Failed 5/30 tests, 83.33% okay

	Output impossible to read

	398304 is 5.8.8 and fails

t/31sessions.......# DEBUG: name[first]system["C:\strawberry-perl\perl\bin\perl.exe" "-IC:\strawberry-perl\.cpanplus\5.8.8\build\CPAN-1.88_69\t" "-Mblib" "-MCPAN::MyConfig" "-MCPAN" "-e" "@CPAN::Defaultsites = (); shell" > test.out] at t/31sessions.t line 147.

#   Failed test 'command[dump $::x=4*6+1]'
#   at t/31sessions.t line 162.
#                   'Lockfile removed.
# '
#     doesn't match '/= 25;/'
Use of uninitialized value in pattern match (m//) at t/31sessions.t line 162.


	It seems there is no output at all to parse.

	* Look into YAML::Tiny; doesn't seem to work. We need a better catch on
	the problem it is causing: currently I do not see where it is failing.

2007-01-14  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* learn something new every day: less -R preserves the ANSI color
	sequences. Best way to analyse the captured output.

	* maint@29776 breaks DBI, need to check with 29802. Failure mailed to
	P5P. Fixed by Nicholas.

2007-01-13  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* And the next new bug: again an endless loop between PDF::FromHTML and
	XML::Twig. I'm not sure in which state CPAN.pm was when this run
	started, so I rerun from scratch with 29779 and stop the usual loop.

	No, the bug is there. The distro of PDF::FromHTML is the next on the
	loop and it depends on XML::Twig. The latter fails its tests but
	nonetheless re-queing is done. Instead of simply continuing with normal
	business because we do not need to requeue. What a mess.

	OK, sure, by removing the "next" for sponsored modules we gave the
	option that things get requeued that have failed. Should also have an
	easy fix.
	
	Tomorrow: megainstall with maintperl@29776, blead@297{79,80}, etc.

	(aside: the stupid thing about dot distros is that they are being
	needlessly rerun)

	Maybe write a failed_within_this_command() method?

	Is it true that batch jobs scan for sizes and then do not delete
	anything from build_dir? It seems so. My first 'make run' after a while
	faces 3.3 GB and in all batch jobs I saw the dot painting "for sizes".

	(The last successful testshell protocol I have with Expect on is
	make-test-20061230T172249.)

	30shell fails and it is again hard to find the offending test. Another
	proof that new tests must go into 31sessions.t. But 31session does not
	finish. Easily reproducable by trying to install
	CPAN::Test::Dummy::Perl5::Make::CircDepeOne

	It seems that the recursion detection is now broken. We reach the limit
	of 100 in CPAN::Queue which should never be reached. If I say ^C there,
	then I see a seemingly endless loop of "Has already been...". Somehow we
	seem to bypass the color_cmd_tmps.

	It seems that everybody who puts something onto the queue is responsible
	for calling color_cmd_tmps? How silly if true :-( But it seems that we
	*are* calling color_cmd_tmps before jumpqueue in follow_prereqs. Yes,
	but we call it with $color=1 and this has already been called before we
	had the prereqs and so it returns early. We probably must call it with
	$color=2? How obfuscated if true :-( Yes, and by calling with $color=2
	and preventing an early return of all color_cmd_tmps when $color==2 I
	start to pass on 31sessions.t. Recursion detection is now even faster,
	we do not even arrive at testing which I consider a good thing.

	But it comes at a price. The disadvantage is that it is a die() and the
	usual "Failed during this command" gets lost. So what do we want?

	The result in older versions was:

Recursive dependency detected:
    CPAN::Test::Dummy::Perl5::Make::CircDepeOne
 => A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeOne-1.00.tar.gz
 => CPAN::Test::Dummy::Perl5::Make::CircDepeThree
 => A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeThree-1.00.tar.gz
 => CPAN::Test::Dummy::Perl5::Make::CircDepeTwo
 => A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeTwo-1.00.tar.gz
 => CPAN::Test::Dummy::Perl5::Make::CircDepeOne.
Cannot continue.
Failed during this command:
 ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeTwo-1.00.tar.gz: make_test NO one dependency not OK (CPAN::Test::Dummy::Perl5::Make::CircDepeOne)
 ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeThree-1.00.tar.gz: make_test NO one dependency not OK (CPAN::Test::Dummy::Perl5::Make::CircDepeTwo)
 ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeOne-1.00.tar.gz: make_test NO one dependency not OK (CPAN::Test::Dummy::Perl5::Make::CircDepeThree)

	Looking at that again it appears not a very clever answer because the
	"Failed" summary does not talk about the recursion detection. I think I
	prefer the die().

	On the other hand we need to help people in this situation and 'look
	Foo' should not fail because of recursion. This is easily fixable: we
	simply call color_cmd_tmps only for "make|test|install".

2007-01-12  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Hunting bugs. The first reliable way to produce the needless loop
	CBuilder<->File::Spec was to install a fresh maintperl@19726 and make
	mega_install on top. It takes a while. I need a quicker way better yet a
	testcase.

	The next best program which still runs for a long time is

	/home/src/perl/repoperls/installed-perls/*/p*/perl-5*@29726/bin/perl -Ilib -MCPAN -e 'CPAN::HandleConfig->load;$CPAN::DEBUG|=16;$CPAN::DEBUG|=32;$CPAN::DEBUG|=32768;install(qw(Expect Bundle::CPANxxl))' >& ttt.out

	Unfortunately this reproduces it only once. Fortunately I now understand
	the problem: CBuilder comes with a perfectly well suited Build.PL and
	with a Makefile.PL. My prefer_installer says "MB". But when MB is not
	yet installed, this must not be taken seriously. The bug is that CPAN.pm
	actually tries to execute the Build.PL and fails and then refuses to
	retry. This should have an easy fix in get() and now I believe, a
	testcase for this might be a bit too hard given that Module::Build will
	be in the core soon.

	I think I fixed it.

	Now I'm curious how this influences the Zlib bug. The endless loop
	problem was, after all, a completely separate bug, uniq to the situation
	described above. So I can remove the "next" in the sponsored_modules
	loop and expect that it delays the testing of Compress::Zlib?

	I seem to see a new bug now: CPAN::Reporter builds, tests, installs and
	immediately tests again. --> another investigation necessary

	But yes, the other bug is now also fixed by removing the "next" hack.

2007-01-10  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: recursive dependency ExtUtils::CBuilder <-> File::Spec

	CPAN.pm gave me this puzzle today when trying to build on top of 5.8.9-tobe

  Recursive dependency detected:
      ExtUtils::CBuilder
   => K/KW/KWILLIAMS/ExtUtils-CBuilder-0.18.tar.gz
   => File::Spec
   => K/KW/KWILLIAMS/PathTools-3.24.tar.gz
   => ExtUtils::CBuilder.
  Cannot continue.

	But File::Spec 3.12 is installed, so the recursive dependency should be
	breakable.

	AND the dump command should not fail under recursive dependency.

	Interstingly, the problem went away without special intervention. I
	remember now that I have seen it before and that it disappeared. Hrm.

	* Bug: 5.8.9 cannot install Compress::Zlib 2.003

	----      PMQS/Compress-Zlib-2.003.tar.gz     ---- (0)
    IO::Compress::Gzip::Constants [requires]
    IO::Uncompress::Base [requires]
    IO::Compress::Base [requires]
    IO::Uncompress::Gunzip [requires]
    IO::Compress::Gzip [requires]
    Compress::Raw::Zlib [requires]
    IO::Compress::Base::Common [requires]

	[[[
    IO::Compress::Gzip::Constants PMQS/IO-Compress-Zlib-2.003.tar.gz (1)
    IO::Uncompress::Base          PMQS/IO-Compress-Base-2.003.tar.gz (2)
    IO::Compress::Base            PMQS/IO-Compress-Base-2.003.tar.gz (2)
    IO::Uncompress::Gunzip        PMQS/IO-Compress-Zlib-2.003.tar.gz (1)
    IO::Compress::Gzip            PMQS/IO-Compress-Zlib-2.003.tar.gz (1)
	  Compress::Raw::Zlib           PMQS/Compress-Raw-Zlib-2.003.tar.gz (3)
    IO::Compress::Base::Common    PMQS/IO-Compress-Base-2.003.tar.gz (2)

  (1)
----    PMQS/IO-Compress-Zlib-2.003.tar.gz    ----
    IO::Uncompress::Base [requires] (2)
    IO::Compress::Base [requires]   (2)
    Compress::Raw::Zlib [requires]  (3)

	(2) PMQS/IO-Compress-Base-2.003.tar.gz (OK: 44923)

	(3) PMQS/Compress-Raw-Zlib-2.003.tar.gz (OK: 45150)

	(1) PMQS/IO-Compress-Zlib-2.003.tar.gz (OK: 45329)
	
	(0 in 45401) Won't repeat unsuccessful test during this command
	
	]]]


43878:	[0mmake[1]: Entering directory `/home/k/.cpan/build/Compress-Zlib-2.003-z0UL8v'
PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/maint-5.8/prPS0AD/perl-5.8.0@29726/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/000prereq.....
#     Failed test (t/000prereq.t at line 46)
#     Tried to use 'Compress::Raw::Zlib'.
#     Error:  Can't locate Compress/Raw/Zlib.pm in @INC (@INC contains: t t/compress /home/k/.cpan/build/Compress-Zlib-2.003-z0UL8v/blib/lib /home/k/.cpan/build/Compress-Zlib-2.003-z0UL8v/blib/arch /home/src/perl/repoperls/installed-perls/maint-5.8/prPS0AD/perl-5.8.0@29726/lib/5.8.8/i686-linux-64int /home/src/perl/repoperls/installed-perls/maint-5.8/prPS0AD/perl-5.8.0@29726/lib/5.8.8 /home/src/perl/repoperls/installed-perls/maint-5.8/prPS0AD/perl-5.8.0@29726/lib/site_perl/5.8.8/i686-linux-64int /home/src/perl/repoperls/installed-perls/maint-5.8/prPS0AD/perl-5.8.0@29726/lib/site_perl/5.8.8 .) at (eval 3) line 2.

	Why does it try testing C-Z too early? Could we convince CPAN.pm to
	retry testing in 45401? Dump its state at both points in time?

	Update 2007-01-11 akoenig : Found a "next" at the end of unsat_prereq
	that skipped already sponsored modules. Removed it because it looks as
	if it were responsible for the above bug. After that the infinite
	recursion problem between CBuilder and File::Spec dominated the next run
	and the normal recursion detection mechanism did not help to break the
	loop. To put the bad to the ugly it turned out that the recursion
	between CBuilder and File::Path is a wrong recursion in that the
	available version of File::Spec in 5.8.9 is 1.12 and CBuilder does not
	specify a version number, so is really satisfied with 1.12 but somebody
	else seems to require 1.19 and so CPAN.pm is hunting for that without a
	real reason. So we have a big bug here and no time to fix it.

	See also the "next WHAT" in CPAN::Queue::jumpqueue. If we keep it, we
	keep the queue at 100 instances of File-Spec-XXX.tar.gz without growing.
	If we remove it, the queue grows. Both cases are infinite loops, so
	neither better than the other.

2007-01-09  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Watch the Module::Build space for updates to the question of calling
	M:B methods or parsing _build/*. Ken seemed to argue for the file (?)

	FINI

2007-01-08  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: distroprefs mechanism is still inefficient in that it scans too
	often the whole distro_dir. (But it's super to have that while
	developing new rules). And it's a drag especially when people have only
	YAML and no YAML::Syck because they were not told or have no compiler or
	whatsoever. Or revisit the caching mechanism for the YAMLs and count the
	actual YAML activities.

	Also, reduce the default max counter for FTPstats to 1000 or 14 days or
	so and make it settable.

	* The speed factor that I wrote about a few times recently is due to the
	YAML::Syck being 100 times faster than YAML. Whenever for some reason
	YAML::Syck is missing, the whole CPAN.pm feels like running on a 386
	whatever we are doing, because we now have too many tasks delegated to
	YAML format. What to do?

	* 00.README into the manpage now? DONE

2007-01-07  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug: I say 'force test JHOBLITT/DateTime-Format-ISO8601-0.0403.tar.gz'

	and I see (with the usual noise around) in essence:

----    Unsatisfied dependencies detected during    ----
---- JHOBLITT/DateTime-Format-ISO8601-0.0403.tar.gz ----
    DateTime::Format::Builder [requires]
Running test for module 'DateTime::Format::Builder'
----    Unsatisfied dependencies detected during   ----
---- DROLSKY/DateTime-Format-Builder-0.7807.tar.gz ----
    Class::Factory::Util [requires]
    Params::Validate [requires]
    DateTime::Format::Strptime [requires]
Running test for module 'Class::Factory::Util'
  DROLSKY/Class-Factory-Util-1.6.tar.gz
  /usr/bin/make test -- OK
  DROLSKY/Params-Validate-0.86.tar.gz
  /usr/bin/make test -- OK
----   Unsatisfied dependencies detected during   ----
---- RICKM/DateTime-Format-Strptime-1.0700.tar.gz ----
    DateTime::TimeZone [requires]
    DateTime::Locale [requires]
    Params::Validate [requires]
---- Unsatisfied dependencies detected during ----
----   DROLSKY/DateTime-TimeZone-0.57.tar.gz  ----
    Class::Singleton [requires]
    Params::Validate [requires]
  ABW/Class-Singleton-1.03.tar.gz
  /usr/bin/make test -- OK
  DROLSKY/DateTime-TimeZone-0.57.tar.gz
  ./Build test -- OK
---- Unsatisfied dependencies detected during ----
----    DROLSKY/DateTime-Locale-0.33.tar.gz   ----
    Params::Validate [requires]
  DROLSKY/DateTime-Locale-0.33.tar.gz
  ./Build test -- OK
  RICKM/DateTime-Format-Strptime-1.0700.tar.gz
  /usr/bin/make test -- OK
  DROLSKY/DateTime-Format-Builder-0.7807.tar.gz
  ./Build test -- OK

	and after that: nothing. So the one we try to test does not get tested
	but all prerequisites run their tests.

cpan[12]> _is_tested
Sun Jan  7 08:05:21 2007 /home/k/.cpan/build/Class-Factory-Util-1.6-UVh2sJ
Sun Jan  7 08:05:23 2007 /home/k/.cpan/build/Params-Validate-0.86-kpMMto
Sun Jan  7 08:05:26 2007 /home/k/.cpan/build/Class-Singleton-1.03-HaqjYP
Sun Jan  7 08:05:50 2007 /home/k/.cpan/build/DateTime-TimeZone-0.57-Cg2NcL
Sun Jan  7 08:06:12 2007 /home/k/.cpan/build/DateTime-Locale-0.33-dSVn8d
Sun Jan  7 08:06:18 2007 /home/k/.cpan/build/DateTime-Format-Strptime-1.0700-6B7q6N
Sun Jan  7 08:06:31 2007 /home/k/.cpan/build/DateTime-Format-Builder-0.7807-VYcgLN

	This _is_tested command is wonderful. It show me that the bug is not in
	the is_tested area but in the unsatisfied part and I find the spot where
	inst_{file,version} was used instead of available_{file,version}

	FIXED in svk rev 1703.

2007-01-06  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	*  JHOBLITT/DateTime-Format-ISO8601-0.0403.tar.gz

	broke between 20061212T0332 (29527) and 20061213T1101 (29542)

	But when I visit 29527 I see many prerequisites were missing. Including
	Params::Validate.

	Installing YAML::Syck and then using 'fforce test
	JHOBLITT/DateTime-Format-ISO8601-0.0403.tar.gz' brings me an endless
	loop between DateTime-0.35, DateTime-Format-Builder, Class-Factury-Util,
	DateTime, Params-Validate. And is_tested grows and grows and grows.

	FIXED in rev 1703.

	* blead@28810 did not compile YAML 0.62? Did we know that? That was
	September. Is something more broken than just bleadperl? In any case I'm
	surprised that 28810 has had no YAML.pm. So I should simply run through
	whole cache and see at which time I started to build Bundle::CPAN on all
	bleads. Do not forget, we're now using ccache:

	       CCACHE_DISABLE
              If  you  set the environment variable CCACHE_DISABLE then ccache
              will just call the  real  compiler,  bypassing  the  cache  com-
              pletely.

	No, the 'dont_load_list' is preventing YAML to be loaded at the moment.

	* Release the bundles that are already rewritten for a while DONE

	* Todo: make auto_commit a mandatory attribute. DONE in rev 1706

	* XML::Twig 3.28 is out and fails with 29705

t/test_3_27.t               82    3  8-10
t/test_mark.t  255 65280    48    4  47-48

	% make test TEST_FILES="t/test_3_27.t t/test_mark.t " TEST_VERBOSE=1
[...]
ok 6
ok 7
not ok 8
trigger on e1[@#a]/b: expected 'b1b1', got 'b1'
Use of uninitialized value $got in string eq at t/tools.pm line 18.
not ok 9
Use of uninitialized value $got in concatenation (.) or string at t/tools.pm line 29.
trigger on e1[@#a]: expected 'e1-1', got ''
not ok 10
trigger on e1[!@#a]: expected 'e1-2', got 'e1-1e1-2'
ok 11
ok 12
[...]
t/test_mark....Assertion rx->sublen >= (s - rx->subbeg) + i failed: file "regcomp.c", line 4695 at /home/k/.cpan/build/XML-Twig-3.28-4ey2uH/blib/lib/XML/Twig.pm line 6385, <DATA> line 24.
1..48
[...]
ok 45
ok 46
dubious 
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 47-48
        Failed 2/48 tests, 95.83% okay


	Binary search is harder than ever because of different things in
	different blead versions.

	This happens with 28210:

t/test_wrapped......................ok                                       
t/test_xml_split....................xml_split compilation: 
t/test_xml_split....................NOK 1/18xml_merge compilation:           
t/test_xml_split....................ok 3/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58.
xml_merge  t/test_xml_split.xml: false
t/test_xml_split....................NOK 4/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 1.
xml_merge -i t/test_xml_split.xml: false
t/test_xml_split....................NOK 6/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 2.
xml_merge  t/test_xml_split.xml: false
t/test_xml_split....................NOK 8/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 3.
xml_merge -i t/test_xml_split.xml: false
t/test_xml_split....................NOK 10/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 4.
xml_merge  t/test_xml_split.xml: false
t/test_xml_split....................NOK 12/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 5.
xml_merge -i t/test_xml_split.xml: false
t/test_xml_split....................NOK 14/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 6.
xml_merge  t/test_xml_split_entities.xml: false
t/test_xml_split....................NOK 16/18Can't exec "/perl": No such file or directory at t/test_xml_split.t line 58, <FHSLURP> chunk 7.
xml_merge  t/test_xml_split_entities.xml: false
t/test_xml_split....................FAILED tests 1-2, 4, 6, 8, 10, 12, 14, 16, 18
        Failed 10/18 tests, 44.44% okay
t/test_xpath_cond...................ok                                       


	This happens with 28362 and 28498:

t/test_erase........................ok                                       
t/test_errors.......................dubious                                  
        Test returned status 0 (wstat 11, 0xb)
DIED. FAILED tests 4-110
        Failed 107/110 tests, 2.73% okay
t/test_even_more_coverage...........ok                                       
t/zz_dump_config....................ok                                       
Failed Test     Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/test_errors.t    0    11   110  214  4-110
Failed 1/88 test scripts. 107/2143 subtests failed.
Files=88, Tests=2143, 93 wallclock secs (41.47 cusr +  2.21 csys = 43.68 CPU)
Failed 1/88 test programs. 107/2143 subtests failed.

	
	28810 already has the first of the failures above (and only those):

t/test_3_27.t               82    3  8-10

	29010 and 29220 have

t/test_3_27.t                     82    3  8-10
t/test_additional.t    0    11   647   16  640-647

	which means it's yet another variant!

	29411 then has already the same behaviour as 29705.

	* Watch Paul Johnson's
	
	http://pjcj.sytes.net/cover/cpancover-5.9.5/

	I tested the not-availables with 29703

	Carp-Assert-0.18                       superceded by 0.20 which wfm
	Catalyst-Engine-Apache-1.07            not tested
	Catalyst-View-TT-0.24                  not tested
	DateTime-Locale-0.32                   wfm
	File-Modified-0.07                     wfm
	IO-Pager-0.06                          wfm
	Image-Size-3.01                        wfm
	Object-Signature-1.05                  wfm
	PerlIO-eol-0.14                        wfm
	Template-Plugin-Number-Format-1.01     does not specify dependency on Number::Format
	                                       but if Number::Format installed, wfm
	Template-Timer-0.04                    fails for me too but fails with 5.8.8 too
	Test-JSON-0.02                         wfm

	* Some instability in recent bleads wrt YAML. As soon as YAML is loaded
	perl gets slow and CPAN cannot install Text::Glob, the first module to
	be installed after YAML according to current dependencies.

	Yesterday I resolved it by putting YAML on the dont_load_list. Today I
	would prefer to find some indications towards a possible reason. The
	program hangs while parsing or writing FTPstats.yml such that no other
	program can use CPAN.pm because it waits for the lock.

	(Note: 29704 has arrived while I'm investigating)

% gdb -p 17086
GNU gdb 6.4.90-debian
Copyright (C) 2006 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i486-linux-gnu".
Attaching to process 17086
Reading symbols from /home/src/perl/repoperls/installed-perls/perl/pU42elH/perl-5.8.0@29672/bin/perl...done.
Using host libthread_db library "/lib/tls/i686/cmov/libthread_db.so.1".
Reading symbols from /lib/tls/i686/cmov/libnsl.so.1...done.
Loaded symbols for /lib/tls/i686/cmov/libnsl.so.1
[...]
Reading symbols from /home/src/perl/repoperls/installed-perls/perl/pU42elH/perl-5.8.0@29672/lib/5.9.5/i686-linux-64int/auto/B/B.so...done.
Loaded symbols for /home/src/perl/repoperls/installed-perls/perl/pU42elH/perl-5.8.0@29672/lib/5.9.5/i686-linux-64int/auto/B/B.so
Failed to read a valid object file image from memory.
0x08179c8b in Perl_leave_scope (base=497) at scope.c:627
627             switch (SSPOPINT) {
(gdb) bt
#0  0x08179c8b in Perl_leave_scope (base=497) at scope.c:627
#1  0x08177214 in Perl_pop_scope () at scope.c:99
#2  0x0818ddf8 in Perl_pp_return () at pp_ctl.c:2077
#3  0x080bd3eb in Perl_runops_debug () at dump.c:1875
#4  0x080ef6cc in S_run_body (oldscope=1) at perl.c:2398
#5  0x080eecfe in perl_run (my_perl=0x82d9008) at perl.c:2323
#6  0x0805e791 in main (argc=2, argv=0xbfd69b34, env=0xbfd69b40)
    at perlmain.c:113
(gdb) 

	By stepping with "n" I reach the seemingly endless loop:

1855            PERL_ASYNC_CHECK();
(gdb) 
1856            if (PL_debug) {
(gdb) 
1875        } while ((PL_op = CALL_FPTR(PL_op->op_ppaddr)(aTHX)));
(gdb) 
1855            PERL_ASYNC_CHECK();

	This is with 29672. I just retried to load YAML again and the hosts
	command did succeed, but it was slow (several minutes for 10000
	downloads)

	* Spreadsheet::ParseExcel broken recently. Also seems to affect
	Module::Plan::Lite. But binary search points to 29672 which cannot be to
	blame. SOLVED in rt.cpan.org

2007-01-05  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* is match/module compatible with SQLite? Is match/module the single
	cause for the slowness I encounter today? Is just 29679 broken? It
	cannot build PadWalker or it's just slow? Yes, it's only 29679. Something
	between YAML and the core. 78 and 80 are OK.

	I can add YAML to dont_load_list for 79, then build YAML::Syck and all
	goes well.
	
	* bug: force get on a dot distro removes {archived} which confuses make
	FIXED

	* distcc/ccache: I should use it for Tk. USING IT

	* Xvfb for testing Tk: Slaven writes

        Xvfb -fp /usr/X11R6/lib/X11/fonts/misc -ac :121 &
        env DISPLAY=:121 make test

	Also needed for POE which opens Tk windows.

2007-01-04  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* maybe have a is_tested command? The SVK revision 1694 is just a trial,
	probably needs a rollback. The problems come from concurrency. We
	currently are not supporting modules tested by a different process that
	runs simultaneously. So we should test it with a perl that has already
	finished megainstall.

	* Port auto_commit to 1.8803 . NOT NEEDED

2007-01-03  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Paul Johnson has put out Devel::Cover 0.60

	make test did not succeed for me on the SVN version. Must retry with
	0.60 proper. Same thing. Must try other perls.

	* concurrency: the most critical point at the moment seems to be the
	cleanup of the build directory and another process trying to access one
	of the directories with chdir to build_dir. This dies without a
	Distrostatus in

	Couldn't chdir to /home/k/.cpan/build/Term-ReadLine-Gnu-1.16-MacKnJ at lib/CPAN.pm line 8839

	Stupid use of croak(), we want die or confess and want to fix it when it
	happens again.

	Turned into confess in SVK rev. 1632

	* Are the dot directories documented? Where? Is chdir mentioned there?

	Yes, it was documented in the section "Integrating local directories"
	and I rewrote it a bit, it sounded too boring. It still sounds boring
	and leads me to the idea to support

	get:
	  commandline:

	I'll have to think some more about it. (Also consider Ingy's move to
	prefer SVN over CPAN)

	* somebody sending a Tk window during a test just waiting to be clicked
	away? Who is it? Tk itself? Maybe this was just a single revision? NO,
	it is Term::ReadLine::Gnu in t/callback.t. Wow, it compiles, apparently.
	But does it pass the tests? Can we disable this batch-unfriendly test?

	We cannot disable it without patching.

	We must click the window away and after that we still have tests failing.

	This looks ugly to me. I have Expect and can answer interactive
	questions but I have no robot to click a window away. For now I'll put
	T:R:Gnu before Tk in the megainstall. Needs a better solution.

	What was the name again of the environment variable for automated
	testing?

	David Golden once (2006-09-25 on perl-qa) stated 'AUTOMATED_TESTING --
	used by many authors to toggle tests for non-interactive situations', so
	it may be a de-facto standard. A long thread at the beginning of October
	more or less backed this proposal to signal unattended testing.

	ADDRESSED in rev. 1708

	* Remember to see after the Devel::Cover module. 0.60 fails tests and
	maybe needs a binary search again.

	* Hackaton in Munich? Slides for Munich!

	* Watch hosts statistics.

	* Todo: enable batch jobs to trigger cleanup of the build directory.
	Methods: scan_cache, tidyup, Variable: scan_cache. LOCK.

	No, only checklock needs to be made something official. Maybe rename to
	get_lock then.

	* Despite all the care that goes into the distroprefs directory, we
	always will fail on some distros that ask questions and hang forever.
	It's time to rethink a global way out of modules that hang in an IO
	operation.

	* 11-17 lists a few things for documentation.

	* make up your mind about install_tested.

2007-01-02  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* parrot is a bit of a mess, it seems. Why is CONTAINSMODS so tiny?

	At least I would expect

	CONTAINSMODS Inline::Parrot Inline::Parrot::parrot Parrot::Config Parrot::Embed Parrot::Interpreter Parrot::Test::Cardinal Perl::Critic::Policy::CodeLayout::UseParrotCoda SmartLink

	But *really* I'd expect several pages of output. But what I initially encountered was

	CONTAINSMODS Inline::Parrot Inline::Parrot::parrot

	Instead, I find quite a lot in

cpan[3]> d LTOETSCH/parrot-0.4.5.tar.gz
CPAN: LWP::UserAgent loaded ok (v2.033)
CPAN: Time::HiRes loaded ok (v1.9704)
CPAN: URI::URL loaded ok (v5.03)
Distribution id = L/LT/LTOETSCH/parrot-0.4.5.tar.gz
    CPAN_USERID  LTOETSCH (Leopold Totsch <lt@toetsch.at>)
    CONTAINSMODS Parrot::BuildUtil Parrot::Configure Parrot::Configure::Step::Base Parrot::Docs::Directory Parrot::Docs::File Parrot::Docs::Group Parrot::Docs::Item Parrot::Docs::POD2HTML Parrot::Docs::Section Parrot::Docs::Section::BigNum Parrot::Docs::Section::C Parrot::Docs::Section::Compilers Parrot::Docs::Section::Config Parrot::Docs::Section::Docs Parrot::Docs::Section::DynaPMCs Parrot::Docs::Section::EditorPlugins Parrot::Docs::Section::Examples Parrot::Docs::Section::IMCC Parrot::Docs::Section::Info Parrot::Docs::Section::Languages Parrot::Docs::Section::Libs Parrot::Docs::Section::Ops Parrot::Docs::Section::PMCs Parrot::Docs::Section::Parrot Parrot::Docs::Section::Perl Parrot::Docs::Section::Tests Parrot::Docs::Section::Tools Parrot::IO::Directory Parrot::IO::File Parrot::IO::Path Parrot::Op Parrot::OpTrans Parrot::OpTrans::C Parrot::OpTrans::CGoto Parrot::OpTrans::CPrederef Parrot::PIR::Formatter Parrot::Pmc2c Parrot::Pmc2c::Library Parrot::Revision Parrot::Test Parrot::Test::APL Parrot::Test::Harness Parrot::Test::PGE Parrot::Test::Perl6 Parrot::Test::Punie Parrot::Test::Python Parrot::Vtable
    UPLOAD_DATE  2006-06-19

	We have two bugs here. Only one is at CPAN.pm level.

	Oops, now I understand it: I had used ^C to break out of the slow loop.
	No wonder that I get less members.

	PROTECTED in rev. 1682

2007-01-01  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Is it possible that Tk gets installed twice per megainstall?

	Not in megainstall.20070102T1831.out

	But in megainstall.20070103T0336.out I see that 'NI-S/Tk-804.027.tar.gz'
	has 'make_test NO'. Looking at its YAML I see it is 'CALLED_FOR:
	Tk::HList'. So is Tk::HList lost in SVN?

	But this is again a case where browseentry failed and NOTHING got
	installed. Bug is reported, do not pay attention to more than one bug:)

	* Class::MethodMaker

lib/Class/MethodMaker.xs: In function 'XS_Class__MethodMaker_set_sub_name':
lib/Class/MethodMaker.xs:12: error: invalid lvalue in assignment
lib/Class/MethodMaker.xs:13: error: invalid lvalue in assignment

Module id = Class::MethodMaker
    DESCRIPTION  Create generic class methods
    CPAN_USERID  FLUFFY (Martyn J. Pearce <fluffy@cpan.org>)
    CPAN_VERSION 2.08
    CPAN_FILE    F/FL/FLUFFY/Class-MethodMaker-2.08.tar.gz
    UPLOAD_DATE  2005-11-26
    DSLIP_STATUS MdpOp (mature,developer,perl,object-oriented,Standard-Perl)
    MANPAGE      Class::MethodMaker - Create generic methods for OO Perl
    INST_FILE    (not installed)

	Given that https://rt.cpan.org/Ticket/Display.html?id=16241 is 12 months
	old, it seems abandoned.

	http://rt.cpan.org/Ticket/Display.html?id=22413
	http://aspn.activestate.com/ASPN/Mail/Message/perl5-porters/3342382

	The stupid thing is that there is a signature.t test and when we use
	distropref/patch to fix MethodMaker.xs, then the signature test breaks.
	Patching SIGNATURE does not help either because the file is signed. The
	solution is to patch 0-signature.t too and let it skip all tests.

	FINI.

	* Bug: The FTPstats file has been cleared once again. 1167639627.93624.
	Only 20 minutes ago. This must have happened when I killed the sluggish
	process. Now I made the writing of the FTPstats file atomic. FIXED in
	SVK rev. 1672

	* It seems that blead@20002 has difficulties with YAML or YAML::Syck.
	The binary search that I have running crawls and strace shows a lot of
	mremap activities and reading of FTPstats (maybe too often?) and long
	phases of no system calls at all. I kill the process and start again.
	Speed now seems normal. New zlib modules get installed. Some fail. There
	are many of them, all with 2.002 as version number--slightly confusing.
	Now CPAN::Injects demands prereqs. Compress::Bzip2 fails with "No rule
	to make target 'Makefile'". File-Find-Rule demands Number::Compare, gets
	it, finishes its own build and the tests and gets installed. Now for
	Data::Compare. It seems to get sluggish. CPAN::Checksums can't get
	installed because of missing Compress::Bzip2. Now somebody wants
	IPC::Run3 and we slowly seem to get it. I believe it is CPAN.pm which is
	losing too much time with some nonsense.

	* Somebody drops a daemon from a test running forever:

k        18692  0.0  0.0   2956  1328 pts/4    S+   Jan01   0:00 sh -c /home/src/perl/repoperls/installed-perls/perl/prOxRQY/perl-5.8.0@29651/bin/perl -Iblib/lib -Iblib/arch -I/home/src/perl/repoperls/installed-perls/perl/prOxRQY/perl-5.8.0@29651/lib/5.9.5/i686-linux-64int -I/home/src/perl/repoperls/installed-perls/perl/prOxRQY/perl-5.8.0@29651/lib/5.9.5 -I/home/src/perl/repoperls/installed-perls/perl/prOxRQY/perl-5.8.0@29651/lib/site_perl/5.9.5/i686-linux-64int -I/home/src/perl/repoperls/installed-perls/perl/prOxRQY/perl-5.8.0@29651/lib/site_perl/5.9.5 -I. examples/sslecho.pl 1212 examples/cert.pem examples/key.pem >>sslecho.log 2>&1

	lsof -p 18692
lsof: WARNING: can't stat() ext3 file system /dev/.static/dev
      Output information may be incomplete.
COMMAND   PID USER   FD   TYPE DEVICE    SIZE     NODE NAME
sh      18692    k  cwd    DIR    9,1       0 11390681 /home/k/.cpan/build/Net_SSLeay.pm-1.30-KYd1Uh (deleted)

	cpan[4]> m Net::SSLeay
Module id = Net::SSLeay
    DESCRIPTION  Secure Socket Layer (based on OpenSSL)
    CPAN_USERID  FLORA (Florian Ragwitz <rafl@debian.org>)
    CPAN_VERSION 1.30
    CPAN_FILE    F/FL/FLORA/Net_SSLeay.pm-1.30.tar.gz
    UPLOAD_DATE  2005-12-26
    DSLIP_STATUS Rmcfr (released,mailing-list,C,functions,restricted_distribution)
    MANPAGE      Net::SSLeay - Perl extension for using OpenSSL
    INST_FILE    /home/src/perl/repoperls/installed-perls/perl/pSJpiak/perl-5.8.0@29656/lib/site_perl/5.9.5/i686-linux-64int/Net/SSLeay.pm
    INST_VERSION 1.30


	The queue in RT is called "Net_SSLeay.pm"

	The report is http://rt.cpan.org/Ticket/Display.html?id=24180

	FINI.
	
2006-12-31  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* new PAUSE and own key!

	* Todo: autosave/autocommit DONE

	* Why do I always see

Prepending /home/k/.cpan/build/Graphics-ColorNames-2.0_04-fxepKY/blib/arch /home/k/.cpan/build/Graphics-ColorNames-2.0_04-fxepKY/blib/lib /home/k/.cpan/build/HTML-Tidy-1.07_01-wuI8Hl/blib/arch /home/k/.cpan/build/HTML-Tidy-1.07_01-wuI8Hl/blib/lib /home/k/.cpan/build/YAML-Syck-0.72-BMlTTF/blib/arch /home/k/.cpan/build/YAML-Syck-0.72-BMlTTF/blib/lib to PERL5LIB for 'make'
	
	Graphics::ColorNames   is a goto and a Module::Build
	HTML::Tidy             is a goto
	YAML::Syck             nothing special visible, maybe an artefact
	                       because it is involved in writing and reading
	                       status information?

	There must a bug in the goto implementation.

	Yes, the bug is visible when doing a manual install of
	Graphics::ColorNames in that the test is run twice. A part of the reason
	seems to be that the distro stays on the queue when we have finished
	installing it. The solution might be to remove it within the goto method.

	DONE in SVK rev. 1652

	And for YAML::Syck I find indeed the artefact AND a bug in the reanimate
	routine. I wrote $obj->{make_install} but it should be {install}.

	FIXED in SVK rev. 1653

	* Todo: verify that CPAN_RUN_SHELL_TEST_WITHOUT_EXPECT=1 still works.

	It's incredible slow. Maybe the $prompt_re is inefficient? No, the
	problem is that the more tests we have, the longer is the string that
	needs testing. The output must be split on the prompt and then tested
	one piece at a time. This is a hard job because we do not know where to
	split. 31sessions.t seems better, let's move there and go away from
	30shell.t. For now we can short circuit after the first fail. This still
	is extremely slow.

	Found it. There was a /.../s in the wrong position, it modified the
	$expected regex. FIXED in rev 1654.

2006-12-30  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: bring fforce, document force and fforce. DONE in SVK rev. 1650

	* New bug in testcover:

	t/31sessions.......ok 24/0Don't know which tests failed: got 26 ok, expected 0

	FIXED

	* Todo: bring back fforce. It was the SVK revision 1496 that
	extinguished it. And the subroutine itself was missing altogether. And
	1487 and 1490 introduced it. DONE

	* Paul Johnson is continuing his work on Devel::Cover but 30shell.t
	still triggers a bug somewhere , described in a P5P posting thusly:

	When I use bleadperl@29569 instead, the process grows to 38 MB virtual
	size and finishes after about 12 minutes. With blead@29570 I run into
	the timeout.

	I'm now trying to get more output from the running process:

	HARNESS_PERL_SWITCHES=-MDevel::Cover make test TEST_FILES=t/30shell.t TEST_VERBOSE=1

	It hangs after

	# NEXT: b Bundle::CpanTestDummies
	# EXPECT: \sCONTAINS.+?CPAN::Test::Dummy::Perl5::Make.+?CPAN::Test::Dummy::Perl5::Make::Zip(?s:.*?cpan[^>]*?>)

	Even if I turn on debug all, output stops there and memory consumption
	is infinite.

	It looks like Expect is holding back the output that could pinpoint the
	problem, so let's try with

	CPAN_RUN_SHELL_TEST_WITHOUT_EXPECT=1 HARNESS_PERL_SWITCHES=-MDevel::Cover make test TEST_FILES=t/30shell.t TEST_VERBOSE=1

	This prints "Out of memory" and dumps core, but I cannot find the core
	file. Sure, because the other process that parses the output just
	removes the whole dot-cpan directory in its END block. A die() does not
	cancel the END block!

	So we move the cleanup code out of the END so we can analyse the
	debugging statements from 'o debug all'.

	I replaced a $_ with a lexical and could run more tests after that.
	Before it was always failing after test 154, now it fails after 164:
	'force ls ANDK' is the last ok and the command that fails is 'test
	CPAN::Test::Dummy::Perl5::Make'. In the test.out I see that make goes OK
	and after that follows nothing.

	Here comes the big surprise: when I turn debugging on for this and the
	next command, the third one fails. Ahh yes, this is a bug in 30shell.t
	itself. The expected regexes must be longer to avoid false positives
	that hide bugs in the testsuite for a long while.

	And now, all of a sudden, the tests run through? No wild process
	anymore? Well, a lot of them fail but the crazyness is just over?

	Yes. We'll go back a few steps and forward and see if we can identify
	something.

	My impression is that the four lines in the chunk after 6981 are
	responsible where I replaced $_ with $dirent. We'll see.

	Update 2006-12-31: No, this change alone does not bring the bug back.

	What about svn up -r 1432? Is the nightmare reproducable at all? Yes.
	With bleadperl@29642 and devel-cover SVN rev. 190 and CPAN.pm SVN rev.
	1432 and the command

	HARNESS_PERL_SWITCHES=-MDevel::Cover make test TEST_FILES=t/30shell.t TEST_VERBOSE=1

	I can see the bug again: after test 154 I see this output:

	ok 154 -  (testing command 'b')
# NEXT: b Bundle::CpanTestDummies
# EXPECT: \sCONTAINS.+?CPAN::Test::Dummy::Perl5::Make.+?CPAN::Test::Dummy::Perl5::Make::Zip(?s:.*?cpan[^>]*?>)

	and then the process grows to 2.9 GB.

	FINISHED with a status report.

2006-12-29  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Between 29627 and 29637 we have a major breakage in perl. Perl builds
	fine but fails many tests. The first test that fails is io/open.t and it
	has not changed. It's something about my($f) and local($f) but I have
	not one liner yet that demonstrates it. make regen in any case does not
	help.

	Ahhh, here it is:

	eval {open my $f, '<', '/etc/hosts';};
  open local $f, '<', '/etc/passwd';

	This is silent in 27 and barks with 35 and 37:

	Can't localize lexical variable $f at tests/my-local.pl line 3.

	Now binary search runs..... 28 ok, 29 not ok.

	Jarkko reports these:

> Linux:
> http://www.nntp.perl.org/group/perl.daily-build.reports/43396    29609
> http://www.nntp.perl.org/group/perl.daily-build.reports/43381    29604
> 																														     
> AIX:																												     
> http://www.nntp.perl.org/group/perl.daily-build.reports/43428    29609
> http://www.nntp.perl.org/group/perl.daily-build.reports/43395    29604
> 																														     
> OpenBSD:																										     
> http://www.nntp.perl.org/group/perl.daily-build.reports/43414    29609
> http://www.nntp.perl.org/group/perl.daily-build.reports/43374    29599

	That's something different. So I reported the 29er to p5p. It's since
	been fixed in 29639.

2006-12-28  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Bug in SQLite: if I type "install TAB" I only get completion for the
	modules that have already been loaded:

cpan[5]> install             
Acme::Meta      Danga::Socket   POSIX           Sys::Syscall    Time::HiRes
DBD::mysql      IO::Poll        Socket          Test::More      fields

	Reported to and FIXED by Randy.

2006-12-27  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* #24114 by Steve says that we do not survive without YAML!

	Trying to fix with overloaded Exception classes leads to more changes
	than I feel comfortable with without writing new tests. So we need tests
	that test missing YAML and YAML::Syck. Maybe Test::Without::Module might
	help?

	No. The tricky way that CPAN.pm is using to load modules is not suited
	for T:W:M. I have tried it and I see YAML gets loaded without
	hesitation. But I recall we have dontload_list. Very nice.

	IMPROVED in SVK rev. 1639 and added tests in 31sessions.t since then.

	* document the major change to the force pragma and find tests that
	enforce that

	* document how test repete is supposed to work and find tests that
	enforce that

2006-12-26  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Paul Johnson has already fixed #24067 in his repository. Unfortunately
	he sends me a link to svnweb instead of the repository itself. Svnweb
	itself neither gives machine readable output nor does it provide a link
	to the repository.

	Fortunately one can guess it: svn ls http://pjcj.sytes.net/svn/Devel-Cover

	Repository version passes all tests.

2006-12-25  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* I don't know how to prevent SQLite dieing due to locked database.
	Because it happens such that a batch process reads the database and an
	interactive process tries to write the database. The latter does not
	know about the other. Both know nothing about each other beforehand.
	Then they clash and I cannot find out.

	FIXED (at least improved) by Randy

2006-12-24  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Todo: create a second shell test, say 31force.t that starts from
	scratch and studies the variants without having to wait for many minutes

	It would be good if we had a test script that allows us to visit
	multiple sessions. It would not really need Expect.pm! We make short
	sessions instead. 31sessions.t is it. Test::Base or what? No, it doesn't
	convince me but I don't know why.

	* after SVK rev. 1604 doing a megainstall from scratch a second time to
	study the differences tomorrow or in the late evening.

	Later... looks good. But crazy that we find both DBD::mysql 4.00 and
	3.0008 in the failed departement (Update 2006-12-26 akoenig : reported
	as http://rt.cpan.org/Ticket/Display.html?id=24096). And the second
	anomaly that .../svn/tk/. succeeded at 17:28 but not at 11:45. Not much
	for 5100 diff chunks.

	* Rethinking once again 'force test'. Right now I see "Has already been
	tested successfully" within one session but not when I start a session.

	This needs to change because our big force redesign should let us say
	'force test thing' when we really want just exactly that and should save
	us the time when we really know this has been tested OK.

	I think this happens in SVK rev.1604

	* Buglet: if I do a 'force get thing' then I get a new build_dir for the
	thing. If I had done a 'test thing' before then the old build_dir is in
	the is_tested hash/set/database and survives in the paths prepended to
	PERL5LIB

	FIXED in SVK rev. 1589

	But wait! If we have many variants of one distro in PERL5LIB, then all
	hell breaks loose because we possibly do not get the right one as the
	first. We need to sort by something. DONE in upcoming SVK rev. 1604.

	Oh, and we need to filter out the installed ones. So we really must tie
	the distros and the is_tested stuff together. Makes no sense to prepend
	test-directory-X to PERL5LIB when X is installed. FIXED for the
	make_install attribute: this was lost because there was an early return
	on success in CPAN::Distribution::install().

2006-12-23  Andreas J. Koenig  <andreas.koenig.7os6VVqR@franz.ak.mind.de>

	* Remember to see after the Devel::Cover module

	http://rt.cpan.org/Ticket/Display.html?id=24067

	It seems to me that the CC to p5p did not come through. Need to re-check
	and forward it myself. But give it time to bite its way through.

2006-12-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* After misguided downgrade:

WebService::Bloglines          0.06      0.12  MIYAGAWA/WebService-Bloglines-0.12.tar.gz

	After upgrade back to 0.12:

WebService::Bloglines::Subscriptions      0.02      0.06  MIYAGAWA/WebService-Bloglines-0.06.tar.gz

	Similar case for YSAS and SWF::Builder::Shape. For both I use "reset
	version" on PAUSE directly. FIXED.

	* Todo: disable concurrent writes via SQLite or disable SQLite for the
	degraded second. See mails from Randy from today

2006-12-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* badtestcnt is buggy. color_command_temps(0) deletes it and the next
	command then will behave differently. Trying to stop deleting it I
	experience

	make-test-20061222T223413:
	    fails                              none
	    does delete badtc for distros?       no
	    test 199 sharp?                      no

	make-test-20061222T222907:
	    fails                              none
	    does delete badtc for distros?      yes
	    test 199 sharp?                     yes

	make-test-20061222T221432
	    fails                               199
	    does delete badtc for distros?       no
	    test 199 sharp?                     yes

	Working over the expected regular expressions seems necessary because
	some of them match too early and it becomes impossible to determine
	which test really fails.

	So now we have

	make-test-20061223T160632
	    fails:                              199
	    does delete badtc for distros?       no
	    test199 sharp?                      yes

	Apparently we once decided that badtestcnt shall be kept until a command
	is finished. To prevent repeating the same test within one command. And
	when the command finishes, in the very last moment, we would remove the
	badtestcnt so that the next command would test the same distro again.
	Because we hope that a failing test can turn into success due to
	external factors. From this point of view badtestcnt is programmed
	correctly.

	But I had changed strategy when persistence entered the game. I wanted
	to not repeat failed tests at all to speed things up, didn't I? And what
	did I encounter?

	Needs to be specified in full length first. Do we want to repeat testing?

	            command     session     restored_state
	Distro
	  OK          no          no          no
	  FAIL        no          yes         yes
	Module/Bundle
	  OK/FAIL     pass everything through to underlying distros

	The problem is, I think, that when we store state, we quite often get
	"badtestcnt" in the state because we store it before the command is
	finished. So if we simply delete badtestcnt when we restore state, we
	should be pretty much out of the danger zone.

2006-12-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Intermittent test failure on DateTime-Util-Calc:

20061203T2111.out:#   Failed test '0.901330 == 0.901330'
20061211T0716.out:#   Failed test '0.609380 == 0.609380'
20061212T2316.out:#   Failed test '0.592640 == 0.592640'
20061217T2212.out:#   Failed test '0.788770 == 0.788770'
20061219T0016.out:#   Failed test '0.154410 == 0.154410'
20061219T0530.out:#   Failed test '0.342450 == 0.342450'
20061219T2245.out:#   Failed test '0.874790 == 0.874790'
20061220T2321.out:#   Failed test '0.840630 == 0.840630'

	Reported as http://rt.cpan.org/Ticket/Display.html?id=24028

	FIXED

2006-12-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* integrate applypatch such that we determine where it lives and if a
	patch is written for applypatch we use it. DONE

2006-12-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Hackaton in Munich?

	* Bug: still the dependency on YAML::Syck in the Makefile DONE in SVK
	rev. 1560

	* Bug: hosts statistics was cut off before Dec. 17. For now I've added a
	mandatory debugging line to see it when it happens.

	Saw it again. I suspect that somebody without YAML gets an empty stats
	arrayref and later comes to the conclusion that he may write the first
	record.

	Most probably fixed now. The code that truncated did not check if we
	were really able to write afterwards. (Log starts: Mon Dec 18 14:19:10
	2006)

2006-12-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* See recent bugreport on modules against pause indexer and version
	objects and consider how it affects us here. SEEMS OK.

	* From an Email from Ingy to Steffen Mueller:

The idea is to make things a lot easier for a lot more people to be
involved. Well that's part of the plan anyway. Mostly I intend Kwiki to
be downloadable and installable via subversion rather than cpan.

While I don't intend to completely abandon cpan, I also am not so
interested in keeping cpan up to date. Really it should be automated
somehow. Anyway, all this is to say that if you want to shepard Kwiki on
cpan, you are most welcome to.

	An argument for "commandline" but maybe for even more.

	Commandline is DONE.

	* priorities today: force, commandline (DONE)

	* DBD::mysql: I'm sure there is just a defined() somewhere missing in
	the Makefile.PL. Seems to be FIXED by 4.00.

	* DBD::SQLite again: With bleadperl 29398 and current CPAN.pm I tried to
	install /home/src/perl/cpan-sql-stuff/CPAN-SQLite/. but again it failed
	because DBD::SQLite did not write its SQLite.xsi file. I fear there's
	something being (not) done in the Makefile.PL instead of during make.

	Yes. On the second try DBD::SQLite builds perfectly well. So one must
	make sure that they are installed in this order. Maybe this is normal
	for DBDs? I have never noticed this before. Hrm. This would be a case
	for re-running perl Makefile.PL after building the prereqs.

	If we had 'commandline', we would write

make:
	commandline: "$PERL Makefile.PL; make"

	Or something like that. Will test as soon as we have 'commandline'.

	DONE

	* priorities: bugfixing; SQLite; Kwalify;

	redesigning the force pragma: biggie; see showstopper alert

	distroprefs left over: single ersatzcommand for the test mantras: we
	currently can change the make command and the arguments at the end but
	the word test is always on the command line and this looks silly. But
	maybe not worth a new keyword. But I've also proposed ->{test}{skip}, so
	the two can be folded perhaps? ---- On the bycicle it occurred to me: we
	add "commandline" to each of get/make/test/install and then the user can
	even say "cvs up" or "perl -e 1". I like it.

	* I'm convinced now that we need more force flavors and that force shall
	be limited in scope

	force get     shall re-fetch
	force make    shall not re-fetch   but run make again
	force test    shall not make again but try to test again
	force install shall not test again but try to install

	* But when we have four different force flavors, we will demand a
	superforce that works like the force now does and sets all "lower" ones?

	* Todo: when fixing force note that the documentation about force is in
	three places: CPAN::{Bundle,Distribution,Module}::force.

	* Bug that has to do with install_tested or build_dir_reuse or degraded
	shell mode or some use of ^C at the wrong moment:

  PEREINAR/File-Which-0.05.tar.gz              : install NO

	But File::Which is installed. Maybe in a concurrent shell. When I ask
	for 'install File::Which' I get 'is up to date' and nothing gets
	repaired. When I ask for 'install PEREINAR/File-Which-0.05.tar.gz' then
	the thing gets tested but not installed because 'Already tried without
	success'.

	Are we in trouble?

	Maybe we must rethink how 'force test' works. It should not 'force get',
	and 'force make', it should just test and not refuse to do it.

	Or we must compute the COMMANDID better than we do during reanimate and
	treat negative COMAMNDIDs with more rigor in some constellations?

	The thing is that the module object for File::Which knows about the
	correct distro object but it gets the installed version from @INC and
	does not know who put it there and so should not be able to discard the
	distro object. Hmmm.

	Remember, we have the notest pragma! Maybe we can let install_tested
	support both the force and the notest pragma and are through?

	But no, even 'notest install ...' does not succeed because we need
	force, not notest, but force propagates down until we restart with get.
	This is, of course a last resort, but it's no fun:-(

	SHOWSTOPPER ALERT!

	At least I get the impression this extreme case happens only on ^C, but
	some other methods of dieing will certainly exist as well.

	* Observing in a shell in degraded mode: it wrote a new Metadata file.

	* Observing how install_tested behaves: within the same session it
	installs without retesting. In a new session it does retest. What
	*should* it do?
	
	Noting that the DH test runs forever again because GMP comes too late.

	* Investigate if I want Math::Bigint::GMP in the core. Think of
	Crypt::DH and the horrible test timings when Math::Bigint::GMP is not
	installed

	* find out why upgrade always upgrades
	Apache::Session::Generate::ModUniqueId and ...::ModUserTrack.

	Seems to be Apache-Session-1.81/Session/Generate/ModUniqueId.pm and
	Apache-Session-1.81/Session/Generate/ModUsertrack.pm

	SO OK, nothing to worry.

	* The Net::SSH::Perl test 03-packet still runs forever even with
	Math::Bigint::GMP. Maybe this is completely unrelated? Yes! No load!
	Report sent. But can we patch it? Maybe not as long as Math::Pari and
	Crypt::Random are prereqs and fail themselves.

	* In Crypt::DH rewrite the test so that TEST_VERBOSE tells us timings
	and Math::BigInt internals. No need! It's Math::Bigint again. Test is
	really quick with Math::Bigint::GMP installed. Note that Math::GMP is
	not enough. But can we patch it?

	* CPAN::Checksums -> Data::Compare -> File::Find::Rule ->
	Number::Compare
	
	* I wanted to watch some scenarios with persistent data. Especially with
	modules that work and that are being tested again and again with prereqs
	and without or within bundles and if they are retested or not, installed
	or not with persistence and within the same session.

	Write a megatest?

	* Study "pip" by Adam K (in Module-Plan-Base) and CPAN::Mini::Tested and
	CPAN::Mini::Phalanx100 and also see what we can do for
	Module::ThirdParty

	* Provide an API or documentation how to find out the CPAN::Config
	variables.

	* Now I know the first bug in install_tested: it re-tests already
	installed modules.

	* One thing we do not support yet in distroprefs is adding dependencies
	without patching. Shall we?

	* Bug in T:B:

	Text::Balanced            v1.99.1_1      1.98  DCONWAY/Text-Balanced-1.98.tar.gz

	Bug reported as http://rt.cpan.org/Ticket/Display.html?id=23968

2006-12-16  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug? Binary search seems to run incredibly slow today for
	POE::Component::Client::DNS and I had already the same impression
	yesterday for L:M:Gettext.

	Hopefully fixed by caching negative results of _sqlite_running.

	* Bug? I suddenly see less than 76 dots when we read 01mailrc.txt.gz:

Going to read /home/ftp/pub/CPAN/authors/01mailrc.txt.gz
............................................................................DONE

	Happening during a binary search with perl-5.8.0@20373.

	Oops, scratch that, this is exactly 80 colums and I just have a broader
	terminal:)))

2006-12-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* #23887 has a patch. DUPLICATE of 23933. #23933 ! ANSWERED

2006-12-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: enable batch jobs to trigger cleanup of the build directory.
	Methods: scan_cache, tidyup, Variable: scan_cache. LOCK.

	No, only checklock needs to be made something official. Maybe rename to
	get_lock then.

2006-12-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* #23887 has a patch. DUPLICATE of 23933.

2006-12-10  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Buglets with sqlite: does not correctly deal with SVN::Core and
	Bundle::Pause. Things not on CPAN.

	Something else coming from megainstall and some debugging code has been
	added to produce inspection evidence:

Panic: obj[--- 
reqtype: r
] cannot meth[install]

	So we somehow produce an empty object that has nothing but reqtype set.
	I saw this for the first time with SQLLite. Today, with megainstall,
	when I turn SQLite off, the bug does not happen. But the bug might be in
	CPAN.pm as well, we must trace it back to the origin of this weird hash.

	Update 2006-12-12: it is happening with SVN::Client

	The bug was hidden for a few days when DBI was broken but came back when
	DBI got a patch from  Nicholas.

	I think I just fixed it in exists. But still I find

Use of uninitialized value $fullid in substitution (s///) at /home/src/perl/repoperls/installed-perls/perl/ph5rQVg/perl-5.8.0@29559/lib/site_perl/5.9.5/CPAN/SQLite/Util.pm line 178.
Use of uninitialized value $fullid in concatenation (.) or string at /home/src/perl/repoperls/installed-perls/perl/ph5rQVg/perl-5.8.0@29559/lib/site_perl/5.9.5/CPAN/SQLite/Util.pm line 179.

	in the logfile. And now this has been fixed in C:S CVS version too.

	* From an Email from Ingy to Steffen Mueller:

The idea is to make things a lot easier for a lot more people to be
involved. Well that's part of the plan anyway. Mostly I intend Kwiki to
be downloadable and installable via subversion rather than cpan.

While I don't intend to completely abandon cpan, I also am not so
interested in keeping cpan up to date. Really it should be automated
somehow. Anyway, all this is to say that if you want to shepard Kwiki on
cpan, you are most welcome to.

	An argument for "commandline" but maybe for even more.

2006-12-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* On 1367 broke 30shell.t and up to 1372 it was not fixed. The failure
	at 1367 happens at

	test CPAN::Test::Dummy::Perl5::Build
	doesN'T match [[[test\s+--\s+OK(?s:.*?cpan[^>]*?>)]]]!

	at 1372 we come to

	install CPAN::Test::Dummy::Perl5::Build
	doesN'T match [[[is up to date|SAW MAKE[\s\S]+?SAW MAKE[\s\S]+?SAW MBUILD(?s:.*?cpan[^>]*?>)]]]!

	after tweaking 30shell.t to reveal the real difference between the two
	versions I find what is now new:

#   ANDK/CPAN-Test-Dummy-Perl5-Build-1.03.tar.gz
# Tests succeeded but one dependency not OK (CPAN::Test::Dummy::Perl5::Make::Zip)

	instead of previous:

#   ANDK/CPAN-Test-Dummy-Perl5-Build-1.03.tar.gz
#   ./Build test -- OK
# Running Build install

	So why is Zip not OK? Maybe because we "installed" it with a fake
	install command? It did not arrive in an install directory but it was
	removed from the "is_tested" directories and then not prepended to
	PERL5LIB?

	Yes, that seems the correct interpretation. The old test was not
	revealing that, the new code is. So we improved the code that much that
	it does not allow the faked-up test anymore.

	OK, this shows us how important it is that each test tests only one
	thing. This Build module tests a bit too much so we cannot easily
	recognize how to interprete a failure and we break the first rule of
	testing zen: tests are there to find bugs.
		
	* Todo: when fixing force note that the documentation about force is in
	three places: CPAN::{Bundle,Distribution,Module}::force.

	* integrate the use_sqlite and sqlite_dbname parameters before _65 DONE.

2006-12-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Another problem with goto is that if people say upgrade, the newer
	version will be tried again, will goto the other and then the same
	version as the installed one will be built and installed again. Probably
	too rare a case to worry about. Goto is always a temporary solution.

	* XML::Feed and XML::RSS cooperation continues to exhibit bugs: 

	t/05-atom10-link......ok
	t/06-atom10...........ok
	t/07-atom10-create....ok
	All tests successful.
	Files=7, Tests=171,  9 wallclock secs ( 7.08 cusr +  0.42 csys =  7.50 CPU)
	  BTROTT/XML-Feed-0.12.tar.gz
	Tests succeeded but one dependency not OK (XML::RSS)
	Running Build install
	  make test had returned bad status, won't install without force

	So although XML::RSS was installed successfully, it is not uptodate. But
	it's goodenough for XML::Feed which demands version 1.01. We have 1.12
	and CPAN has 1.21 but 1.21 is disabled now with a goto.

	Maybe we check for uptodateness in the wrong place?

	No, we checked if the newest distro completed its tests.

	FIXED in SVK rev. 1516

2006-12-06  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* http://rt.cpan.org/Ticket/Display.html?id=23588

	Not fixed with XML::RSS 1.21! Now re-reported as

	http://rt.cpan.org/Ticket/Display.html?id=23822

2006-12-05  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* With all the care that goes into the distroprefs directory, we always
	will fail on some distros that ask questions and hang forever. It's time
	to rethink a global way out of modules that hang in an IO operation.

	* Todo: make the distropref schema even easier accessible like with a
	manpage.

2006-12-04  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug reported by Sendu Bala: it can really happen that CPAN.pm deletes
	a build_dir while the owner is still in the queue.

	testshell-with-protocol cannot reproduce by setting build_cache to 0.1,
	not even with 0.001, and not even with 0.

	Recall: during the first "get" the cachemgr is introduced. It is global
	and gets never replaced and so should never be called again for
	scan_cache.

	I ask Sendu to explaint he circumstances and he brings an example where
	somebody calls CPAN.pm recursively. No, I don't consider this a bug. and
	besides, it won't happen in 1.89 anymore *although* I do not consider it
	a bug.
	
	* Bug: Goto does not work as it should for XML::RSS. Currently I see
	that XML::Feed is tested before XML::RSS is installed. First X:F has the
	prereq to X:R, so X:R is processed. It has a prereq of Test::Manifest
	which is processed and installed. Then comes X:R again but it says:

  /usr/bin/make  -- OK
Running make test
  Delayed until after prerequisites
Running make install
  Delayed until after prerequisites

	And then immediately comes X:F's test and fails. X:R is dropped from the
	queue somehow.

	And undelay and goto do not know each other. Because goto does not jump
	on the queue, I suppose.

	FIXED in SVK rev. 1508

	* Bug: The current Makefile has an implicit dependency on YAML::Syck

	This was a bug in MANIFEST.SKIP which excluded the .dd files in
	distroprefs/

	FIXED in SVK rev. 1506

2006-12-03  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Maybe I should undo the too far going changes I did in the preparation
	for a better force implementation and make a _64? Force could delay the
	next release considerably.

	OK, the three occurrences of fforce are gone. What else?

2006-12-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* find a way to treat kwalify such that the schema is documented and can
	be accessed directly. And such that not only YAML::Syck can read it.
	Current solution confuses YAML.

	After some rewriting of CPAN::Kwalify I'm stuck with this:

% /home/src/perl/repoperls/installed-perls/*/*/perl-*@29438/bin/perl -e '
use Kwalify; use File::Slurp qw(slurp);
my($schema,$data) = map { eval slurp $_ } @ARGV;    
Kwalify::validate( $schema, $data );
' ./lib/CPAN/Kwalify/distroprefs.dd ./distroprefs/RGIERSIG.Expect.dd  
[/make] Expected subschema (a hash)

	While this succeeds:

% /home/src/perl/repoperls/installed-perls/*/*/perl-*@29438/bin/perl -e '
use Kwalify; use YAML::Syck;
my($schema,$data) = map { YAML::Syck::LoadFile($_) } @ARGV;
Kwalify::validate( $schema, $data );
' ./lib/CPAN/Kwalify/distroprefs.yml ./distroprefs/RGIERSIG.Expect.yml

	The solution is to use $Purity=1 for Data::Dumper transformations as
	described in the Data::Dumper manpage. Thanks to Slaven for digging it
	out for me.
	
	* priorities today: force, expect, commandline

	backtrack: kwalify in separate package

	* My talk proposal http://www.perl-workshop.de/auth/my/edittalk?id=46

	Module Morphing. Module Taming. Module Killing. Talkback. cpan DOT
	(bring your own)! Persistent or Permanent Shell? Upgrade. Test Now,
	Install Later. Configure Your Pick. Color. Kovaric.

	Wasn't that Kolaric? Oops. My memory betrayed me.

2006-12-01  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: while trying a goto in KCLARK.SQL-Translator.yml that should
	point to JROBINSON/SQL-Translator-0.08_04.tar.gz nothing works as
	expected. CPAN tries to download pub/CPAN/authors/id/JROBINSON (without
	the J/JR/). All other 4 gotos still seem to work.

	Is this because it is from today or because JR has 9 letters?

	Testing JROBINSON/SQL-Translator-0.08_04.tar.gz directly is no problem.

	fixed in SVK rev 1474
	
	* Release the two new bundles

	* XML::Twig's tests fail and when looking around one eventually finds
	http://xmltwig.com/ where there is a 3.27 version. No repository access.
	Looks like another case for 'we want "get URL"'. Or theoretically
	someone could just release it to CPAN as 3.27_20061201.tar.gz and then
	treat it with a goto. But that smells.

2006-11-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todos reshuffled.

2006-11-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* DBD::mysql: I'm sure there is just a defined() somewhere missing in
	the Makefile.PL

	* Need to patch Module::AutoInstall and test antirecursion with an
	environment variable. Errr, I need to patch the inc/ directory of
	Plagger then. Done and patch for now in the patches directory.

	Remember that there's also a rant in 00.README -- No, this is already
	gone.

	http://rt.cpan.org/Ticket/Display.html?id=23735 now suggests a patch

2006-11-28  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* DBD::SQLite again: With bleadperl 29398 and current CPAN.pm I tried to
	install /home/src/perl/cpan-sql-stuff/CPAN-SQLite/. but again it failed
	because DBD::SQLite did not write its SQLite.xsi file. I fear there's
	something being (not) done in the Makefile.PL instead of during make.

	Yes. On the second try DBD::SQLite builds perfectly well. So one must
	make sure that they are installed in this order. Maybe this is normal
	for DBDs? I have never noticed this before. Hrm. This would be a case
	for re-running perl Makefile.PL after building the prereqs.

	If we had 'commandline', we would write

make:
	commandline: "make; $PERL Makefile.PL; make"

	Or something like that. Will test as soon as we have 'commandline'.

	* Observing that expect-in-any-order is much slower than expect (of
	course) and that one could safe minutes for Plagger if a timeout were
	set to 0.1 or so.

	Update 2006-12-17 akoenig : low global timeout value does not work
	because the first question has a few seconds to wait for whatever. So
	one would really need tiemouts per question and in the case of anyorder
	one would have toi calculate the current maximum for the timeout and
	while this would be doable it would be overspecification, too much to
	learn for the user with too little gain to be made. REJECTED

2006-11-27  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: if some other processes have deleted my build_dir while I was
	running, heck maybe I can do that even myself, react accordingly

	DONE.

2006-11-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* bug:

	force get /home/src/perl/cpan-sql-stuff/CPAN-SQLite/.

	goes through all of urllist and tries to download
	ftp://cpan.mirrors.skynet.be/pub/CPAN/authors/id//home/src/perl/cpan-sql-stuff/CPAN-SQLite/.
	etc.

	And after that we cannot work with the
	/home/src/perl/cpan-sql-stuff/CPAN-SQLite/. directory anymore, somehow
	the internal state has lost the connection to the real directory.

	Without the force it works nicely and says:

	Is already unwrapped into directory /home/src/perl/cpan-sql-stuff/CPAN-SQLite/.
	
	FIXED in SVK rev. 1487

2006-11-25  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* priorities: bugfixing; SQLite; Kwalify;

	redesigning the force pragma: biggie; see showstopper alert

	distroprefs left over: single ersatzcommand for the test mantras: we
	currently can change the make command and the arguments at the end but
	the word test is always on the command line and this looks silly. But
	maybe not worth a new keyword. But I've also proposed ->{test}{skip}, so
	the two can be folded perhaps? ---- On the bycicle it occurred to me: we
	add "commandline" to each of get/make/test/install and then the user can
	even say "cd .... && cvs up" or "perl -e 1". I like it.

	11-17 lists a few things for documentation.

	restructure the expect keyword family DONE

	TTL stuff

	make up your mind about install_tested.

2006-11-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* But when we have four different force flavors, we will demand a
	superforce that works like the force now does and sets all "lower" ones?

	* Todo: distroprefs mechanism is still inefficient in that it scans too
	often the whole distro_dir. (But it's super to have that while
	developing new rules)

2006-11-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* I'm convinced now that we need more force flavors and that force shall
	be limited in scope

	force get     shall re-fetch
	force make    shall not re-fetch   but run make again
	force test    shall not make again but try to test again
	force install shall not test again but try to install

2006-11-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* document build_requires and when you talk about prerequisites, name
	the option names explicitly.

2006-11-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-11-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Randy sent rkobes-cpan4.diff which should fit to cvs rev. 1.21 of
	CPAN/SQLite.pm.

2006-11-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-11-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* kwalify schema language: http://rubyforge.org/frs/?group_id=815&release_id=5513

	Docs: http://www.kuwata-lab.com/kwalify/users-guide.01.html

	Yaml mode: http://svn.clouder.jp/repos/public/yaml-mode/trunk

	cvs -d :pserver:anonymous@srezic.cvs.sourceforge.net:/cvsroot/srezic co Kwalify

	/home/src/perl/srezic/Kwalify/.

	Todo: integrate schemacheck into a test and put Kwalify into the Bundle

	for f in distroprefs/*.yml; do
	  /home/src/perl/repoperls/installed-perls/perl/pSI5eZY/perl-5.8.0@29319/bin/pkwalify -f cpan_distroprefs_schema.yml $f 
	done

2006-11-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* make _get_urllist a public method for Randy.

	* Write manpage for CPAN::HandleConfig, esp load().

	* I realize that CPAN::FTP::localize is undocumented and is what Randy
	wants.

2006-11-16  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-11-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Integrate hosts into $META like authors, distributions, and modules?
	If we're cautious, this might turn into an automatic optimization.

	If Coro does index downloads for us, we do not have to fear slow
	connections and can gather better data.

2006-11-14  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Randy says:

	The only data CPAN::SQLite really needs from CPAN.pm is:
	- a location to store the database file; for this,
	it's presently using $CPAN::Config->{cpan_home},
	which I believe is the same location as Metadata;
	- the name of the database file; in this I've been
	using a new config entry $CPAN::Config->{sqlite_dbname},
	or 'cpandb-sqlite', as a default;
	- the location (directory) beneath which the CPAN
	indices are kept; I've been using
	$CPAN::Config->{keep_source_where}, assuming
	it's a simple directory.
	
	The guessing for this in CPAN::SQLite comes when it's
	not being run under CPAN.pm.
	
	As for CPAN::SQLite providing data to CPAN.pm,
	that's being done solely in CPAN::SQLite::META,
	and it uses
	  $CPAN::META->instance($class => $id)->set(%data);
	for everything, except for CONTAINSMODS, where
	it uses
	  $d = $CPAN::META->instance($class => $id);
	  $d->{CONTAINSMODS} = \%list_of_mods;
	
	* Catalyst would be another candidate for a large dependency list.

	* Guessing of -p0/-p1 for patch maybe wrong if the patch tries to create
	a new file against, say, /dev/null.

	* Expect structure. We can leave expect as it is but expect-in-any-order
	needs a way to set the timeout. The structure must change, I fear.

	* Would be nice: integrate the config variable name into the init
	dialogs such that one has a chance to learn their names over time.

	* Would be nice: 'o conf /check/' to list all variables matching a regex.

	* I realize that it's quite pointless to try downloading with "fancy"
	when there is Net::FTP installed. OTOH, *sometimes* it may be clueful. I
	should explain in a FAQ that it makes sense to disable the externel
	programs once one has Net::FTP and LWP. The problem only appears if you
	have many hosts in the urllist and try to download a fresh file: here
	you want to try only with one method and cycle through the hosts
	quickly.

2006-11-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Randy Kobes needs an API to find out where the index files are
	located. And the whole SQLite needs to be integrated. First question is
	what do we use from it. Only the readonly stuff, I suppose. And the
	urllist. And all this might need to be combined with the TTL stuff and
	separate loading of index files.

	* Bug that has to do with install_tested or build_dir_reuse or degraded
	shell mode or some use of ^C at the wrong moment:

  PEREINAR/File-Which-0.05.tar.gz              : install NO

	But File::Which is installed. Maybe in a concurrent shell. When I ask
	for 'install File::Which' I get 'is up to date' and nothing gets
	repaired. When I ask for 'install PEREINAR/File-Which-0.05.tar.gz' then
	the thing gets tested but not installed because 'Already tried without
	success'.

	Are we in trouble?

	Maybe we must rethink how 'force test' works. It should not 'force get',
	and 'force make', it should just test and not refuse to do it.

	Or we must compute the COMMANDID better than we do during reanimate and
	treat negative COMAMNDIDs with more rigor in some constellations?

	The thing is that the module object for File::Which knows about the
	correct distro object but it gets the installed version from @INC and
	does not know who put it there and so should not be able to discard the
	distro object. Hmmm.

	Remember, we have the notest pragma! Maybe we can let install_tested
	support both the force and the notest pragma and are through?

	But no, even 'notest install ...' does not succeed because we need
	force, not notest, but force propagates down until we restart with get.
	This is, of course a last resort, but it's no fun:-(

	SHOWSTOPPER ALERT!

	At least I get the impression this extreme case happens only on ^C, but
	some other methods of dieing will certainly exist as well.

	* Todo: offer the choice between (readline) Gnu and Perl and Coro. See
	my trials in the bin/ directory (SVN only)

	* Mail::Send problem persists that Test::Reporter's mails do not arrive
	when sent with Mail::Send but do when sent with Net::SMTP (IIRC). In any
	case I must disable installation of Mail::Send somehow or debug.
	Test::Reporter has got a wish item via RT already some weeks ago.

	* Bug: Uuuuuh, pressing ^C and then trying an illegal command, ugliness:

	LWP failed with code[500] message[read timeout]
Trying to get away with old file:
6114541  500 -rw-rw-r--  1 1000     1000       504953 Nov  8 08:02 /home/k/.cpan/sources/modules/02packages.details.txt.gz
Going to read /home/k/.cpan/sources/modules/02packages.details.txt.gz
  Database was generated on Tue, 07 Nov 2006 12:25:12 GMT
.
Caught SIGINT, trying to continue
	
cpan> hosts
Refusing to autoload 'hosts' while signal pending at lib/CPAN.pm line 590.


	* if we make the TTLs setable, maybe we should make the TTL for
	CHECKSUMS file too. In any case we have the problem of imacat also when
	the TTL of the local copy of the CHECKSUMS file has not yet been
	reached!

	* Coro. See also notes below, search for anyevent	

	* Observing in a shell in degraded mode: it wrote a new Metadata file.

	* Observing how install_tested behaves: within the same session it
	installs without retesting. In a new session it does retest. What
	*should* it do?
	
	Noting that the DH test runs forever again because GMP comes too late.

	* Watch the Module::Build space for updates to the question of calling
	M:B methods or parsing _build/*. Ken seemed to argue for the file (?)

	* write a patch for Test::Reporter so you can choose the mail sending
	module? Reported 2005-07:
	http://rt.cpan.org/Ticket/Display.html?id=13836

	* Investigate if I want Math::Bigint::GMP in the core. Think of
	Crypt::DH and the horrible test timings when Math::Bigint::GMP is not
	installed

	* find out why upgrade always upgrades
	Apache::Session::Generate::ModUniqueId and ...::ModUserTrack.

	Seems to be Apache-Session-1.81/Session/Generate/ModUniqueId.pm and
	Apache-Session-1.81/Session/Generate/ModUsertrack.pm

	SO OK, nothing to worry.

	* The Net::SSH::Perl test 03-packet still runs forever even with
	Math::Bigint::GMP. Maybe this is completely unrelated? Yes! No load!
	Report sent. But can we patch it? Maybe not as long as Math::Pari and
	Crypt::Random are prereqs and fail themselves.

	* In Crypt::DH rewrite the test so that TEST_VERBOSE tells us timings
	and Math::BigInt internals. No need! It's Math::Bigint again. Test is
	really quick with Math::Bigint::GMP installed. Note that Math::GMP is
	not enough. But can we patch it?

	* The first thing that I encounter when I start testing instead of
	installing things is that test doesn't stop when the installed version
	is higher than or equal to the CPAN version. Ilya invented for that
	test_uptodate??

	* CPAN::Checksums -> Data::Compare -> File::Find::Rule ->
	Number::Compare
	
	* I wanted to watch some scenarios with persistent data. Especially with
	modules that work and that are being tested again and again with prereqs
	and without or within bundles and if they are retested or not, installed
	or not with persistence and within the same session.

	Write a megatest?

	* Study "pip" by Adam K (in Module-Plan-Base) and CPAN::Mini::Tested and
	CPAN::Mini::Phalanx100 and also see what we can do for
	Module::ThirdParty

	* replace 03 index file with YAML.

	* Provide an API or documentation how to find out the CPAN::Config
	variables.

	* Looks like a bug to me what I find in Bundle-SZABGAB-0.01.yml:
	CONTAINSMODS is empty because Gabor has a distro in the bundle.

	* Now I know the first bug in install_tested: it re-tests already
	installed modules.

	* One thing we do not support yet in distroprefs is adding dependencies
	without patching. Shall we?

	* Todo: clean up "XXX" in the code

	* M2 (Wishlist) separate the TTLs for 01,02,03. If somebody asks 'a
	FOO', we should only check for the authors database, etc.

	* E1 Todo: use 00whois.xml instead of mailrc, and follow the UTF-8 HOWTO to
	get rid of the term_is_latin variable. Test output with locales.

	* H4 branch 1.87-dbmdeep-hackery revive? It was very broken but I do not
	remember details. Hint: DBM::Deep promises significant memory savings
	and in that branch we tried to see how it can be made to work for us.

	* M3 RT 17353: Flag outdated CPAN sites and move them to the end of the
	list when they have reached 291 hours. (Note: $CPAN/authors/02STAMP)

	* E1: revisit rev 158:159, the introduction of "recent" and "perldoc".
	#21791 has its bugreport. I don't like that most of the subroutines are
	thrown into CPAN::Distribution either. OTOH, we have commands that have
	no central role within CPAN. One can always refuse to use them. Hrm.
	HTML::Display!

	* E5: (again and again) verify that the CPAN.pm-using modules continue
	to work:

	DMUEY/AltaVista-BabelFish
	MSCHILLI/CPAN-Unwind
	ULPFR/CPAN-WAIT
	RJRAY/Devel-Modlist
	SMUELLER/PAR-Dist-FromCPAN
	DAGOLDEN/Perl-Dist
	CRAKRJACK/Test-CPANpm

	* E5 watch RT for open tickets. This todo can never be closed.

	* E1 Todo: continue to close the Pod::Coverage gap. Currently only
	CPAN.pm is covered

	* E3 Todo: write a test for dot-cpan/Metadata usage. Hmmm. Important for
	the future of locking, the future of DBM::Deep, protocol changes. Not
	sure what to test.

	* M3 Todo: investigate what BUGHUNTING in Tarzip means "today": it's
	about a very old bug in Archive::Tar that is most probably fixed. Turn
	bughunting on with the command C< !print$CPAN::Tarzip::BUGHUNTING=1 >.
	It is slow but everything should just plain work. When we're confident
	that everything works, we could offer a tar_policy option that has
	options "ext" and "mod", for external programs vs. modules, default to
	"ext"?

	* M3 Reopened Bug: it seems that a user who is in /bin and has "." in
	the beginning of the path gets ./sh as his shell from FirstTime. If we
	encounter . in the path we should rather ignore it. But first we must
	verify the behaviour. Reported by Slaven Rezic on behalf of Tino
	Schulze. This has nothing to do with -I. but only with the shell and
	$ENV{PATH} and as we do not know which shell it was it seems we cannot
	test for the problem.

	* H1 These days developer TELS posted to perl5-porters that his newest
	release is available at

	    http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

	Suddenly it dawned on me that I want to support

	    install http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz

	What am I missing?

	The other commands dealing with files would have to learn a bit.

	d http://      # fails as before with "No objects of...."

	               # alt: does a HEAD and tells user that the URL can e reached

	ls http://     # lists nothing

	               # alt: says that ls doesn't support URLs

	get http://    # this is probably all we need to implement. Maybe a new
	               # class needed that does as_string and as_glimpse as well?

	And maybe a pragma that turns this feature on? So that 'get http://...'
	never works but 'force get http://...' does? Alt: config variable to
	turn feature on, then a separate module that implements it.

	Brian likes the idea

From: brian d foy <brian.d.foy@gmail.com>
Subject: Re: Welcome new user LOCAL
To: modules@perl.org
Date: Mon, 18 Sep 2006 14:52:48 -0500
Organization: Perl Authors Upload Server
Reply-To: modules@perl.org

In article <877j0361hl.fsf@k75.linux.bogus>, (Andreas J. Koenig)
<andreas.koenig.gmwojprw@franz.ak.mind.de> wrote:

> My spontaneous idea was to support the command
> 
>     cpan> get http://bloodgate.com/perl/packages/devel/Math-BigInt-1.78.tar.gz


oh, very interesting, especially if I already have the file:

   cpan> get file:///....

This makes CPAN::Mini::Inject a bit less useful because I no longer
need the middle man.


	* Make the "new -> ." symlink in scripts/ as outlined in a mail to kurt
	and jarkko

	* M2 feature request by Juergen Christoffel: have time stamps on the
	history and a history command to see them

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* hr ================ no todos below this line ================ /hr

	* SQL-Translator-0.07 has a broken signature
	(reported 9 months ago at
	https://rt.cpan.org/Ticket/Display.html?id=16852). When trying to
	install CLACO/Handel-0.99_15 I see this warning running by quite often
	instead of only once and testing of it again and again. And the same for
	Email-Valid and DBIx-Class-Validation.

	Why?

  CLACO/Handel-0.99_15.tar.gz
  /usr/bin/make test -- NOT OK
Failed during this command:
  LYOKATO/FormValidator-Simple-0.19.tar.gz     : make_test NO
  MIYAGAWA/Email-Valid-Loose-0.05.tar.gz       : make_test NO
  CLACO/DBIx-Class-Validation-0.01001.tar.gz   : make_test NO
  DROLSKY/DateTime-Format-MySQL-0.04.tar.gz    : make_test NO
  RICKM/DateTime-Format-Strptime-1.0700.tar.gz : make_test NO
  CLACO/DBIx-Class-UUIDColumns-0.01000.tar.gz  : make_test NO one dependency not OK (SQL::Translator)
  RJBS/Email-Valid-0.176.tar.gz                : make_test NO
  DROLSKY/DateTime-Format-Builder-0.7807.tar.gz: make_test NO
  KCLARK/SQL-Translator-0.07.tar.gz            : signature_verify NO
  CLACO/Handel-0.99_15.tar.gz                  : make_test NO

	Besides the need to find out why the tests are repeated so often, it may
	be a good idea to support check_sigs via distroprefs.

	DONE

	* receiving file list ...
14484 files to consider
./
5.9.0/diffs/
5.9.0/diffs/29196.gz
        1184 100%    1.13MB/s    0:00:00 (xfer#1, to-check=219/14484)
5.9.0/diffs/29413.gz
        2178 100%  708.98kB/s    0:00:00 (xfer#2, to-check=8/14484)
5.9.0/diffs/29414.gz
         848 100%    4.31kB/s    0:00:00 (xfer#3, to-check=7/14484)
5.9.0/diffs/29415.gz
        2540 100%   12.79kB/s    0:00:00 (xfer#4, to-check=6/14484)
5.9.0/diffs/29416.gz
         691 100%    3.46kB/s    0:00:00 (xfer#5, to-check=5/14484)
5.9.0/diffs/29417.gz
        1053 100%    3.02kB/s    0:00:00 (xfer#6, to-check=4/14484)
5.9.0/diffs/29418.gz
         546 100%    1.55kB/s    0:00:00 (xfer#7, to-check=3/14484)
5.9.0/diffs/29419.gz
         352 100%    1.00kB/s    0:00:00 (xfer#8, to-check=2/14484)
5.9.0/diffs/29420.gz
         845 100%    2.38kB/s    0:00:00 (xfer#9, to-check=1/14484)
5.9.0/diffs/29421.gz
       12248 100%   17.49kB/s    0:00:00 (xfer#10, to-check=0/14484)

	*&*^*&%%&%$!!!!!

The following patches had errors:
        29196

Errors while patching

	and before

----stdout+err patching 29196 (ret=256)---
The text leading up to this was:
--------------------------
|Index: depot/perl/pod/perlretut.pod
|--- depot/perl/pod/perlretut.pod#37~27989~     2006-04-28 01:41:25.000000000 -0
700
|+++ depot/perl/pod/perlretut.pod       2006-11-02 23:08:18.000000000 -0800
--------------------------
File to patch: 
Skip this patch? [y] 
5 out of 5 hunks ignored
----EOF----
PAPU: Registering as a failing patch d[29196] at /usr/local/perl/bin/patchaperlu
p line 374.


	Bug reported anfd promptly fixed by Philippe M. Chiasson (gozer).

	* Batch jobs without a lock should not be allowed to cleanup the cache
	directory. And then document the lock policy and that there are lockless
	batch runs. DONE

	* Observing what autoinstall does:

/home/src/perl/repoperls/installed-perls/perl/p6siswe/perl-5.8.0@29397/bin/perl 
"-Iinc" Makefile.PL --config= --installdeps=File::Find::Rule,0,UNIVERSAL::requir
e,0.1,Template::Provider::Encoding,0.04,Text::Tags,0,DateTime::Format::Mail,0,Da
teTime::Format::W3CDTF,0,DateTime::Format::Strptime,0,Cache::Cache,1.04,Module::
Pluggable::Fast,0,HTML::ResolveLink,0,MIME::Types,1.16,XML::Feed,0.12,XML::Atom,
0.23,Term::Encoding,0,Encode::Detect,1,HTTP::Cookies::Mozilla,0,XML::Liberal,0.1
4,XML::RSS::Liberal,0,HTML::TreeBuilder::XPath,0,HTML::FormatText,0,DateTime::Fo
rmat::Japanese,0,HTML::Scrubber,0,XML::Feed,0.09,XML::Atom,0.20,Net::SMTP::TLS,0
,Mail::Address,0,HTML::Scrubber,0,Time::Duration::Parse,0,WebService::Bloglines,
0.11,Cache::FastMmap,0,POE::Component::Client::HTTP,0,Xango,1.04,DateTime::Forma
t::Epoch,0,WWW::Mixi,0.48,SVN::Core,0,SVN::Client,0,WebService::YouTube,0,WWW::B
abelfish,0,Text::Emoticon,0,HTML::ResolveLink,0,Email::Address,0,Lingua::ZH::Han
Detect,0,Text::Language::Guess,0,IP::Country,0,Text::Hatena,0,Hatena::Keyword,0,
Image::Info,0,Text::Markdown,0,Regexp::Common::profanity_us,0,HTML::ResolveLink,
0.02,Text::Kakasi,0,Mail::SpamAssassin,0,URI::Find,0,URI::Find,0,Audio::Beep,0,P
OE::Component::IRC,0,POE::Component::IKC::Client,0,Net::NetSend,0,Text::CSV_PP,0
,Net::Delicious,0,Mail::IMAPClient,0,Template::Plugin::JavaScript,0,Net::Movable
Type,0,PDF::FromHTML,0,Palm::PalmDoc,0,Text::WrapI18N,0,Data::Serializer,0,Data:
:ICal,0,Search::Estraier,0,File::Grep,0,KinoSearch,0,DBIx::Class::Schema,0,XML::
FOAF,0,Config::INI::Simple,0,HTML::TreeBuilder::XPath,0,Lingua::EN::Summarize,0,
Text::Original,0,Lingua::JA::Summarize::Extract,0
CPAN: File::HomeDir loaded ok (v0.58)

	Yes, this goes really into recursion. Since I have "reuse" turned on,
	the damage is limited but if I had it not on, it would be a lot of
	expensive noops.

	The question is simply: how can I prevent autoinstall from going into
	recursion? I want it to do its detective work and return it to me. Ahhh,
	it does so! It writes them in traditional style into the Makefile. All I
	need to prevent is that this target (the "installdeps" target) is run
	during 'make'. Or that it is being run but does nothing. Or whatever
	that does not repeat what I have already done.

	* Broken: 30shell.t. Recently something changed this:

# NEXT: m /_NEXISTE_/
# EXPECT: Contact Author J. Cpantest Hietaniemi(?s:.*?cpan[^>]*?>)
# GOT: m /_NEXISTE_/
# Module    _NEXISTE_              (Contact Author J. Cpantest Hietaniemi <nospam@nospam>)
# Module    _NEXISTE_::_NEXISTE_   (Contact Author J. Cpantest Hietaniemi <nospam@nospam>)
# 2 items found

	to this:

# Module    _NEXISTE_              (N/A)
# Module    _NEXISTE_::_NEXISTE_   (N/A)
# 2 items found

	Who was it? First time I need a binary search on my own code:)

	Standing at HEAD: fail as above

	Switching back to 1310: fails with Looks like you planned 227 tests but
	only ran 163.

	Running forward with a quick obvious fix: Looks like you planned 227
	tests but only ran 159.

	Switching to 1300: Looks like you planned 227 tests but only ran 163.

	1290: completely broken
	To 1291: Looks like you planned 227 tests but only ran 159.

	To 1281: All tests successful

	1286: ok

	88 ok

	89 ok

	91 ok ???

	1300 ok ???

	1310 ok ???

	Obviously a timing related bug. The ls command seems expensive. Maybe
	perl is slower or the sqlite patch made CPAN.pm slower. Setting the
	default timeout to 30 and ripping out the sqlite patch brings us test ok
	again. Putting back in the sqlite stuff with the small obvious fix in
	the exists method brings test ok again. Setting timout back to 20 again
	and just increasing the timout for the 'ls ANDK' command to 30 brings
	test ok again. All of the successes in the SVN directory.

	* CPAN::SQLite has the dependency on LWP::Simple missing

	* observed a strange behaviour: trying

	test /home/src/perl/cpan-sql-stuff/CPAN-SQLite/.

	early, immediately after Bundle::CPANxxl. Dependency on SQLite is
	recognized, recursive dependency on DBI is recognized, but SQLite does
	not build a SQLite.xsi which seems to indicate that it did not find DBI.

	install helps, so we are still unfriendly to testers?

	* Why did I get no problem with Module::Pluggable before but now do?
	Hmm. Installing on naked 29367 gives no errors. Installing on
	module-rich 29376 gives one test failure:

t/02works_taint............NOK 3/5                                           
#   Failed test 'is deeply'
#   at t/02works_taint.t line 20.
#     Structures begin differing at:
#          $got->[0] = 'Module::Pluggable::Fast'
#     $expected->[0] = 'Module::Pluggable::Object'
t/02works_taint............NOK 5/5                                           
#   Failed test 'is deeply class'
#   at t/02works_taint.t line 29.
#     Structures begin differing at:
#          $got->[0] = 'Module::Pluggable::Fast'
#     $expected->[0] = 'Module::Pluggable::Object'
# Looks like you failed 2 tests of 5.
t/02works_taint............dubious                                           
        Test returned status 2 (wstat 512, 0x200)
DIED. FAILED tests 3, 5
        Failed 2/5 tests, 60.00% okay

	Aha, seems to be a broken test.
	http://rt.cpan.org/Ticket/Display.html?id=23607

	* Now I have changed Plagger YAML file to answer y to all optional
	features and now it installs even Spamassassin.

	* 23315 rings a bell now..... eliminated many Tarzip exceptions by
	protecting with eval rev. 1386

	* Slaven reports bug: there is a yml file in dot directories named
	"..yml" FIXED in svk rev. 1390

	* Jifty 0.61123_01 is out and the tests fail on Module::Refresh missing
	and Test::Base as far as I can see.

	Kwalify is out.

	Jifty says what it would like to have:

- App::CLI                       ...missing. (would need 0.03)
- Email::Send                    ...missing. (would need 1.99_01)
- HTML::Mason                    ...missing. (would need 1.3101)
- HTML::Mason::Plugin            ...missing.
- HTTP::Server::Simple           ...missing. (would need 0.20)
- HTTP::Server::Simple::Recorder ...missing.
- XML::Simple                    ...missing.
- Module::Install::Admin         ...missing. (would need 0.50)
- Test::HTTP::Server::Simple     ...missing. (would need 0.02)
- Test::WWW::Mechanize           ...missing. (would need 1.04)
- Class::Accessor::Named         ...missing.
- Devel::Cover                   ...missing.
- Module::Install::Admin         ...missing. (would need 0.50)
- PAR::Dist::FromCPAN            ...missing.

	Now that I have Module::Refresh and Test::Base Jifty fails tests due to
	HTML::Mason.

	* Trying to get a binary search running for XML-Feed-0.12. I need to go
	before 20000 where I haven't been for quite a while and nothing works.

	I need to break a circular dependency ExtUtils::CBuilder => File::Spec
	=> PathTools => ExtUtils::CBuilder

	I'm hung at the moment with 19096: it cannot build
	Scalar-List-Utils-1.18 because it fails during perl Makefile.PL:

	Can't call method "load" on an undefined value at inc/Module/Install.pm line 180

	I have tried to install Module::Install myself but this did not help.

	Removing the whole inc directory does not help either. When I improve
	the code at line 180, it just gets reverted magically. This is what I
	tried to insert:

		my $obj = eval { $self->load($method) };
        if ($@) {
          my $err = $@;
          require Carp;
          confess $err;
        }
        $obj or return;

	Running in the debugger fails also because it fails at compile time.

	Giving up on 19096, trying 19523.

	Same thing but I realise that I can skip Scalar-List-Utils. Now I need
	to install LWP with notest. And XML::Atom fails because 'Undefined
	subroutine &utf8::is_utf8 called at t/18-unicode.t line 17.' Use notest
	again. And XML-Feed's test still fails with

t/01-parse............NOK 44/72                                              
#   Failed test at t/01-parse.t line 59.
#                   'Hello!...'
#     doesn't match '(?-xism:<p>Hello!</p>)'
t/01-parse............NOK 45/72                                              
#   Failed test at t/01-parse.t line 60.
#          got: undef
#     expected: 'Hello!...'
# Looks like you failed 2 tests of 72.
t/01-parse............dubious                                                
        Test returned status 2 (wstat 512, 0x200)
DIED. FAILED tests 44-45
        Failed 2/72 tests, 97.22% okay

	Trying 19096 again. This time XML::Atom cannot write a Build file with
	the same Module::Install bug as above. Giving up.

	Maybe investigate within the maint branch?

	Yes! This shows us an interesting fact: under 29163 we see the same
	failure. Under my /usr/local/perl-5.8.8/ we do not see it. 27048 which
	is closest to 27040 (which would be 5.8.8 exactly).

	Same failure. So it's very likely a module dependency. Some recent
	module upgrade probably. my 5.8.8 installation might still have the old
	one and updating breaks? The successfully testing 5.8.8 says

  CPAN.pm: Going to build B/BT/BTROTT/XML-Feed-0.12.tar.gz

*** Module::AutoInstall version 1.02
*** Checking for Perl dependencies...
[Core Features]
- LWP                      ...loaded. (5.805)
- HTML::TokeParser         ...loaded. (2.35)
- Test::More               ...loaded. (0.62)
- Class::ErrorHandler      ...loaded. (0.01)
- Feed::Find               ...loaded. (0.06)
- URI::Fetch               ...loaded. (0.08)
- XML::RSS                 ...loaded. (1.10 >= 1.01)
- XML::Atom                ...loaded. (0.23 >= 0.08)
- DateTime                 ...loaded. (0.35)
- DateTime::Format::Mail   ...loaded. (0.30)
- DateTime::Format::W3CDTF ...loaded. (0.04)
- List::Util               ...loaded. (1.18)
*** Module::AutoInstall configuration finished.
Checking whether your kit is complete...
Looks good


	The failing one under 27048 says

*** Module::AutoInstall version 1.020
*** Checking for Perl dependencies...
[Core Features]
- LWP                      ...loaded. (5.805)
- HTML::TokeParser         ...loaded. (2.350)
- Test::More               ...loaded. (0.620)
- Class::ErrorHandler      ...loaded. (0.010)
- Feed::Find               ...loaded. (0.060)
- URI::Fetch               ...loaded. (0.080)
- XML::RSS                 ...loaded. (1.200 >= 1.01)
- XML::Atom                ...loaded. (0.230 >= 0.08)
- DateTime                 ...loaded. (0.350)
- DateTime::Format::Mail   ...loaded. (0.300)
- DateTime::Format::W3CDTF ...loaded. (0.040)
- List::Util               ...loaded. (1.180)
*** Module::AutoInstall configuration finished.
Checking whether your kit is complete...
Looks good

	Yes, and when I downgrade XML::RSS to 1.1, then the test failure goes
	away.

	Bingo. Another case for "goto".

	* I just wrote in a mail to Sendu Bala:

  > On a tangentially related note, are there any plans to make CPAN do
  > anything useful with the 'recommends'/'optional_features' information
  > in a META.yml file?

No. I never considered this a job for CPAN.pm. If I had the time,
inclination and fu to write talk-me-through-optional-features
software, I'd write it independently from CPAN.pm.

I think of CPAN.pm as the glue between the user and the CPAN mantras.
CPAN.pm 1.89 will allow the users to store their preferences about
optional things in any CPAN package, no matter how the packages
themselves manage them. If you play with 1.88_62 see the 00.README in
the distroprefs directory. But it's no
talk-me-through-optional-features software.

Or if you prefer a drawing:

     +----------+       +----------------+       +----------+
     |          |       |    mantras     |       |          |
     |          |       |perl Makefile.PL|       |          |
     |   user   |       |make            |       |  module  |
     |          |       |make test       |       |          |
     |          |       |make install    |       |          |
     +----------+  ^^^  +----------------+  ^^^  +----------+
                   |||                      |||   
                    ||Gap filled             ||Gap for
                     |by CPAN.pm              |options software


	* hosts statistics: the host with the most unsuccessful downloads is
	which? Of course the one that lead the urllist. That doesn't prove
	anything.

	* answer Sendu Bala two mails, one private, one on cpan-workers

	* From a mail I sent to Slaven about Tk:

Mit 20002 bekomme ich t/regexp.t     2   512    21    2  10-11
Mit 29332             t/regexp.t     0    11    21   36  4-21

Letzteres entspricht wohl Deinem Coredump.

Noch sehe ich keine wirklich saubere Strategie fuer binsearch. Die
bereits frueher angewendete mit 'notest install' zuerst und dann
nochmaligem test von regexp.t scheint die einfachste im Moment. Den
habe ich auch grade eben gestartet.

Sauber waere wohl, wenn man 'make test' dazu bringen koennte, nur
schlicht und einfach ein einziges Skript aufzurufen. --> Todo

	* After all the prereq hassles with XML::Atom I finally could install it
	for perl 20002 after many manual interventions but without overrule
	(except when we call the XML::LibXML=1.61003 decision as an overrule)

	After the same hassles under 29332 I see the test failure

t/02-content...........NOK 23/32                                             
#   Failed test at t/02-content.t line 62.
#          got: 'xml'
#     expected: 'base64'
# Looks like you failed 1 test of 32.
t/02-content...........dubious                                               
        Test returned status 1 (wstat 256, 0x100)
DIED. FAILED test 23
        Failed 1/32 tests, 96.88% okay

	This means that if I just got the proper prerequisites I'd have run a
	binarysearch in no time.

*** Module::AutoInstall version 1.030
*** Checking for Perl dependencies...
[Core Features]
- MIME::Base64             ...loaded. (3.07_0100)
- URI                      ...missing.
- Class::Data::Inheritable ...missing.
==> Auto-install the 2 mandatory module(s) from CPAN? [y] y
[Faster XML parsing with libxml]
- XML::LibXML              ...missing. (would need 1.54)
==> Auto-install the 1 optional module(s) from CPAN? [y] y
[Pure perl XML parsing with XML::XPath]
- XML::XPath               ...missing.
==> Auto-install the 1 optional module(s) from CPAN? [n] y
[Client/Server for Atom API]
- LWP                      ...missing.
- LWP::Authen::Wsse        ...missing.
- Digest::SHA1             ...missing.
- DateTime                 ...missing.
==> Auto-install the 4 optional module(s) from CPAN? [y] y
[Feed and API Auto-discovery]
- HTML::Parser             ...missing.
==> Auto-install the 1 optional module(s) from CPAN? [y] y
CPAN: File::HomeDir loaded ok
*** Dependencies will be installed the next time you type 'make'.
    (You may need to do that as the 'root' user.)
*** Module::AutoInstall configuration finished.

	Next step is to document what is wrong with the prereqs and present the
	findings to author.

	1. Test fails on XML::XPath.         requires bug
	2. Ditto on LWP::UserAgent           requires bug
	3. Ditto on Digest::SHA1             requires bug
	4. Ditto on DateTime                 requires bug
	5. Ditto on XML::LibXML not so obviously!) requires bug

	XML::XPath
	LWP::UserAgent
	Digest::SHA1
	DateTime
	XML::LibXML
	
	It may be the case that the author thought that a user that says no to
	an optional feature will accept failing tests. But I'd expect that if I
	say no to a feature then this feature is not tested at all. And I'd
	argue this is important because a user can usually not reliably
	differentiate proprely between failing tests due to bugs and failing
	tests due to missing prereqs. No bug on Module::AutoInstall side.

	Now our manual binary search stands at 27069(ok) and 29332(not ok) and
	our patch seems to be clear: add the above 5 modules to requires and not
	as optional modules.

	Done and it worked with 28618.

	* Need a way to specify a different distribution for a module. Say, we
	realize that the officially current XML::LibXML 1.62 is broken but some
	PAJAS/XML-LibXML-1.61003.tar.gz still works. I think, I'd like

	  ->{goto} = "PAJAS/XML-LibXML-1.61003.tar.gz"

	DONE

	* Need a way to specify notest from distroprefs. When we know Strptime
	doesn't pass a test but we know that the problem is harmless or can be
	ignored for some reason. I think, I'd like ->{test}{skip} = 1

	* Todo: LWP::Authen::Wsse is an optional prereq of XML::Atom but did not
	get installed. Need to find out how to signal to AutoInstall that I want
	all recommendations installed. Ahh, I find that XML::Atom not only uses
	AutoInstall but also Module::Build and that writes a _build/prereq file
	and I could read that. I would then find that 'recommends' hashref and I
	could then start installing what I find there.

	But how do I know that the user wants that the recommendations be
	installed?

	While watching what Module::Install is doing and trying out variations I
	get the impression that I have no chance to do the right thing. If the
	user says, he wants the recommendations, they still do not end up in
	META.yml or _build/prereqs or where else should I look?

	After the user has said that he wants everything, we see

Checking prerequisites...
 * Optional prerequisite LWP::Authen::Wsse is not installed
 * Optional prerequisite XML::LibXML is not installed
 * Optional prerequisite DateTime is not installed

	But nobody builds or installs them. I find them nowhere in the build
	directory stored away. And yet, when I test XML::Atom, it requires it
	magically and I have to install them manually.

	* Todo: the order of lines in the "failed" command or "failed" report
	section is, given identical command ID, I believe, random. Need a
	timestamp for finer granular sorting. That would make the listing much
	more useful because the first is the most important, all others may be
	followup errors.

	* Todo: write a Makefile target for the 3 *.dd files in distroprefs DONE

	* Todo: Storable support for distroprefs DONE

	* Since I fixed the bootstrapping problem of YAML/Expect/ReadLine by
	allowing fallback dd files, I thought that now I would be able to run
	binary searches more often for broken (or unexpectedly fixed) modules.
	My first victim should be DateTime::Format::Strptime. But binary search
	converged towards 2794[123] and it was so obvious from mere watching
	that this turning point was not the Strptime problem but some other
	Params::Validate related problem. P:V 0.86 broke at 27942 and so
	DateTime could not be built and Date::Time::Locale could not be built
	and Strptime could also not pass its tests.

	At some point in time later P:V worked again and so we have this
	eclipse: at 27942 the still working Strptime disappeared in the shadow
	of P:V and when P:V started to work again, Strptime was broken (or was
	it not?). If it broke we cannot see where it broke unless we start
	another higher level view that throws extra patches around.

	The good news is that we can determine the duration of the eclipse of
	P:V: it broke at 27942 and reappeared between 28156 and 28181 (closer
	examination pending).

	Very nice: Strptime worked with 28181 and so we can run another binary
	search between 28181 and 29312. Breakage at 28325 and report sent to P5P

	* why is reuse_old_builddir (sp?) turned off in degraded mode? I think
	there is no good reason. FIXED

	* Observed that the E of DONE is in the second line during "03". Take
	the algorithm in reanimate_build_dir() around line 4175 in all three
	index files. It's easier to read and workd even for @items < 76. DONE

	* display the commandid during the failed command -- just for a while. I
	want to see how big the holes are and if they look plausible. -- They
	have all the same number! FIXED

	* Bug: ~/.cpan/sources/modules is full with backup files FIXED in 1360

	* I just added the decicive line to Makefile.PL so that I can
	conveniently start messing around with CPAN::SQLite support:

	/home/src/perl/cpan-sql-stuff/CPAN-SQLite/.   # (!)

	% make run-with-sqlite
/home/src/perl/repoperls/installed-perls/perl/pDtzfB5/perl-5.8.0@29285/bin/perl -I$HOME/.cpan -Ilib -MCPAN::SQLite -MCPAN::MyConfig -MCPAN -e '$CPAN::Config->{use_sqlite}++; shell'
CPAN: Term::ANSIColor loaded ok (v1.11)

cpan shell -- CPAN exploration and modules installation (v1.8862)
ReadLine support enabled

cpan[1]> d MSCHILLI/Log-Log4perl-1.07.tar.gz                
CPAN: YAML::Syck loaded ok (v0.71)
Going to read /home/k/.cpan/build/
............................................................................DONE
Found 593 old builds, restored the state of 337
Updating database file ...
Can't exec "cpandb": No such file or directory at /home/src/perl/repoperls/installed-perls/perl/pDtzfB5/perl-5.8.0@29285/lib/site_perl/5.9.5/CPAN/SQLite/META.pm line 179.
system cpandb --update failed: -1 at /home/src/perl/repoperls/installed-perls/perl/pDtzfB5/perl-5.8.0@29285/lib/site_perl/5.9.5/CPAN/SQLite/META.pm line 179.
 at lib/CPAN.pm line 276
        CPAN::shell() called at -e line 1


	Uh. Patch rkobes-cpan3.diff backed out. Now I probably know where to start.

	* Integrate freshness into hosts stats. (#17353)

	* Allow dd or st files instead of yml in distroprefs for bootstrapping
	purpose. DONE

	* Todo: avoid ->can everywhere and replace with UNIVERSAL::can. See
	Adriano Rodrigues' bugreport. DONE

	* This looks silly:

	cpan[15]> o conf commit
commit: wrote '/home/k/.cpan/CPAN/MyConfig.pm'
Please use 'o conf commit' to make the config permanent!

	FIXED

	* write a dummy distro that reads arguments to Makefile.PL and another
	one that reads something from STDIN (or maybe both in one) DELAYED until
	the distroprefs stuff leaves the alpha stage.

	* The bug in Strptime is in the "ga" locale. Installing the ga locale on
	my box doesn't solve it. Manana.

	* "I hate Module::AutoInstall". See down under the hr when you ever have
	time.

2006-11-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* BUG: randomize_urllist cannot be set on the shell commandline: because
	it ends in "list", it becomes always an array:))

	FIXED

	* Todo: guess the patch option -p0 or -p1

	DONE

	* distroprefs with artificial intelligence: find out how to write a
	distropref with so much AI that it handles several different dialogues.
	I just realized that YAML::Syck talked me into a different dialogue on
	some older bleadperl that had YAML 0.60 installed:

*** WARNING ***

This release breaks compatibility with versions earlier than version 0.60 of
YAML::Syck and YAML.pm when serializing blessed references.

See the COMPATIBILITY file for more information.

*** Pre-0.60 version of YAML.pm (0.53) detected.
Continue installing YAML::Syck? [y]

	We would like to answer to this question yes if it comes. Or we would
	like to upgrade YAML first.

	One would think that Expect collects data and compares them to a pool of
	regular expressions each of which has an associated answer. As soon as
	one expression matches, its answer is given and it is taken out of the
	pool. On EOF do not even complain. Very similar to what we do now. Is it
	even worth to keep the current interface? Yes, because it has the
	potential to break. Because Expect itself does not provide it. We must
	write some code in between:

	Variant 1: match on /./, look at the whole collected string, do the
	match loop. On success do as we do now, on failure continue as we do
	now. On timeout do like we do now. On EOF exit the loop silently. As
	test write a distro that asks 12 questions in random order and dies if
	the wrong answer is given.

	Variant 2: match on /./ until timeout is reached. Now do your own
	matching. On success do as we do now, on failure give up. One question
	that we cannot answer is too much. There is no timeout error, just a "no
	prepared regex matches the question". On EOF exit the loop silently.

	Variant 2 is much better.

	Today I wrote CPAN-Test-Dummy-Perl5-Make-Expect-1.00.tar.gz for that.

	DONE

2006-11-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* So what does Randy's patch do?

	Disable {read,write}_metadata_cache
	Disable rd_{modlist,modpacks,authindex}
	sub sqlite_reload {
	On 'reload index' it runs its own sqlite_reload
	And 'exists' is patched.
	No patch to all_objects?

	How to use?

	o conf use_sqlite 1

% make run
/home/src/perl/repoperls/installed-perls/perl/peHlG5S/perl-5.8.0@29243/bin/perl -Ilib -MCPAN -eshell
CPAN: File::HomeDir loaded ok (v0.58)
CPAN: Term::ANSIColor loaded ok (v1.11)

cpan shell -- CPAN exploration and modules installation (v1.8861)
ReadLine support enabled

cpan[1]> o conf use_sqlite 1
Warning: unknown configuration variable 'use_sqlite'
    use_sqlite         [1]
Please use 'o conf commit' to make the config permanent!


cpan[2]> m CPAN             
CPAN: YAML::Syck loaded ok (v0.71)
Going to read /home/k/.cpan/build/
............................................................................DONE
Found 593 old builds, restored the state of 343
Updating database file ...
Can't exec "cpandb": No such file or directory at lib/CPAN.pm line 4152.
system cpandb --update failed: -1 at lib/CPAN.pm line 4152.
 at lib/CPAN.pm line 276
        CPAN::shell() called at -e line 1

	OK, let's patch the path to $^X in and retry:

% make run
/home/src/perl/repoperls/installed-perls/perl/peHlG5S/perl-5.8.0@29243/bin/perl -Ilib -MCPAN -eshell
CPAN: File::HomeDir loaded ok (v0.58)
CPAN: Term::ANSIColor loaded ok (v1.11)

cpan shell -- CPAN exploration and modules installation (v1.8861)
ReadLine support enabled

cpan[1]> o conf use_sqlite 1
Warning: unknown configuration variable 'use_sqlite'
    use_sqlite         [1]
Please use 'o conf commit' to make the config permanent!


cpan[2]> m CPAN
CPAN: YAML::Syck loaded ok (v0.71)
Going to read /home/k/.cpan/build/
............................................................................DONE
Found 593 old builds, restored the state of 343
Updating database file ...
Done!
Can't call method "set" on an undefined value at lib/CPAN.pm line 962.
 at lib/CPAN.pm line 276
        CPAN::shell() called at -e line 1


	Hmmm. So Randy wants to have use_sqlite to be set before we enter the
	shell and he wants it only within the shell. This is pretty likely
	wrong.

	Trying to set use_sqlite earlier with a tiny patch to Makefile.PL.
	Doesn't work because CPAN::SQLite loads MyConfig again according to the
	debugger:

	$ = require '/home/k/.cpan/CPAN/MyConfig.pm' called from file `/home/src/perl/repoperls/installed-perls/perl/peHlG5S/perl-5.8.0@29243/lib/site_perl/5.9.5/CPAN/SQLite.pm' line 50

	So we lose the switch again. Back to the drawing board.

	Either I need a way to use CPAN::SQLite without having it guess CPAN.pm
	internals all over the place. Or Randy needs a CPAN.pm that has API
	calls for all the CPAN.pm internals. I cannot allow a plugin that tries
	to reload the Config file and overwriting the Internals that I have
	currently set. This is happening and makes it hard to predict what will
	happen next.

	FIXED by Randy

	* Bug: When I tried to report MSCHWERN/B-Generate-1.06_2.tar.gz, it
	failed but did not try all 43 hosts.

Trying with "/usr/bin/lynx -source" to get
    http://mirror.eunet.fi/CPAN/authors/id/M/MS/MSCHWERN/B-Generate-1.06_2.tar.gz
Error while trying to rename '/home/k/.cpan/sources/authors/id/M/MS/MSCHWERN/B-Generate-1.06_2.tar.gz.tmp13806' to '/home/k/.cpan/sources/authors/id/M/MS/MSCHWERN/B-Generate-1.06_2.tar.gz': No such file or directory
 at lib/CPAN.pm line 267
        CPAN::shell() called at -e line 1

	Lynx again!

	Try
	/usr/bin/lynx -source http://mirror.eunet.fi/CPAN/authors/id/M/MS/MSCHWERN/B-Generate-1.06_2.tar.gz

	They send an error page that looks different than usual

	Fixed in SVK rev. 1298

	* degraded mode problems: I did an 'o conf commit' in degraded mode and
	blew away some config variables. We need a global that disallows commit
	from degraded shells. It would also disallow 'defaults' because that
	would restore the other config variables.

	DONE. But MAYBE we want to tie $CPAN::Config?

	* Bug: ~ expansion missing or warning demanded

	From: Adam Kennedy <cpan@ali.as>
Subject: Re: Trouble installing module: "LWP not available"
To: cpan-discuss@perl.org
Date: Wed, 08 Nov 2006 16:55:21 +1100

Andreas

Speaking of bad configs, I think I might be a good idea to start
adding some basic error checks.

Yesterday I got caught by the various paths not allowing the use of
tilde ~. Instead of my homedir, it installed to a directory called,
literally, "~".

Apart from being a little annoying, fixing it required I make the
scariest command I've ever done on a production system.

rm -rf "~"

:/

Adam K

	DONE in SVK rev. 1290


	* Bug: Still in the code: $pid = open README, "which $binary|" in
	_check_binary().

	Reported as #22893. See also File::Which.

	FIXED in rev.1294

	* "shall I try to run in degraded mode" should not come a second time
	within the same session. Currently it can happen.

	FIXED in SVK rev. 1292

2006-11-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Buglet: unshift of the recommended URL is not correct because then we
	have it twice in the array FIXED

	* Todo: write a hosts command that sums up what is in FTPstats. Offer
	randomness in the download selection. DONE

2006-11-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: somebody truncates the FTPstats file when YAML is not installed.
	Hopefully fixed in SVK rev. 1242

	* To: Florian Scharinger <florian@epcc.ed.ac.uk>
Cc: perl-qa@perl.org
Subject: Re: CPAN::Shell->install() downloads dependencies, but doesn't add them to @INC for tests
From: andreas.koenig.gmwojprw@franz.ak.mind.de (Andreas J. Koenig)
Gcc: nnml:sent
--text follows this line--
>>>>> On Wed, 08 Nov 2006 18:13:26 +0000, Florian Scharinger <florian@epcc.ed.ac.uk> said:

  > Hi perl-qa,
  > I'm trying to download missing Perl test modules automatically during
  > build time of my project, by using:

  >  use CPAN;
  >  CPAN::Shell->install("Test::Exception");

  > Test::Exception has dependencies, which the CPAN shell detects correctly:

  > ---- Unsatisfied dependencies detected during
  > [A/AD/ADIE/Test-Exception-0.24.tar.gz] -----
  >     Test::Builder
  >     Sub::Uplevel
  >     Test::Builder::Tester

  > The dependencies are downloaded and built, however, when then running
  > the tests for Test::Exception it doesn't include the path to the just
  > downloaded modules:

	ANSWERED.

	* Bug: 'o conf init urllist' it offered me lots of URLs without trailing
	slash, e.g. ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/CPAN but then
	some other code appended authors/ without inserting the slash:

cpan> reload index
Fetching with LWP:
  ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/CPANauthors/01mailrc.txt.gz
LWP failed with code[404] message[Can't chdir to CPANauthors]
Fetching with Net::FTP:
  ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/CPANauthors/01mailrc.txt.gz
  Couldn't cwd pub/Mirrors/CPANauthors: Failed to change directory.
Fetching with Net::FTP
  ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/CPANauthors/01mailrc.txt.gz.gz
  Couldn't cwd pub/Mirrors/CPANauthors: Failed to change directory.

	FIXED in SVK rev. 1240.

2006-11-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* randy kobes sent two patches--Thanks Randy, I'm swamped with work ATM

	* imacat writes in #22749:

	> I found that CPAN is NOT downloading CHECKSUMS alone with the
  > package file (*.tar.gz) from the SAME source.  This morning when I was
  > updating the newly-updated DBI-1.53, it cannot match CHECKSUMS with
  > DBI-1.53.tar.gz since they came from 2 different sources, and each has
  > its own mirror schedule.  The package file DBI-1.53.tar.gz came from a
  > mirror that has it, but CHECKSUMS came from another that doesn't have it
  > yet.  Shouldn't they be downloaded from the same mirror source?

	[the protocol shows how the fourth host succeeds for
	TIMB/DBI-1.53.tar.gz but CPAN.pm then fetches the CHECKSUMS file from
	the first]

	For young files there is often a short timespan within which there is no
	entry in the checksums file yet, even if they come from the same host.
	As you are always working with very young files, I'm surprised it
	doesn't happen more often to you.

	But in principle you are right, CPAN.pm should try to get checksums file
	from the same host because the likelihood is higher to get an uptpdate
	checksums file.

	sub _ftp_statistics
	sub _new_stats
	sub _add_to_statistics
	sub _recommend_url_for

	And then fill the stats hashref in each of the download methods
	individually:

	method, hosts tried with successmode, time finished, file size,
	timestamp!

	First working version with crappy stats (no nosuccess reflection) now
	tested with a couple of European sites in urllist and running

	!unlink "/home/k/.cpan/sources/authors/id/N/NW/NWCLARK/Acme-Meta-0.02.tar.gz"
	force test Acme::Meta

	in an endless loop looks good.

	Now todo: improve the statistics with above mentioned fields and with
	nosuccess data and actually honour the $file argument to
	_recommend_url_for() when a CHECKSUMS file is requested. Maybe make the
	randomness a selectable feature?

	FIXED
	
2006-11-04  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* https://rt.cpan.org/Ticket/Attachment/250710/107655/ is a bug in YAML
	combined with long strings. Would like to see if bleadperl also fails.

	Its parent is https://rt.cpan.org/Ticket/Display.html?id=22134
	
	I've put my findings in there. FIXED.

	* ALERT! A test in YAML turned red with blead??? It turns out that my
	YAML crashes bugs-rt when the URI module is installed and passes all
	tests when the URI module is not installed. The second test in bugs-rt.t
	has "skip_unless_modules: URI". So it's an older bug that I just did not
	see upto now. Bugreport to P5P written.

	* Da fällt mir ein, ich habs kürzlich anders gelöst, wenn du das nächste
  > mal testest, probier mal diese Lösung (mit AnyEvent, sinngemäß gehts
  > auch mit Coro):

  >    BEGIN { $ENV{PERL_RL} = "gnu" } use Term::ReadLine;

  >    my $rl = new Term::ReadLine "cfshell";

  >    my $w = AnyEvent->io (fh => $rl->IN, poll => 'r', cb => sub { $rl->callback_read_char });

  >    $rl->callback_handler_install ("$ARGV[0]> ", sub {
  >       $rl->add_history ($_[0]);
  >    }

  > Allein das $ENV...= läßt mich grausen, aber irgendjemand hat halt
  > entschieden, daß zwei völlig API-inkompatible module nicht getrennt
  > ladbar sein dürfen.

  > Ach ja, zum zwischendurch was ausgeben mache ich:

  >    $rl->crlf;
  >    print ...
  >    $rl->forced_update_display;

  > und beim exit muss man:

  >    $rl->crlf;
  >    $rl->deprep_terminal;

  > machen.

  > -- 
  >                 The choice of a
  >       -----==-     _GNU_
  >       ----==-- _       generation     Marc Lehmann
  >       ---==---(_)__  __ ____  __      pcg@goof.com
  >       --==---/ / _ \/ // /\ \/ /      http://schmorp.de/
  >       -=====/_/_//_/\_,_/ /_/\_\      XX11-RIPE


2006-11-03  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-11-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Faszinating: Coro/eg/readline

2006-11-02  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* Oops! Something changed my
	t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Build-DepeFails-1.02.tar.gz

	!!! Ahh, that explains something! The copy I had here believed to be
	newer and "M", I should have reverted, I suppose.

	* 30shell fails because of missing checksum data after a force get.
	FIXED

	New ideas from Slaven: patch -p0/1/etc might be autodetected

	More match variables like all config variables or $^O ("os"?) and
	perlver.

	Finally: leaving back the .orig files (which I called -g0, why?) only
	when debugging turned on?? I think I'll remove -b and -g0 and use
	$ENV{PATCH_GET}=0 instead. Honorable mention: Text::Patch, unfortunately
	stalled.

2006-11-01  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Locking needs to be resolved soonish to enable safe concurrent
	megainstalls and concurrent running shells.

	I want to share the build_dir first because this is currently the most
	dangerous spot. I suppose we can have it by using File::Temp for the
	individual build_dir. We would have to turn off build_dir_reuse for the
	second process (Update 2006-11-17: Why?). Nobody would ever overwrite a
	build_dir. Some guys would remove old directories and this would do no
	harm. Should be done in rev. 1183.

	Even if the second uses the same perl as the first one, we could coexist
	because many commands scan the INC repeatedly. Things we do not scan
	again and again are ???

	historyfile: We would have to set histfile to nil for the second. DONE
	1181

	metadata: we would turn it off for the second. We could
	neither read nor write it safely without locking protocol. DONE 1181

	reading traditional index files: make writing atomic, let the second
	only read them (by setting expiration time to inf). DONE 1181 Actually,
	this was nonsense. the expiration time must not be changed. The user
	wants to read index files from time to time... REVERTED in 1188

	ability to reload index: turn off for the second DONE 1181

	storing/listing local bundles: risk REVISIT LATER

	local directories with the dot: risk REVISIT LATER

	shared source: make it atomic to download (if it isn't yet) DONE 1180

	Different perspective: batch jobs have not had a lock ever since CPAN.pm
	exists. They could break each other on any occasion. Did they write the
	histfile? Seems not so. Timestamp does not change with my tests and it
	does not say "Lockfile removed". Yes, checklock is only called from the
	shell (and from mkmyconfig but this is negligible). REVISIT mkmyconfig

	But they read metadata and shouldn't. Disable! DONE 1181

	And they reuse build_dir. Disable! DONE 1181

	But they MUST read the index files: make writing atomic! DONE 1180

	Is CPAN::FTP::localize doing its storage management atomicly? YES, since 1180

	Todo: consider setting scan_cache to "never" or maybe not.

	* Todo: compare the output of the 'failed' command within megainstall
	and after reentering the shell. DONE and found one bug and fixed it in
	rev. 1178

	* I wanted to watch some scenarios with persistent data. Especially with
	modules that work and that are being tested again and again with prereqs
	and without or within bundles and if they are retested or not, installed
	or not with persistence and within the same session.

	Write a megatest?

	* Wondering why I find this in the build directory in Crypt-CBC-2.22.yml:

  writemakefile: !!perl/hash:CPAN::Distrostatus 
    COMMANDID: 0
    FAILED: ''
    TEXT: YES

	Note the 0 in COMMANDID.

	A: The reason is that we only issued one command with 'make
	megainstall', so this is correct.

	* Does the shell still do locking? Under which circumstances is locking
	turned off? Console/terminal I suppose.

	A: yes.

2006-10-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* just a memo what I usually install:

	    install Bundle::CPANxxl Math::BigInt::GMP Plagger Bundle::Phalanx100 Jifty Coro Getopt::Euclid DBIx::Class IPC::PubSub Bundle::Pause PadWalker Graph::Easy

	YAML::Syck after Bundle::CPAN did not turn off interactivity.

	YAML::Syck before Bundle::CPAN worked well.

	CPAN::Reporter before YAML worked well but we want to catch the early
	YAML interactivity (which in turn can be avoided with YAML::Syck).

	Now all in "make megainstall" including logging.

	* Todo: some capture stuff maybe collected into the YAML files in
	build_dir that contains all relevant output of that distro so we can
	study the nonsense that currently goes on when I do my mega install on
	maint-5.8.

	For some reason some modules failed early in the cycle and then never
	got re-tested. And they broke others which also didn't get re-tested. In
	the end we had a lot of modules uninstalled that would test individually
	well but all refused to re-test without force.
	
	One simple solution was to 'force test Bundle::CPANxxl' but that took
	many minutes again.

	[What's the deal with PathTools? Ahh, the dependency on
	ExtUtils::CBuilder again. I have reported the bug but it is not yet
	fixed. FIXED in Bundle::CPAN by pulling CBuilder to the front,]

	For example the chain broke: CPAN::Checksums -> Data::Compare ->
	File::Find::Rule -> Number::Compare. I could install Number::Compare now
	when I asked for it (without force!), and then the chain could be
	resolved step after step.

	Something's fishy.

2006-10-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Q: Why is this: during install Bundle::Phalanx100 I get for
	DBD::Oracle a writemakefile NO
	'/home/src/perl/repoperls/installed-perls/perl/pIOeQkH/perl-5.8.0@29165/bin/perl
	Makefile.PL' returned status 65280

	When I leave the shell and start it again and call 'failed' it is gone.

	A: because we did not care for the state safe

	Fixed in rev. 1172

2006-10-30  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* From: "David Golden" <xdaveg@gmail.com>
Subject: CPAN::Reporter and Bundle::CPAN
To: "Andreas J. Koenig" <andreas.koenig.gmwojprw@franz.ak.mind.de>
Date: Mon, 30 Oct 2006 10:04:05 -0500                                           

With CPAN::Reporter 0.29, all the config items are switched over.  The
Todo backlog is still non-trivial, but I don't think any of the items
will cause back-compatibilty problems down the line.  Given that,
please feel free to add CPAN::Reporter to Bundle::CPAN whenever you
have a chance.

David

	* disable PerlMagick

2006-10-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* File::Slurp vs Pod::Coverage. Ticket opened:
	http://rt.cpan.org/Ticket/Display.html?id=22693
	
2006-10-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Need to write build_dir/*.yml files also if reuse is turned off. And
	also when we fail.

	* Need a 'disabled' keyword on distroprefs. The hack to use
	cpanconfig/make=false is both Unix centric and not obvious. ADDED in
	rev. 1159

	* distroprefs is harder to use with build_dir_reuse than before. We now
	need "force get" more often because the old prefs value is in the distro
	object. Force get can mean a network connection, so there's a need to
	decide how we want to deal with that.

	First idea is to remove the prefs from the serialized object but this is
	much worse in case a patch has been applied.

	* new method perl_fingerprint and _is_deeply or so to compare previous
	and current fingerprint. DONE in rev. 1158

	* Math::Pari was definitely broken by blead. Make it a bug report(?)
----Program----
eval {require Math::Pari};
print $@ ? "N/A" : Math::Pari->VERSION;
print "\n";

----Output of .../pAEBdqj/perl-5.8.0@24541/bin/perl----
2.010709

----EOF ($?='0')----
----Output of .../pIwwDvK/perl-5.8.0@24542/bin/perl----
N/A

----EOF ($?='0')----
Need a perl between 24541 and 24542

	This between Ilya and me:

> But bleadperl@29045 doesn't compile with:
> 
> cc -c  -I pari-2.1.7/src -Ipari-2.1.7/src/headers -Ipari-2.1.7/src -I./libPARI -DDEBUGGING -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g   -DVERSION=\"2.010708\" -DXS_VERSION=\"2.010708\" -fPIC "-I/home/src/perl/repoperls/installed-perls/perl/pqbZHKu/perl-5.8.0@29045/lib/5.9.5/i686-linux-64int/CORE"  -DPARI_VERSION_EXP=2001007 -DDEBUG_PARI -DLSB_in_U32=0 -DLONG_SHORTER_THAN_IV -Derr=pari_err Pari.c
> Pari.xs:1219: error: 'XPVCV' has no member named 'xof_off'
> Pari.xs: In function 'XS_Math__Pari_DESTROY':

	xray searching for "Ilya CV attach" finds
	http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-02/msg00633.html

	Reading 24542.... Posting to P5P WRITTEN

	Answer received with a pointer to a previous discussion where Nicholas said

	|Assuming it is, in blead upgrading the PVCV to a PVFM and using
	| IV		xfm_lines;
	|instead should work. The structures are equivalent, except that PVFM
	|has that one extra IV at the end.

2006-10-28  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* think about the locking from a different angle: currently it is
	possible but unsafe to have concurrent access to the .cpan/build
	directory

	* go after the Module::Build errors in Error.pm and Mason: I suspect
	that's the set_perl5lib bug mentioned by Ilya. NO, it was not the
	set_perl5lib bug. The bug is that the two distros use subclassing in
	their Build.PL and so Module::Build's own methods are unable to provide
	the prerequisites. My workaround for now is to fall back to the content
	of META.yml, the bug persists and needs to be discussed with M:B people.

	* write a dummy distro that reads arguments to Makefile.PL and another
	one that reads something from STDIN (or maybe both in one) DELAYED until
	the distroprefs stuff leaves the alpha stage.

	* replace 03 index file with YAML.

	* Todo/buglet: turn on debug "CPAN" and find the reason why
	incommandcolor is quite often not reset. We had that further down but I
	fear it is not yet fixed.

	* H3 Locking: Linda W writes

	>I'm not sure I understand the reason for the lock file
	>placed in cpan_home.  If I have two different architectures
	>with different build directories, I'm not sure I understand
	>where the conflict is -- is it in storing/listing Bundles,
	>the history file, the Metafile or the shared source?
	
	>I can understand private history, but the Bundles aren't
	>updated often, the sources should be fairly static (unless
	>new files are downloaded), The metafile would be updated about
	>once a day (default).
	
	>If the build directories are separate, why would there be a
	>need for locking more in interactive use vs. batch use?

	And I promise to try out a more granular locking mechanism. This was
	between 2006-01-26 and 2006-02-01 (and I wrote a paragraph into the
	manpage how multiple ~/.cpan* directories could work)

2006-10-27  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Test if "reuse" works without metadata (timing issues because the
	entries do not exist yet?) No, it doesn't! FIXED in rev 1149

	* Investigate what happens if a user has CPAN 1.8802 and Module::Build
	0.2611 and tries to upgrade to 0.2805. Gabor says, it fails. If it
	fails, I'll have to coin a new phrase for the bug: install suicide? No
	need to worry, ATM it works more or less well, but it doesn't fail
	rightaway. CHECKED after rev. 1149 or so.

	* Rethink if Ilya's expire_old_builds is better the build_dir_reuse in
	that it sets an expiration date. His -1 is my 1. His 0 is my 0. I have
	nothing like his 30. The name of his variable is not good in that one
	could believe that setting expire_old_builds==0 might mean to do NOT
	expire them at all. Hmm. I think my build_dir_reuse is good enough.

	* Todo: invent a test for build_dir_reuse. It should construct a YAML
	file before test start that will then be picked up and lead to some
	"already in..." which we test for. And then we use force to actually get
	that distro. Or we do that for an inexistent distro so that we do not
	have to rewrite the test after each new release? DONE in rev. 1152

2006-10-25  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: if the user does not want to install a module (say a
	build_requires), give him options to use the already tested module even
	after he has left the shell.

	Ilya seems to say, people do NOT want to install a number of modules
	because they are not yet sure if they really need them. But they have
	tested them and have them still lying around in their ~/.cpan/build
	directory. So we should give them a chance to use them next time they
	come around with the same perl.

	DONE in rev. 1140 with build_dir_reuse

	* Todo: put the distro ID close to the OK or NOT OK line DONE in rev.
	1136 or so.

	* What was the deal with

Package 'CPAN' already declared with version '1.88_57'
ignoring new version ''.
Looks good

	again?

	http://www.mail-archive.com/module-build@perl.org/msg00340.html

	* Since DBI is fixed I see other interesting breakages: Class::DBI,
	RPC::PlServer, GD.

	GD fails with 5.8.8 and 5.8.3

	Class::DBI fails with 5.8.8

	RPC::PlServer fails with 5.8.8 and 5.8.3 but only if Crypt::DES is
	installed

	OK, so nothing new.

2006-10-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Coro 2.0 works with bleadperl Yay! YAML for Coro with default answers
	written.

	* bug with notest pragma: it seems to remain in the distro object. I did
	a report DAGOLDEN/CPAN-Reporter-0.28_51.tar.gz, then I did a "notest
	install" on it. Then I reloaded and tried a "report" on it again and
	CPAN refused to run the test because of the notest pragma.

	FIXED in rev. 1132 but what is a good test for it? test WRITTEN in 1133.

2006-10-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* The ->VERSION bug was back for a short while. It happens when
	version.pm is not installed and Module::Build loads its own version.pm
	from <data>. There it finds 0.661 and this does something that isn't
	fool proof, very hard to diagnose and to reproduce. Easy workaround: do
	not check for Module::Signature->VERSION anymore. The test was on 0.26
	and we now have 0.55, so I guess, I can remove the version test.

	As soon as I have means to not call into Module::Build, this bug will
	diappear for sure, so no need to hunt it down from here. FINISHED in
	rev. 1123

	So recall: one can turn off sig_check, then install version, then leave
	and enter CPAN.pm and the bug should disappear. Or we release 1.88_57
	now. Update: I released 1.88_57 immediately after that.

	* SMPETERS fixed DBI-1.52. Thank you! YAML for DBI with patch address
	written

2006-10-23  Andreas J Koenig  <akoenig@iconmobile.com>

	* make a list of cpanconfig variables that can be changed via
	distroprefs. Extend the list and document it, so that people can look it
	up and do not have to read the source and can file bug reports against
	it.

	I fear for example that the preferred builder is not configurable(?)
	latter half FIXED in rev. 1124

	First half done with rev. 1125

	* Write an executive summary of the state of affairs wrt. distroprefs so
	we can decide about future directions. Update the README file to better
	outline the executive summary. Update the examples to better reflect our
	powers and weaknesses.

	What we have:

	- Give the user a simple system to store per-distro preferences related
	to environment variables, commandline args and stdin for the four
	commands of our traditional mantra: perl Makefile.PL, make, make test,
	make install (and symmetrically for M:B modules)

	- Give the user the option to patch distros with arbitrary patches from
	local disk or CPAN

	What we aim at:

	- Give the users a simple means to exchange their preferences to reduce
	the overhead of maintaining them. As it currently stands, those YAML
	files devaluate quickly as new distros arrive.

2006-10-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* release a 1.8802 with the HTML::Mason workaround? Because it may take
	a while until 1.89 is ready to go. DONE in rev. 1120

2006-10-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: gzipped patches; DONE in rev. 1103

	* patches that are not separate files but live in the YAML file? REJECT
	unless somebody requests it.

2006-10-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* add CPAN::Reporter to Bundle::CPAN (which version of CPAN.pm needs
	CPAN::Reporter currently? -- 1.88) WAITING for OK from David Golden

	* Tina suggests: if the user has changed some config variable via 'o
	conf' mechanism and has not yet saved the new config via 'o conf commit'
	and is leaving the shell without saving, we could trigger a dialog.
	#22396 talks about this.

	After some thinking: maybe I prefer just a loud warning instead of a
	hanging terminal. Hmmm.

	This is a critical/showstopper thing because people perceive it as a
	bug. rev. 1114 FIXES

	* Todo: find out the remaining relevant pieces of Ilya's patch:

	(1) better logging (maybe with the help of CPAN::Reporter?) I said below
	that we have colors now, but fact is that you have to scroll back and if
	you install 100 modules, you cannot investigate without disturbing the
	process. One would like to study STDOUT and STDERR in a separate window.

	(2) "cpantok#" keep some test OK state between sessions. I see no strong
	need for this ATM.

	* just a memo what I usually install:

	    o debug CPAN Distribution
	    install YAML::Syck Expect YAML Bundle::CPAN Module::Signature CPAN::Reporter Math::BigInt::GMP Plagger Bundle::Phalanx100 Jifty

	YAML::Syck after Bundle::CPAN did not turn off interactivity.

	YAML::Syck before Bundle::CPAN worked well.

	CPAN::Reporter before YAML worked well but we want to catch the early
	YAML interactivity (which in turn can be avoided with YAML::Syck).

	* as long as HTML::Mason/Module::Build are broken, we should use
	Bundle::HTML::Mason? Alas, it doesn't list HTML::Entities. And after
	that it still fails on 07-interp.t. Ah, ok. Report sent. But can we
	patch it? DONE

	* Maybe add support for more CPAN::Config variables in distroprefs

	* Todo: document the trailing dot and that it is useful in a Bundle file
	and that there is a LOCAL.trailing_dot_distros.yml in the distroprefs
	directory. DONE in rev. 1093

	* Todo: extend patch ability to files from CPAN to be downloaded on the
	fly DONE in rev. 1089

2006-10-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* highest prio: patches. Easy to test with an example against one of my
	failing dummy distros. DONE in rev. 1086

	* add 'perl' to the matches stuff of distroprefs DONE in rev. 1087

	* When we have support for patches and apply patches, we should also
	disable reporting through CPAN::Reporter. DONE in rev. 1088

2006-10-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Ilya's patch

	svn cp -r 131 https://pause.perl.org:5460/svn/cpanpm/trunk https://pause.perl.org:5460/svn/cpanpm/branches/1.76-ilya200610

	https://pause.perl.org:5460/svn/cpanpm/branches/1.76-ilya200610 now lives in

	/home/k/sources/CPAN/SVN-branches/1.76-ilya200610/

	and the patch is applied and checked in. Ready for studying.

	Original discussion: google groups for prerequisites_policy expire_old_builds.

	Today I would suggest

	(1) prio 1!: organize patching into distroprefs, full path within the
	YAML file seems acceptable (DONE)

	(2) organize logging into distroprefs via redirection (might be easy but
	prio low because we have colors now)

	(3) keep the new meaning of the trailing dot, it does not interfere with
	patching as it is for *personal* distrodirectories (make sure it works
	with local bundles! (DONE[it did already])). For local distros one does
	not need patching (and if you do, you know what you're doing).

	(4) mark_tested_ok is similar to distcc/ccache and could probably be
	implemented as such. The time consuming step on perl distros is 'make
	test' and that makes it very complicated. One would need a checksum of
	perl AND all used modules during the test. Like for example File::Slurp
	failing with current combination of perl and Test::Pod::Coverage but
	succeeding without T:P:C

	Poor man's variant of it may be one that works only with a perl checksum
	or mtime as Ilya did. Still seems outside the scope of CPAN.pm but
	should be supported once it works outside with simple mantra.

	For now, distroprefs give you a different 'make' command for a
	permanently-known-to-be-tested module, that might be just 'true' on UNIX
	or something to do with distcc/ccache-like solution.

	That might be annoying if one works with different perls and want to
	have different modules marked as tested_ok. Maybe we need to add "perl"
	into the "match" structure? (Yes!) (DONE)

	(5) Faszinating is the idea to leave the shell and come back into the
	same state of already tested but uninstalled modules. But why are they
	not installed? Hrm, maybe because once installed, nobody will re-test
	them? Need further arguments.

	(6) install_tested is the normal default when running 'install' instead
	of 'test'. What's the deal?

	(7) containsdists is implemented but nowhere used, so what?

	(8) I have not yet understood the distinction between force_test and
	force_update and the call $self->test('install') seems bogus.

	* just a memo what I usually install:

	    o debug CPAN Distribution
	    force install Expect
	    install YAML Bundle::CPAN Module::Signature CPAN::Reporter Math::GMP Math::BigInt::GMP Plagger Bundle::Phalanx100 Jifty

	YAML::Syck after Bundle::CPAN did not turn off interactivity.

	YAML::Syck before Bundle::CPAN worked well.

	CPAN::Reporter before YAML worked well but we want to catch the early
	YAML interactivity (which in turn can be avoided with YAML::Syck).

	* From David Golden forwarded rt.cpan.org #20979

     head -13 C:/vanilla-perl/perl/lib/CPAN/Config.pm|tail -1
     'cpan_home' => q[C:\vanilla-perl\.cpan\],

		 The trailing backslash escapes the delimiter and creates a syntax
		 error. This is always reproducable for the latest release of CPAN:

	FIXED in rev. 1071.

	* In case somebody asks again, this is from Test::Harness 2.62

+2.62 Thu Jun  8 14:11:57 CDT 2006
+    [FIXES]
+    * Restored the behavior of dying if any subtests failed.  This is a
+      pretty crucial bug that I should have fixed long ago.  Not having this
+      means that CPANPLUS will install modules even if their tests fail. :-(
+

	This came into blead @28384.

2006-10-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Add Jifty to your regular testing.

2006-10-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Need to look after Math::Pari's errors DONE: 

	#ifdef LONG_SHORTER_THAN_IV
  #  error "LONG_SHORTER_THAN_IV not implemented"

	seems to be related to -Duse64bitint. Report to Ilya sent.

	* First thought: it would be cleaner if you just didn't pass any distro
  > with LOCAL as the author to CPAN::Reporter.  I'd rather leave the
  > logic of when CPAN::Reporter should be invoked to CPAN.pm.  (E.g.
  > Expect scripts)

	Good. I'll make that then.

	DONE in rev. 1061

	* More files to be marked with svn:ignore. DONE in rev. 1063

2006-10-16  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* two distroprefs files were in 1.88_55 but not in SVN:-( must write
	some code that prevents this bug from happening again.

	Snag is that ChangeLog, META.yml, SIGNATURE, and
	t/CPAN/authors/id/A/AN/ANDK/NotInChecksums-0.000.tar.gz are not intended
	to be checked in. --> svn:ignore DONE

	* new maint-5.8:
drwxr-xr-x  34 k k     8192 Oct 15 21:38 perl-m-5.8.0@29022/
drwxr-xr-x  35 k k     8192 Oct 15 21:19 perl-p-5.8.0@29023/

2006-10-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Investigate what's going on with Crypt::DH and Net::SSH::Perl. Both
	seem to hang during the tests. Might be a GMP issue. We must pull GMP to
	the front, otherwise Math::Bigint takes all the time (I suppose). Hrm,
	the DH test ran over hours even with GMP (but I'm not sure yet, need to
	make the observation control tighter).

	* Feature request by Slaven: build a patched thing. Reminds me of Ilyas
	words about something involving patches. Maybe (1) if the argument ends
	with a dot, it is a local directory: go there and build. (DONE in rev.
	1056) Maybe (2) keyword patch in distroprefs. (DELAYED indefinitely)

	* new maint-5.8:
	drwxr-xr-x  34 k k     8192 Oct 14 23:48 perl-m-5.8.0@29014/
	drwxr-xr-x  35 k k     8192 Oct 14 23:30 perl-p-5.8.0@29015/

2006-10-14  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Test installing Plagger with saying yes to all dependency questions.
	Needs 63 times "Y\n" :-) => say --defaultdeps instead of --installdeps=y
	DONE in rev. 1038

	* Add support for all(?) other CPAN::Config variables. Maybe by turning
	them all into methods in CPAN::Distribution, maybe via autoload, maybe
	with clever use of local(). Currently only "make",
	"make_install_make_command", and "build_requires_install_policy" are
	supported. The first two for PDL on freebsd, the last one was just for
	quick testing of the mechanism. Added test_report around rev. 1061

	* Randy Kobes' CPAN-Search-Lite lives at
	http://sourceforge.net/cvs/?group_id=101571 and on my local disk at
	/home/src/perl/cpan-search-lite/CPAN-Search-Lite. As it needs DBI, it
	cannot use bleadperl. Latest maint-perl is 28854.

	AI::Categorizer needed by t/basic.t, not listed as prereq. Needs in turn
	(unlisted?) Algorithm::NaiveBayes. Bug report to Ken sent.

	Warning: prerequisite Config::IniFiles 0 not found.
	Warning: prerequisite DBD::SQLite 0 not found.
	Warning: prerequisite File::Listing 0 not found.

	DBD::SQLite did not compile on the first try. But it did on the second.
	I think in between I installed libsqlite0-dev.

	Trying make test.

	No again: I have no Lingua::StopWords:=(
	No SOAP::Lite
	No Perl::Tidy
	No HTML::TextToHTML
	No Pod::Xhtml
	No XML::SAX::ExpatXS

	Finished installing prereqs, all tests except Mysql pass which is OK.
	(mysql fails for me only because my mysql has no password and you cannot
	specify on the commandline that it has no passwd. You can only specify A
	password but it must not be empty)

	make install is OK.

	First invocation of the indexer with

	/home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/bin/csl_index --config /home/src/perl/cpan-search-lite/cpan.conf --setup
Using config file "/home/src/perl/cpan-search-lite/cpan.conf"
Cannot retrieve /home/src/perl/cpan-search-lite/indices/ls-lR.gz from file:///home/ftp/pub/PAUSE/indices/ls-lR.gz at /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/lib/site_perl/5.8.8/CPAN/Search/Lite/Index.pm line 198.

	Ouch, ls-lR.gz is used for what exactly? That's pure funet. I fetch it
	from there. It's huge (2.4M)! How often do they update it?

	/home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/bin/csl_index --config /home/src/perl/cpan-search-lite/cpan.conf --setup
Using config file "/home/src/perl/cpan-search-lite/cpan.conf"
Cannot retrieve /home/src/perl/cpan-search-lite/MIRRORED.BY from file:///home/ftp/pub/PAUSE/./MIRRORED.BY at /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/lib/site_perl/5.8.8/CPAN/Search/Lite/Index.pm line 198.

	Gotta get this mirroredby file as well...

	% /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/bin/csl_index --config /home/src/perl/cpan-search-lite/cpan.conf --setup
Using config file "/home/src/perl/cpan-search-lite/cpan.conf"
Argument "0.20a" isn't numeric in numeric comparison (<=>) at /home/src/perl/repoperls/installed-perls/maint-5.8/pjTSIuN/perl-5.8.0@28854/lib/site_perl/5.8.8/CPAN/Search/Lite/Util.pm line 274.
	[...]

	Ah, it's quite fast.
	

	* write a dummy distro that reads arguments to Makefile.PL and another
	one that reads something from STDIN (or maybe both in one) DELAYED until
	the distroprefs stuff leaves the alpha stage.

	* Measure kwalitee with Module::CPANTS::Analyse before uploading. That
	way we can catch bugs in M:C:A itself or in its dependencies. DELAYED
	because currently M:C:A doesn't pass its own tests.

	* write a test with new dummy modules PrerecqurseI and II (or CircDep?)
	Take t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make as the
	source and
	t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeOne as
	target. DONE in rev. 1031

	* Schwern reopened 21144. Go resolve, I have promised before the next
	release. FIXED in rev. 1016 and 1018

2006-10-13  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* Slaven want direct support for $Config->{make} and
	make_install_make_command so that it can be set to gnumake for PDL on
	freebsd. DONE in rev 1015

	* Slaven says that no user knows the distroname as well as the module
	name. ==> Change the prefs hash structure. "qr" shall be replaced by
	"match" and contain "module" and/or "distro" which are ANDed conditions
	and each may contain a regex. We probably will rename all distroprefs
	files too. DONE in rev. 1013/14

2006-10-13  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* always check if *c*nm*b*l* has crept into the Todo file!

2006-10-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* check the version numbers since we rolled over rev. 1000. DONE, is OK

	* Fix what podcover found: prefs and yaml_loadfile DONE.

	* See if YAML::Tiny works and if so, mention it in FirstTime and maybe
	make it the default?? Doesn't seem to work out of the box. DONE and
	documented in FirstTime.

	* I hate Module::AutoInstall. Watching installation of Plagger:

  CPAN.pm: Going to build M/MI/MIYAGAWA/Plagger-0.7.13.tar.gz

make[1]: Entering directory `/home/k/.cpan/build/Plagger-0.7.13'
/home/src/perl/repoperls/installed-perls/perl/p4tTru3/perl-5.8.0@29004/bin/perl "-Iinc" Makefile.PL --config= --installdeps=File::Find::Rule,0,UNIVERSAL::require,0.1,Template,2.13,Template::Provider::Encoding,0.04,Text::Tags,0,DateTime::Format::Strptime,0,URI::Fetch,0.071,Cache::Cache,1.04,Module::Pluggable::Fast,0,HTML::ResolveLink,0,Date::Parse,0,MIME::Types,1.16,Net::DNS,0,XML::Feed,0.12,XML::Atom,0.23,Term::Encoding,0,XML::Liberal,0.14,XML::RSS::Liberal,0,HTML::Scrubber,0,XML::Feed,0.09,XML::Atom,0.20,HTML::Scrubber,0,Time::Duration::Parse,0,WebService::Bloglines,0.11
CPAN: File::HomeDir loaded ok (v0.58)
*** Installing dependencies...

	Holy crap! Recursive installation where we are just eager to maintain a
	clean and efficient queue of installation objects and could do it
	ourselves so easily? And besides that, the INC path is not our INC path,
	so I always get a different CPAN version. While the latter is only
	disturbing a minority, it's a BUUUUUUG to go recursive.

	Not only does it cost memory, this child is also uninformed about failed
	installations!

	This needs to be fixed.

	The manpage of M:AI says it checks if it is running under CPAN.pm. Maybe
	this check is wrong? Apparently yes.

2006-10-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* restructure the prefs YAML files to have cpanconfig as key and all
	CPAN.pm configs inside that. That gives room to cpanplus. DONE

	* why did MIYAGAWA/XML-Atom not work? -- Because it asked us twice but
	our yaml file only answered once FIXED.

	* improve feedback when you pick a file for prefs settings, maybe store
	the picked yaml file in the distro object. DONE.

	* test if you can get around single modules by specifying
	prefs->{make}{nosuchtarget}. Interesting for MailTools or DBI in current
	bleadperl. EXACTLY! (and tested)

	* test if the Test-Deep setting of brip works. DONE

2006-10-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* F/FD/FDALY/Test-Deep-0.096.tar.gz is just needed temporarily during building or testing. Do you want to install it permanently? (Y/n) [no] 

	* BTROTT/Crypt-DSA-0.14.tar.gz

==> Auto-install the 1 optional module(s) from CPAN? [n] 
==> Auto-install the 1 optional module(s) from CPAN? [n] 

	* PETDANCE/WWW-Mechanize-1.20.tar.gz

Do you want to install the mech-dump utility? [y] 

	* ABW/Template-Toolkit-2.15.tar.gz

Do you want to build the XS Stash module? [y] 

+ about 9 questions

	* BYRNE/SOAP-Lite-0.69.tar.gz

Press <enter> to see the detailed list.  

Do you want to proceed with this configuration? [yes] 

Do you want to perform these tests in addition to core tests? [no] 

	* RCAPUTO/POE-0.38.tar.gz

Would you like to skip the network tests?

(Any text other than Y or y will be taken as a no) [n] 

	* DBROBINS/Net-SSH-Perl-1.30.tar.gz asks

Which protocol(s) do you plan to use? [3] 
Enter your choices, separated by spaces: [1] 
Would you like to install it? (y/n) [y] 
Would you like to install it? (y/n) [y] 

	* ILYAZ/modules/Math-Pari-2.010706.tar.gz asks

Make sure you have a large scrollback buffer to see the messages.
Fetch? (y/n, press Enter) 

	* INGY/Inline-0.44.tar.gz asks for

Do you want to install Inline::C? [y] 

	* EESTABROO/IMAP-Admin-1.6.4.tar.gz asks me for...

Enter server: 
Enter login: 
Enter password: 
Test using SSL(y/n)? 
Test using CRAM(y/n)? 
Enter Port#: 

	* NIKIP/Authen-PAM: asks me for a password during testing and I enter
	"testing". Maybe I should enter exactly what he demands?

	* GBARR/perl-ldap-0.33 and ExtUtils::AutoInstall. Read source code. Same
	for GBARR/Authen-SASL-2.10 DONE

	* CHAMAS/SSLeay: the first distro that shows us that Expect needs a
	debugging aid. Maybe fixed in rev. 998 or so

	* Interesting bug occurred with current maint when I tried to upgrade
	everything. PathTools failed and I see this:

	cpan[3]> d  KWILLIAMS/PathTools-3.22.tar.gz 
Use of uninitialized value in sprintf at lib/CPAN.pm line 4258.
Distribution id = K/KW/KWILLIAMS/PathTools-3.22.tar.gz
    CPAN_USERID  P5P (The Perl5 Porters Mailing List <perl5-porters@perl.org>)
    CALLED_FOR   File::Spec
    CHECKSUM_STATUS OK
    CONTAINSMODS Cwd File::Spec File::Spec::Cygwin File::Spec::Epoc File::Spec::Functions File::Spec::Mac File::Spec::OS2 File::Spec::Unix File::Spec::VMS File::Spec::Win32
    UPLOAD_DATE  2006-10-10
    archived     tar
    build_dir    /home/k/.cpan/build/PathTools-3.22
    incommandcolor 0
    localfile    /home/ftp/pub/CPAN/authors/id/K/KW/KWILLIAMS/PathTools-3.22.tar.gz
    make         NO
    modulebuild  1
    prereq_pm    build_requires requires
	  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    prereq_pm_detected 1
	  ^^^^^^^^^^^^^^^^^^^^
    reqtype      c
    unwrapped    YES
    writemakefile YES
    yaml_content 

	But I cannot reproduce it. So I must have upgraded something that caused
	the bug. REVISITED after 1.88_54 and FIXED in 1043.

	* Since when fails a YAML test? 0.62 with blead @28990 fails today on
	rt-bugs.t or so. Reported to P5P. RESOLVED in blead @28997.

2006-10-10  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* put the distroprefs directory into MANIFEST. DONE in rev. 993

	* DistroPrefs:

	Variable           Comment                      Done in file

  pl env                                          DBROBINS.Net-SSH-Perl.01.yml
     args                                         GAAS.libwww.01.yml
     expect                                       JJORE.Carp-Clan.01.yml
  make env
       args
       expect
  test env           Tk-Getopt(BATCH=1)           SREZIC.Tk-Autoscroll.01.yml
       args
       expect        ReadLine                     ILYAZ.Term-ReadLine-Perl.01.yml
  install env
          args
          expect
	cpanconfig:
    build_requires_install_policy                 FDALY.Test-Deep.01.yml (???)


2006-10-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-10-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Nice to have: CPAN::MyDistroPrefs to store arguments and expect
	scripts to Makefile.PL/make/test/install based on regexes being matched
	against the distroname. (think libwww, ReadLine, perl-ldap, Apache-Test,
	and always questions from Module::AutoInstall, Carp::Clan asks if I want
	a prereq for testing from Makefile.PL, Net::DNS ask if I want to run
	tests over the internet, mod_perl or Apache::Test asks me for the apache
	executable, Authen-PAM asks me for a password, Module::Signature asks
	for importing the key)

	Name? DistroPrefs is good. Customize is not so good because one would
	expect that it is related to 'o conf'. Distro must be in the name.
	DistroCustomize is too long so DistroBuildEnv seems completely out of
	band. Only Prefs is tempting but again too easily confusable with 'o
	conf' stuff. Something completely different? Its about Env, Args, Stdin.
	BuildInput? Distrinput? Distrin? No. DistroPrefs the long word, prefs
	the short one. 'reload prefs' might be a command if we need it at all.

	ALL DONE in rev. 1015; well, left in alpha state

	* Todo/buglet: turn on debug "CPAN" and find the reason why
	incommandcolor is quite often not reset.

	First example is "Net::Stomp" with a prereq of Class::Accessor::Fast.
	After it and its prereq are installed, the module Class::Accessor::Fast
	and the distro K/KA/KASEI/Class-Accessor-0.25.tar.gz are both still in
	command state.

	So it's something with follow_prereqs.

	Seems to be fixed with rev. 980 but needs to stay on the watchlist

	No, I just tried Bundle::Phalanx100 and the majority of modules was in
	commandcolor and many were neither installed nor reported as failed, so
	the rev. 908 may be buggier than we ever were?? Maybe its just the "run
	it twice" problem due to late dependency resolving. Oh and watch the
	ugly bug that shows up when makeing Mason!

	AHHHH, that is fixable with eval! FIXED in rev. 981.

2006-10-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: clean up XXX

	* automatic testing? Is it anywhere documented what the impacts of
	$ENV{AUTOMATED_TESTING} are?

	* new keyword capture? CPAN::Reporter does not know the output of the
	commands before "test" and cannot report about compilation failures.
	This looks like a major flaw to me:-(

	* E1: Nice to have: make YAML vs. YAML::Syck switchable. Another
	advantage would be that we could remove YAML from the Bundle. DONE rev. 986

	* reload cpan should be based on timestamps. Fixed in rev. 979

	* Bug via Bundle::Phalanx100? Shortly after perl-ldap-0.33 I see 

Unknown require type for 'G/GB/GBARR/Convert-ASN1-0.20.tar.gz', setting to 'r'. This should not happen and is construed a bug.

	Later:
	
Unknown require type for 'A/AG/AGROLMS/GSSAPI-0.23.tar.gz', setting to 'r'. This should not happen and is construed a bug.

	Todo: see after it. I think it's AutoInstall.

	Fixed in rev. 979

2006-10-06  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: cpan[15]> install File::Copy::Recursive                   
Running install for module File::Copy::Recursive
Running make for D/DM/DMUEY/File-Copy-Recursive-0.28.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/File-Copy-Recursive-0.28
  Has already been processed within this session
Running make test
Prepending /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/arch /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/lib to PERL5LIB.
Sorry, test with a regular expression is not supported
Running test for module File::Copy::Recursive
Running make for D/DM/DMUEY/File-Copy-Recursive-0.28.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/File-Copy-Recursive-0.28
  Has already been processed within this session
Running make test
Prepending /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/arch /home/k/.cpan/build/File-Copy-Recursive-0.28/blib/lib to PERL5LIB.
Refusing to autoload 'test' 'CPAN::Distribution=HASH(0x9b6ff30)' '/usr/bin/make test' in recursion
  /usr/bin/make test -- NOT OK
Running make for D/DM/DMUEY/File-Copy-Recursive-0.28.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/File-Copy-Recursive-0.28
  Has already been processed within this session
Running make test
  Won't repeat unsuccessful test during this command
  /usr/bin/make test -- OK
Running make install
Installing /usr/local/perl-5.8.8/lib/site_perl/5.8.8/File/Copy/Recursive.pm
Installing /usr/local/perl-5.8.8/man/man3/File::Copy::Recursive.3
Writing /usr/local/perl-5.8.8/lib/site_perl/5.8.8/i686-linux-64int/auto/File/Copy/Recursive/.packlist
Appending installation info to /usr/local/perl-5.8.8/lib/5.8.8/i686-linux-64int/perllocal.pod

	What I had done was to install CPAN::Reporter but forgot the sudo for
	make. Then I added the sudo to make_install_make_command and did a
	'force get' and then the above. The install was successful in the end
	but the "Sorry" message was written in red and completely bogus and
	together with the 'Refusing to autoload' message was frightening.

	Showstopper!

	Trying to reproduce by setting both m*_install_*_command variables to
	"false", then install CPAN::Reporter. This gives a long list of failed
	installs at the end. Then 'install File::Copy::Recursive' works as
	expected: already tried without success. Then 'force get F:C:R' works as
	expected. And then again 'install File::Copy::Recursive' works as
	expected: tests again and tries to install.

	Shhhhhhh, so I cannot reproduce this, something must have been different.

	GIVEN UP: this did not show up again in any test

	* Who broke libwww recently?

	local/http-get........ok 1/20Use of uninitialized value in numeric eq (==) at local/http-get.t line 167, <DAEMON> line 1.
local/http-get........FAILED test 5                                          
        Failed 1/20 tests, 95.00% okay
local/http............ok 1/18Use of uninitialized value in numeric eq (==) at local/http.t line 158, <DAEMON> line 1.
local/http............FAILED test 5                                          
        Failed 1/18 tests, 94.44% okay


# HTTP/1.1 200 OK
# Date: Sat, 07 Oct 2006 04:16:57 GMT
# Server: libwww-perl-daemon/1.36
# Content-Type: text/html
# Last-Modified: Sat, 07 Oct 2006 03:29:15 GMT
# Client-Date: Sat, 07 Oct 2006 04:16:57 GMT
# Client-Peer: 192.168.0.75:45978
# Client-Response-Num: 1
# Title: En prøve
#
# <html><title>En prøve</title>
# <h1>Dette er en testfil</h1>
# Jeg vet ikke hvor stor fila behøver å være heller, men dette
# er sikkert nok i massevis.
not ok 5 # content_length=0


HERE [html] at ../blib/lib/LWP/MediaTypes.pm line 70.
size[0]mtime[1160191755] at ../blib/lib/HTTP/Daemon.pm line 531.

	Daemon.pm:
	sysopen(F, $file, 0) or 
	  return $self->send_error(RC_FORBIDDEN);
	binmode(F);
	my($ct,$ce) = guess_media_type($file);
	my($size,$mtime) = (stat _)[7,9];

	Tracked and reported to P5P. FINI.
	
	* Todo: Write a new test: If one prerequisite doesn't pass its tests, we
	sure want to test the dependent module but it must not be installed. I
	have no example at hand.

	First continue fixing dummy-Build and dummy-Make distros (and maybe
	more), then make one that is depending on dummy-Fails. DONE in rev. 973

	And write the new test for it. DONE in rev. 975
	
	* Gabor reports #21692: how to reproduce? Just get a 5.8.7 and call
	upgrade on it. No, take a 5.8.8 and silently replace B::Concise with the
	5.8.7 one. OR: take some maint-5.8 short before 5.8.8! Where to find the
	patch number for 5.8.8? Module::CoreList!

	% perl -MModule::CoreList -le 'use Data::Dumper;print Dumper(\%Module::CoreList::patchlevel);' 
	[...]
          '5.008008' => [
                          'maint-5.8',
                          27040
                        ],

	Paging through diff files in APC/5.8.1/ reveals: 25914 updated
	PPPort.pm, 26929 Pod::Simple, 26985 Archive::Tar, 26988 Pod::Man, so I
	expect 26984 a good test candidate.

	My current 26984 replies to "r" command with....no 5.8.8?

	Strange! Why no 5.8.8? Ahhh, because it had no Archive::Tar and Pod::Man
	is on podlators 2.0.5.

	Trying 26876: no good.

	26727: Good! 26727 wants to upgrade Dumpvalue and bring it ot
	perl-5.8.8. I upgrade everything in 26727 except for Dumpvalue. Being
	time consuming, this needs a backup generated with

	tar cvzf p-26727plus-near-588.tar.gz installed-perls/maint-5.8/pbyWflA/perl-5.8.0@26727

	Gabor requests less noise, otherwise he consideres behaviour correct.
	Hrm, think about it...

	FIXED in rev. 963.
	
	* Bug: during 'o conf defaults' I get

Debug(HandleConfig,HandleConfig.pm,95,[Shell,CPAN.pm,1401,edit]): self[CPAN::HandleConfig]args[defaults]
Can't locate CPAN/MyConfig.pm in @INC (@INC contains: _build/lib _build/lib _build/lib _build/lib /home/k/sources/CPAN/SVN/lib /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/5.9.4/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/5.9.4 /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/site_perl/5.9.4/i686-linux-64int /home/src/perl/repoperls/installed-perls/perl/pGHVCgA/perl-5.8.0@28914/lib/site_perl/5.9.4 /home/k/sources/CPAN/SVN) at (eval 512) line 1, <GEN331> chunk 1.
Use of uninitialized value within %INC in concatenation (.) or string at /home/k/sources/CPAN/SVN/lib/CPAN/HandleConfig.pm line 285.
'' reread

	Fixed in rev. 958

	* Bug: cpan[4]> install CPAN::Reporter
Running install for module CPAN::Reporter
Running Build for D/DA/DAGOLDEN/CPAN-Reporter-0.24.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/CPAN-Reporter-0.24

  CPAN.pm: Going to build D/DA/DAGOLDEN/CPAN-Reporter-0.24.tar.gz

Creating custom builder _build/lib/Module/Build/WikiDoc.pm in _build/lib/Module/Build
Checking whether your kit is complete...
Looks good

Checking prerequisites...
Package 'CPAN' already declared with version '1.87_64'
ignoring new version ''.
 - ERROR: IO::CaptureOutput is not installed
 - ERROR: File::Copy::Recursive is not installed
 - ERROR: CPAN (1.87_64) is installed, but we need version >= 1.88

ERRORS/WARNINGS FOUND IN PREREQUISITES.  You may wish to install the versions
of the modules indicated above before proceeding with this installation

Creating new 'Build' script for 'CPAN-Reporter' version '0.24'
lib/CPAN/Reporter.pm -> blib/lib/CPAN/Reporter.pm
lib/CPAN/Reporter.pod -> blib/lib/CPAN/Reporter.pod
Manifying blib/lib/CPAN/Reporter.pod -> blib/libdoc/CPAN::Reporter.3
  ./Build  -- OK
Running Build test
  The version of your Test::Harness is only
  '2.56', you need at least '2.62'. Please upgrade your Test::Harness.
Running Build install
Installing /usr/local/perl-5.8.7/lib/site_perl/5.8.7/CPAN/Reporter.pm
Installing /usr/local/perl-5.8.7/lib/site_perl/5.8.7/CPAN/Reporter.pod
Installing /usr/local/perl-5.8.7/man/man3/CPAN::Reporter.3
Writing /usr/local/perl-5.8.7/lib/site_perl/5.8.7/i686-linux-64int/auto/CPAN/Reporter/.packlist
  sudo ./Build install --uninst 1 -- OK

	Showstopper II! The test refused to run with the reference to
	Test::Harness but the install succeeded nonetheless:(((

	Fixed in rev. 954.

	* Finish the debugging aid of reload. Current code (rev. 953)
	allows

% perl -Ilib -MCPAN -e '
my $ix = bless {}, CPAN::Index;
$ix->reload(shift)' /home/ftp/pub/PAUSE/modules/02packages.details.txt 
CPAN: File::HomeDir loaded ok
CPAN: Term::ANSIColor loaded ok
CPAN: LWP::UserAgent loaded ok
CPAN: URI::URL loaded ok
Going to read /home/ftp/pub/CPAN/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok
............................................................................DONE
Going to read /home/ftp/pub/CPAN/modules/02packages.details.txt.gz
  Database was generated on Sun, 01 Oct 2006 18:39:54 GMT
............................................................................DONE
Going to read /home/ftp/pub/CPAN/modules/03modlist.data.gz
............................................................................DONE

	But it reveals unacceptable timing when run via 'reload index'. Timing
	is much better when called as above. Quite confusing is the fact that
	03modlist does not print dots during reload but does so on first time.
	So more debugging called for. FIXED in rev. 956

	* Bug: the line number in the Debug messages is very often wrong. FIXED
	in rev. 955

	* E3 prerequisites: require perl version xxx: we should not delete that
	information but honour it. DONE in rev. 952

	* Todo: do the right thing with prereq "perl". Find modules suited for
	testing.

	"5.8.3" : File-BOM-0.12, XML-DOM-Lite-0.08, Business-ReportWriter-0.09

	">= 5.8.0" : Devel-FIXME-0.01

	">= 5.008" : Data-Visitor-0.05

	"0" : Net-Address-IPv4-Local-0.12

	"" : Net-IRC2-0.27

	The full list of found requires to "perl" today is:

	5.002|5.000|>= 5|>= 5.6|5.6|5.8|5.8.4|>= 5.8.0|5.8.2|5.8.7|5.5.3|5.8.3|>= 5.6.0|5.004|>= 5.008|5.005_03|0|5.5.0|5.4.5|5.00307|5.00503|5.8.0|5.005|5.008|5.7.1|>= 5.005_04|5.007|5.8.1|5.005003|5.6.0|5.006|5.6.1|5.7.3|5

	DONE in rev. 952

	* Todo: investigate if we want a different amount of newlines depending
	on readline availability. Who is it who displays the extra newline as
	soon as readline is active? It is apparently coming from readline and I
	see no reason to interfere. REJECT

	* Todo: send a patch to P5P that adds Queue.pm to the MANIFEST.

	* Todo: add to 30shell the case of repeated testing that was fixed in
	rev 915

	* Attention when testing: Lingua::Alphabet::Phonetic::Password makes
	Test::Pod a "build_requires"; Lingua::Alphabet::Phonetic makes it a
	"requires" instead. So we have it both as "r" and "b" in the queue and
	the first one wins over the other. So once we have something not
	installed due to "b", we cannot install it anymore unless we use
	force:-( It would be nice to make this less confusing for the user and
	resolvable without force for the expert.

	This warrants new tests in 30shell. Let's do diamond dependency:
	CPAN-Test-Dummy-Perl5-Build shall build_require
	CPAN-Test-Dummy-Perl5-Make and require CPAN-Test-Dummy-Perl5-Make-Zip.
	And CPAN-Test-Dummy-Perl5-Make-Zip shall require
	CPAN-Test-Dummy-Perl5-Make. We have not tested install yet (I think) and
	we can try to set make_install_make_command to a perl oneliner or so.
	This constallation shall try to install CPAN-Test-Dummy-Perl5-Make
	because requires trumps build_requires.

	Interactive testing strategy right now:

	rm -f /home/src/perl/repoperls/installed-perls/perl/prCXKHM/perl-5.8.0@28904/lib/site_perl/5.9.4/CPAN/Test/Dummy/Perl5/Build.pm /home/src/perl/repoperls/installed-perls/perl/prCXKHM/perl-5.8.0@28904/lib/site_perl/5.9.4/CPAN/Test/Dummy/Perl5/Make/Zip.pm
	make run

	o debug Distribution Queue Shell Module
	o conf build_requires_install_policy no
	install CPAN::Test::Dummy::Perl5::Build

	DONE in rev. 941

	* H3 Todo: JV suggests treating build_dependencies differently

	To: Johan Vromans <jvromans@squirrel.nl>
	Cc: modules@perl.org
	Subject: Re: Module requirements
	X-Draft-From: ("king-2002" 44465)
	From: andreas.koenig.gmwojprw@franz.ak.mind.de (Andreas J. Koenig)
	Gcc: nnml:sent
	--text follows this line--
	>>>>> On Sun, 02 Apr 2006 14:59:33 +0200, Johan Vromans <jvromans@squirrel.nl> said:

		> andreas.koenig.gmwojprw@franz.ak.mind.de (Andreas J. Koenig) writes:
	 >> Would you really trust that the authors get it right? I didn't and so
	 >> threw the two sorts of dependencies into one basket.

		> Currently, there is no way to make the distinction so there is no real
		> incentive to make the distinction correctly. This could change if a
		> mechanism were available.

	Good point.

	 >> How much pain does the clobbering of the production environment
	 >> cause you?

		> The production environment is also the reference environment. If a
		> module requires something that is not in the production environment,
		> any additional requirements should be added very carefully. Every
		> extension to the production environment is something extra to
		> maintain, and I think it is a very valid argument to try to minimize
		> this.

	Very true.

		> Actually, this question was triggered when I recently tried to install
		> Bundle::CPAN. When it wanted to install a product called Spiffy I
		> decided to hit the cancel button and investigate.

	That brings me to the idea that it would be nice to add these
	build-dependencies into ./blib/bdep or some such idf they are not
	available. I put it on my Todo list.

	-- 
	andreas

	DONE in rev. 941

2006-09-28  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: test bundles and reqtype; especially when you do NOT install
	things because this opens new branches of code execution DONE

	* Todo: ... and finally we will have to carefully differentiate what we
	do with the things that we get off the queue: breqs shall not be
	installed. And we need a user pref here: treat build_requires as
	requires would have the advantage that the build_requires stuff be
	installed and may save time on the next occasion.

	This needs to be coordinated with David because it breaks
	CPAN::Reporter. Hi, Dave!

	New config option build_requires_install_policy: yes|no|ask/no|ask/yes

	DONE in rev. 916

	* Bug: build_requires that are not installed currently are being tested
	more than once within a single command. Maybe the same bug as described
	below under "Very stupid is CPAN.pm..." FIXED in rev. 915

2006-09-27  Andreas J Koenig  <akoenig@*c*nm*b*l*.com>

	* Todo: canonify usage of req/reqtype/etc. into "reqtype" and shorten
	the known reqtype to one letter: r,b,c and comment on them in
	Queue::reqtype DONE in rev.913

2006-09-27  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* New warnings

Use of uninitialized value in exists at lib/CPAN.pm line 3874, <FH> line 41067.
Use of uninitialized value $id in delete at lib/CPAN.pm line 793, <FH> line 41067.
Use of uninitialized value $id in delete at lib/CPAN.pm line 794, <FH> line 41067.

	?? Cannot reproduce, maybe due to excessively hitting ^C in the wrong moment?

2006-09-25  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* find out since when Expect has a failing test with bleadperl. Take
	test #38 alone and do a binary search on it. 26453 has already once been
	involved in an Expect case. Yes, this might mean we have to make
	suggestions for Expect too: which constants are imported erroneously and
	which correctly and how to make this valid for old and new perls? DONE
	see RT #21723.

2006-09-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* build_requires: fortunately the things on the Queue are objects with
	currently only one attribute "qmod", the string.

	    install Bundle::CPAN CPAN::Reporter Expect Module::Signature Devel::Symdump

	First step is to change the constructor to accept more arguments DONE in rev 889

	Next thing will be to go through the chain prereq_pm (where we must not
	merge req and breq)[DONE in rev. 900],
	CPAN::Distribution::color_cmd_tmps
	(where we must mark both req and breq)[DONE in rev. 900], unsat_prereq
	(where we must handle both req and breq)[STARTED in rev. 900, but still
	in need of a differentiation of @need_req and @need_breq or so; FINISHED
	in rev. 902] and follow_prereqs (where we must look closer on jumpqueue
	and handle req and breq differently and make sure that the inheritance
	is correct: reqs of breq are only breqs)[WIP when 910 is being checked
	in; finished in rev. 913] See continuation above "and finally we
	will..."

2006-09-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* So what was 886 about? Put CPAN::Queue in its own file.

	* Bug introduced between 881 and 886. If a Module::Build module fails,
	we happily take it as an OK. CPAN-Test-Dummy-Perl5-Build-Fails reveals
	the bug. Going back step by step with 'svn up -r XXX' we see what was
	broke too: 885, 884, 883, 882, 881!!!

	What!??? 881 was a release! Between 879 and 881 no code changed.

	878 was a bit different. And 877. And all have this bug suddenly.

	So I start to believe it is a bug in the maint-5.8 branch or in some
	module we installed since. My maint is 28854 right now.

	Testing again with bleadperl and 886: NOT BROKEN!

	The only two modules out of date in my blead are Class::Accessor and
	version.pm.

	Outdated modules in current maint-5.8:

	CGI CPAN Devel::PPPort Digest Encode ExtUtils::Command ExtUtils::Install
	ExtUtils::Manifest ExtUtils::ParseXS IO Locale::Maketext Math::Complex
	Sys::Syslog Term::ANSIColor Test::Builder Test::Harness Text::Balanced
	Text::Soundex Text::Tabs Tie::RefHash Time::HiRes Time::Local
	Unicode::Normalize threads threads::shared

	Updated as much as I could and ALL IS WELL.

	So now we don't know who was to blame. Restarting over and going step by
	step: it was Test::Harness 2.58. So we have a difficult-to-explain
	dependency here: CPAN + Module::Build-deploying modules + Test::Harness
	< 2.62 leads to not recognized test failures. I put Test::Harness into
	the Bundle::CPAN. Maybe I must verify the Test::Harness version before
	testing MB modules? FIXED by making T:H 2.62 a PREREQ_PM and testing
	again in the code. In rev. 888

	* Todo: 'dump symbol', say 'dump $CPAN::META'. But pipe into the pager
	for large datasets! DONE in rev. 885

	* build_requires: need two modules that have build_dependencies which I
	do not install and still both must build. This means, I inject the
	build_dependencies into the queue and flag them as build_dependency
	which then leeds to a simple make or test for them, never to an install.
	Up to now we use set_perl5lib during CPAN::Distribution::test. In the
	future we would need a similar vein during the two earlier stages,
	{Makefile,Build}.PL and make. Yes, this should do.

	Where are our build_requires? I keep forgetting the URL where Randy Sims
	provides so useful statistics. Here it is:
	http://thepierianspring.org/perl/meta/

	And the build_requires page is here:
	http://thepierianspring.org/perl/meta/fields_in_use/build_requires.html

	But manually skimming the 876 distros is tedious, so I need again my own
	script.

	One thing is complicated: when a module is a build_prereq, then all
	*its* prereqs are also degraded into build_prereqs unless they are
	already prereqs for something else:-! And then we have the diamond
	dependency: Foo build_requires Bar and requires Baz. Bar requires Frob,
	Baz requires Frob. So we make it a bit operation: REQ => 1, BREQ => 2?

	OK, candidates for my tests:

	MARCEL/Class-Null                         Test::Pod::Coverage

	Not suited for testing. It has a Build.PL that requires Project::Build
	which does not exist at all and when a user preferes Module::Build over
	ExtUtils::MakeMaker he fails immediately. It has a Makefile.PL that has
	Test::Pod and Test::Pod::Coverage as PREREQ_PM and it has a META.yml
	that tells me that Test::Pod and Test::Pod::Coverage are build_requires.
	But when I grep for Test::Pod and Test::Pod::Coverage, they are not
	mentioned anywhere. The solution would be to remove the Build.PL and the
	META.yml and remove the PREREQ_PM lines in the Makefile.PL.
	
	JFITZ/Lingua-Alphabet-Phonetic-Password   Test::Pod::Coverage

	Need to set prefer_installer MB because it comes with a Makefile.PL. The
	dependecy graph seems to get very large. Test::NoBreakpoints failes its
	tests. But in the end, L:A:P:P passes its four tests quickly and skips
	the one that need Test::NoBreakpoints. Vorbildlich!

	Very stupid is CPAN.pm when I repeat the 'test L:A:P:P' command: it
	repeats all tests for all dependencies and only then runs the test on
	L:A:P:P. This is time-consuming and may be a bug or a feature. Don't
	know the reason. FIXED in rev. 915
	
	ATRICKETT/Config-Trivial                  Test::Pod::Coverage

	ADIE/Test-Class          Test::Differences
	KCLARK/SQL-Translator    Test::Differences   # not good for testing
	SPOON/WWW-Yahoo-Groups   Test::Differences

	CHROMATIC/Class-StorageFactory  Test::Pod
	MTHURN/Net-Address-Ethernet     Test::Pod
	RCLAMP/Class-Persist            Test::Pod

2006-09-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* I have seen this bug with 5.6.2, 5.8.3, 5.8.4, 5.8.5; it seems not to
	effect bleadperl and 5.8.8, 5.8.6-RC1

	Once you have installed both Module::Signature AND CPAN::Reporter, you
	cannot test both of them in the same session. E.g. with 5.8.4 I do

	test Module::Signature
	--> tests ok, do you want to report? no,no,no
	test CPAN::Reporter
	--> tests ok, debug says "main: distribution\nmain:\
	comments\nCPAN::Reporter defines neither package nor VERSION--version\
	check failed at (eval 70) line 405."
	test Module::Signature
	--> tests ok, debug says "main: distribution\nmain:\
	comments\nCPAN::Reporter defines neither package nor VERSION--version\
	check failed at (eval 70) line 405."

	"version check failed" is in
	/usr/local/perl-redhat-5.8.5/lib/5.8.5/pod/perldiag.pod:

=item %s defines neither package nor VERSION--version check failed

(F) You said something like "use Module 42" but in the Module file
there are neither package declarations nor a C<$VERSION>.

	So I spot this line in CPAN::Reporter:

    $tr->via( 'CPAN::Reporter ' . CPAN::Reporter->VERSION );

	and I change it to

    $tr->via( 'CPAN::Reporter ' . $CPAN::Reporter::VERSION );

	and the bug is worked around.


2006-09-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* #  FAIL  DBIx-Timeout  1.01 350359 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS Net-SDP 0.07 350354 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS GIS-Distance 0.01000 350352 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS Class-Measure 0.02 350351 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS WWW-Pagination 0.35 350350 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS Socket-Multicast6 0.01 350348 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)
# PASS IO-Socket-INET6 2.51 350347 5.8.8 on Netbsd 3.0 (i386-netbsd-thread-multi-64int)

	Repeating experiments with CPAN::Reporter and Net::SMTP and AUTOMATED_TESTING

	I just started with a fresh blead@28875 and the command

	    install CPAN::Reporter Bundle::CPAN Module::Signature Devel::Symdump

	and all reports that CPAN::Reporter offered were accepted by me. So
	tomorrow morning I expect reports on testers.cpan.org above the FAIL for
	DBIx-Timeout. Then I can install Mail::Send again and send a few reports
	and then I can set AUTOMATIC_TESTING and on the next perl I can do that
	in opposite order.

	7 hours later nothing shows up on http://testers.cpan.org/recent.html

	I'd better go subscribe to cpan-testers. Now I am subscribed and I
	re-tested with blead@28876 and while Mail::Send does send out messages
	since I added the MASQUERADE_AS line, they do not come back to me. I
	need to change the email_to to me on the next try.... And yes, the mail
	arrives. Apparently it is not accepted at testers, only Net::SMTP gets
	through. Maybe some MX thingie going on.

2006-09-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* repeating the exercise of testing CPAN::Reporter

	blead@28868: install CPAN::Reporter and its dependencies (no MailTools
	but Net::SMTP ist there). Testing TAPx::Parser fails miserably, the
	report seems to be sent. Testing CGI::Session succeeds with lots of
	SKIPs. The report seems to have been sent. Testing Module::Signature
	succeeds with just a single test, report seems to have been sent.
	Installing CPANPLUS::Dist::Build installs among many other dependencies
	CPANPLUS itself, the latter succeeds and I let CPAN::Reporter send a
	mail which seems to work.

	Now I install Mail::Mailer and succeed. The Mail is still sent by
	Net::SMTP and apparently succeeds.

	Now let's try IO::Tty. Tests succeed but it's a test.pl based distro, so
	CPAN::Reporter cannot send mail. To get to a quick end, I now test
	CPAN::Reporter itself. It pretends to send mail, from the debug output I
	recognize Mail::Mailer. And now I have two mails in the mqueue with
	"Could not resolve k75.linux.bogus". QED.

	MASQUERADE_AS(`franz.ak.mind.de')dnl in the sendmail.mc seems to have
	done the trick.

	* find out why CPAN::Reporter cannot send mail on my home machine

	Somebody seems to try to send mail and using the local address
	(k75.linux.bogus) in a HELO or something. I'm testing with
	Devel::Symdump.

	Installed modules? Mail::Send from MailTools? Net::SMTP from libnet?

	MailTools no, N:S yes.

	Ah, Test::Reporter says "If you have MailTools installed". Hmmm. This
	test succeeded today with blead@28866. Will have to wait again to see a
	fail.

	So now I have MailTools installed and now I see again the message

% mailq
MSP Queue status...
/var/spool/mqueue-client is empty
                Total requests: 0
MTA Queue status...
                /var/spool/mqueue (1 request)
-----Q-ID----- --Size-- -----Q-Time----- ------------Sender/Recipient-----------
k8J6VCVD013108     3070 Tue Sep 19 08:31 <k@k75.linux.bogus>
                 (Deferred: 450 Could not resolve k75.linux.bogus)
                                         <cpan-testers@perl.org>
                Total requests: 1

	This is the debugging output of {CPAN,Test}::Reporter:

Sending test report with 'pass' to cpan-testers@perl.org
Test::Reporter: debug
Test::Reporter: send
Test::Reporter: debug
Test::Reporter: from
Test::Reporter: debug
Test::Reporter::Mail::Util: _mailaddress
Test::Reporter: debug
Test::Reporter: report
Test::Reporter: debug
Test::Reporter: subject
Test::Reporter: debug
Test::Reporter: _verify
Test::Reporter: errstr
Test::Reporter: debug
Test::Reporter: _have_mail_send
Test::Reporter: debug
Test::Reporter: _mail_send
Test::Reporter: via
Test::Reporter: address
Test::Reporter: debug
Test::Reporter: from
Test::Reporter: debug
Test::Reporter::Mail::Util: _mailaddress
Test::Reporter: debug
Test::Reporter: subject
Test::Reporter: debug
Test::Reporter: mail_send_args
Test::Reporter: debug
Test::Reporter: _have_mail_send
Test::Reporter: debug
Test::Reporter: report

	Need to repeat the process and then report as a bug.

2006-09-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-09-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Test the urllist dialog. Requires a fake mirrored.by file. DONE in rev. 851

	* Todo: test many cases:

	if we have a urllist, if have none: can we always hit RETURN and reach
	the end, especially if we already have a previous pick? Once upon a time
	the user may have been able to reach the previous pick from the
	continent question. The hint is the $no_previous_warn variable.

	if we say 'o conf init'...yes/no (yes is what the shell test does, so
	there's no need here to investigate this branch)

	What's about the SPACE RETURN thing, is it broken and since when? It
	seems it works again, maybe since rev. ???

	* http://www.flight.us/misc/FirstTime.pm_AStrebkov.htm (E3) and
	http://groups.google.com/group/comp.lang.perl.misc/browse_thread/thread/a3f172fedc02c280/5814e81793793b64#5814e81793793b64
	by Andrew Strebkov makes the URL selection nicer.

	It allows hyphenated ranges like 10-14. It also fixed the SPACE RETURN
	bug that seems to be fixed now anyway. DONE in rev 848

	* MAYBE change syntax for 'o conf init MATCH' to require two slashes for
	the regex version just for ortogonality. REJECTED because this argument
	does not have the same magic as other arguments that may be several
	different types of strings.

	* The $demobug thing is underdocumented! Go after the bug hidden there.
	FINISHED
	
	* Todo: write a test that checks if the keys in HandleConfig are all
	documented in the POD. DONE in rev. 831

2006-09-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* rev 807 broken (and _62 was most likely broken too): prompt namespaces
	now too much voodoo. FirstTime::_real_prompt is not defined everywhere.
	Goto the drawing board

	CPAN::Shell::colorable_makemaker_prompt used in package CPAN and
	CPAN::Distribution uses ExtUtils::MakeMaker::prompt

	CPAN::FirstTime::_real_prompt is local in CPAN::FirstTime::init for
	colorizable and later for a closure and yet later again directly for
	colorizable again

	CPAN::FirstTime::prompt is used within CPAN::FirstTime::init many times

	my_dflt_prompt uses prompt

	my_yn_prompt uses prompt

	my_prompt_loop uses prompt

	conf_sites uses prompt

	picklist uses prompt

	bring_your_own uses prompt

	prompt uses _realprompt

	Q.E.D. _real_prompt  may be undefined. Stupid. FIXED in rev. 825

	825 also fixes 5.8.0 which always matched each prompt twice. All I had
	to do was to change the tests so that no non-prompt-match ever matches a
	prompt accidentally

2006-09-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: again go testing with several perl versions.

	Especially the urllist dialog needs test cases. But older perls as well
	need attention.

2006-09-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Tempted to give up on Term::ANSIColor. If I turn on colorize_output in
	TestConfig.pm, then we do not pass tests. Somehow loading of
	Term::ANSIColor changes too much.

	utf8 handling wrong with ANSIColor; err, no, only an emacs issue.

	several '# Can't exec "./Build": No such file or directory at /home/k/sources/CPAN/SVN/blib/lib/CPAN.pm line 5477.'

	Yes, this is reproducable. The Makefile target
	testshell-with-protocol-twice runs the testsuite once with
	colorize_output off and once with on and we see that colorize breaks the
	tests. Todo: make the difference between colorize and not colorize as
	small as possible, then we know which lines we can blame.

	Yes, now I have it reproducable and the blame is clearly not on
	Term::ANSIColor but on some perl leakage. To demonstrate the bug, set
	the $demobug variable in CPAN.pm to a true value. Then run make
	testshell-with-protocol-twice. I seen the second run with
	colorize_output==TRUE fail. Maybe it's the use of the regex, I don;t
	know yet. Need to narrow down.

	But the important step is that I now have a workaround and can support
	colorization with just a small compromize. AND I can turn the bug on and
	investigate in many different contexts. FIXED all that in 809

	The $demobug thing is underdocumented!
	
2006-09-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: run everything with PRINT_ORNAMENTING turned on to see what is
	myprint and what is mywarn. Are both going to STDERR? We should document
	when to use myprint and mywarn. And we should not let anybody use print
	directly. DONE

2006-09-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bugs in FirstTime: print and warn not unified; needs to be
	investigated: two calls to warn replaced with print in rev. 803:
	somebody ate the warnings, they were not displayed for unknown reasons.
	Update: no, the warnings were not dropped but the global value of
	$CPAN::Config->{urllist} was emptied when I interrupted the selection
	process. Fixed in 804-807 or so.

2006-09-04  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* hr ================ no todos below this line ================ /hr

	* Todo: use 'o conf init MATCH' when only a few mandatory variables are
	missing so that people need not go through the whole cycle DONE in rev
	785

	* Bug: Your proxy_user? [] Or not?

	784,5,6 something terrible broken... FIXED in rev 788

2006-09-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: "o conf init novar" shall tell that it is not a config variable
	but 'o conf init var' shall only go to this variable's dialog, not
	everything that has this substring. DONE in rev 778

2006-09-01  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: why has the question for the ftp_proxy no square brackets? FIXED
	somewhere between 775 and 782

	* Todo: the prompt for keep_source_where seems bogus and people cannot
	choose it anyway. With a bit of rewording one could call it
	build_dir_intro and then we would find out that we have no prompt for
	the keep_source_where config variable. FIXED in rev 784

	* Todo: completion for 'o conf init MATCH' DONE in rev 776

2006-08-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* replace "no lib '.'" with rel2absing the INC if rel2abs is available
	(suggested by Slaven Rezic) DONE in rev 773

	* Todo: investigate why 'o conf init histsize' still asks two questions.
	Maybe we should write the test automatically with all available
	variables and see if one question is asked. STARTED for all but the
	_list and _hash stuff and for undocumented things like
	commandnumber_in_prompt and things we never ask like ftp_passive. It
	turned out that histsize really depends on histfile and they should be
	asked as a pair. But then I tried 'ftp' which hit several options,
	'^ftp$', '\bftp\b' which both did not match at all and I wondered if
	this needs to be addressed or not and how. Same for make. What about
	inactivity_timeout? why does it use prompt(), not my_default_prompt?
	index_expire? username? password? ALL FIXED between 775 and 784

	* Todo: document 'o conf init MATCH' and write a couple tests into
	30shell.t DONE

2006-08-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo: integrate branch
	https://pause.perl.org:5460/svn/cpanpm/branches/dagolden-cpan-reporter
	DONE by David in rev. 758

2006-07-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* As #20754 I requested bzip2 support from CPANPLUS. I should write the
	code for mldistwatch so that I just have to turn on the indexing of bz2
	files. DONE in rev 815 of the PAUSE repository.

	* Todo: add a command to list all scripts and use it to test-install all
	of them to get a good coverage for the new 'install <script>' support.
	DONE in revision 746

2006-07-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-07-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Jim Cromie suggests: tweak shell to allow cpan> o conf init @sections
	tweak FirstTime::init() interface to accept optional @sections

	put various interactive Qs into groups of conditionals: if ( !@sections
	     or grep /$this_sect_name/, @sections)

	candidate sections: progs - external prog selection make - all make
	options DONE in re 784

	* hr ================ no todos below this line ================ /hr

	* How do I merge the branch 1.87-install-scripts into current code base?

	The problem is, I do not remember where the branch started. Is this a
	problem? I have the branches already checked out in ../SVN-branches/.

	There I find the train hackathon result was in 689 and 686 was the copy
	that started the branch.

	So I guess the merge command would have to be

	svn merge -r 686:689 https://pause.perl.org:5460/svn/cpanpm/branches/1.87-install-scripts

	YES, this did it and is now to be checked in as rev. 733

	'install ANDK/keepcool-0.344' works now like a charm, the stored script
	name is even 'keepcool' and not 'keepcool-0.344'.

2006-07-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* From: Adam Kennedy <adam@phase-n.com>
	  Subject: Re: CPAN.pm, META.yml, PREREQ_PM and dynamic dependencies
	  To: "Andreas J. Koenig" <andreas.koenig.gmwojprw@franz.ak.mind.de>
	  Date: Tue, 11 Jul 2006 16:58:34 +1000
	  
	  Andreas
	  
	  dynamic_config was a major major design mistake, that they got
	  entirely backwards. It relies on authors to not forget to set the
	  dynamic flag, or it results in a failed install.
	  
	  But of course, nobody ever does remember to set it, and we have a huge
	  number of existing modules that don't do this properly.
	  
	  There is no problem at all in us having the requires values considered
	  to be "advisory" only, and then "localize" the dependencies.
	  
	  In short, the flag should have actually been the other way around
	  (i.e. static_config) and so dynamic_config should ALWAYS be 1, unless
	  you have it EXPLICITLY set to 0.
	  
	  We may or may not be able to get the spec revised later on, but in the
	  mean time, dynamic_config should aways be 1 unless you have an
	  explicit 0, not just when there is no requires field.
	  
	  This makes installation potentially a bit slower, and less able to
	  shortcut, but it makes sure that installation remains correct.

	I just tried to make this a Todo item but then checked the code and
	found it bahaves already as Adam suggests. ---> DONE

2006-06-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* make signature-checking a feature that can be turned on or off and
	which defaults to off. (requested by Adam Kennedy) DONE in rev. 726 or
	so

2006-04-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* apply patch by

From: "Enzer, Matisse BGI SF" <matisse.enzer@barclaysglobal.com>
Subject: CPAN 1.87 - proposed patch to add Basic Auth for non-proxy URLs
To: "Andreas Koenig" <andk@cpan.org>
Cc: "Thalhammer, Jeffrey BGI SF" <Jeff.Thalhammer@barclaysglobal.com>
Date: Tue, 25 Apr 2006 22:17:35 -0700

	which is stored at patches/enzer-matisse-CPAN-1.87.patch DONE in rev 729

2006-04-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Recap branches:

% svn ls https://pause.perl.org:5460/svn/cpanpm/branches
1.80_56plus/
1.87-dbmdeep-hackery/
1.87-install-scripts/

	Merge in 1.87-install-scripts without much further ado. DONE in rev. 733

	Try to recall how broken 1.87-dbmdeep-hackery was. It was very broken
	but I do not remember details.

	* dynamic_config => 1 means that I must throw away the contents of the
	META.yml and if the key is missing, I must default it to 1. DONE in rev
	720

2006-04-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-03-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* test the change that I made on Vassilii's suggestion in #18011,
	checked in as rev. 712.

2006-03-06  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* feature request by Martin Sluka: the upgrade command, as described
	further down; to catch the isa_perl issue, we must instantiate a
	Distrostatus object instead of the bare "return" in line 5077. And test
	thoroughly what happens the second time around and later when the user
	finally says "force"; DONE in rev. 727

2006-02-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* dslip status shows only 4 fields instead of 5. For license infos from
	META.yml see http://www.thepierianspring.org/perl/meta/. DONE in rev.
	669

2006-02-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Todo 30shell:

	Todo: rewrite the 30shell.t test for Open3 (or just a tempfile) by
	concatenating all regexes or split on the prompt. DONE

	Run the test 30shell on a freshly installed perl and see that only those
	tests fail that need prerequisites. Or better yet, no tests at all? DONE
	in rev. 663

	When we succeed with this, make a version that runs within the core of
	perl, maybe filter out just those tests that do not require additional
	resources. REJECT: provides no extra utility

	* To: Tyler MacDonald <tyler@yi.org>

	 >> If I understand the problem right, it is that you wish to use a module in the
	 >> current distribution (a subclass of Module::Build) to do the installing.
	 >> If this is correct, you only need to put a 'use lib "lib";' in your Build.PL
	 >> for it to be picked up properly.  (It does not need to be installed in the
	 >> standard places before you use it.)
	
		> 	Nope, that problem is handled already in
		> DBIx::Migration::Directories.
	
		> 	I now have a Schema::RDBMS::AUS package, which needs the subclass
		> that DBIx::Migration::Directories supplies.
		> DBIx::Migration::Directories::Build needs to be available at the time
		> Build.PL is run so that it can alter Module::Build's config and supply extra
		> actions.
	
	Add it to your "requires" hash, that way it will end up in META.yml and
	if people have YAML installed, they can read it.
	
	If people have YAML not installed they will call either the
	Makefile.PL or the Build.PL to hopefully find out what the
	prerequisites are. That way you get the prerequisites but as you have
	noticed, it is too late for your build process.
	
	I don't know how I will fix that. Suggestions welcome. I put it into my
	Todo file.
	
	* Feature request: when asking 'm /svn::notify/', then I would like to
	see in the list which of the modules are installed locally. Was that
	what Admin was doing?

  It would not work for distros, but for modules. Not for bundles either.

  3 states: not installed, not up-to-date, up-to-date  ... space,"<","="

  color codes: green=uptodate, yellow=not uptodate, black=not installed

	DONE in rev. 732

	* upgrade: new command that does nothing but
	CPAN::Shell->install(CPAN::Shell->r)? Do not forget that we still may
	have perl distros in the "r" list. DONE in rev. 727

	* DBM::Deep for a hash behind $CPAN::META. See 2005-12-28 for issues and
	branches/1.80_56plus for a few lines that probably went in the wrong
	direction. Split the loading of Authors/Modules/Distros/Bundles into
	separate pieces and make them lazy. Consider 'reload index', the
	storable Metadata file, readonly/readwrite, changes of the DSLIP thingy,
	offsets into an uncompressed 02xxx file. Remember RT #4943. Remove the
	code for "status" when finished

	* readline: offer the choice between Gnu and Perl

	* Bug: installing scripts without modules? How does it work? How
	should it work? getting the latest version ad-hoc?

	* hr ================ no todos below this line ================ /hr

2006-02-23  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Install without {My,}Config.pm, the rules should be:

	if there is no CPAN/MyConfig.pm already loaded, we must try to load a
	CPAN/Config.pm

	if there is no CPAN/Config.pm, we must initialize one immediately. If we
	are root, this should be something like
	/usr/local/perl-5.8.0@27277/lib/5.8.8/CPAN/Config.pm as I just tested it
	with 5.8.8.

	So if root installs CPAN without testing it, they have no CPAN/Config.pm.
	They start it and land immediately in the init process. Good.

	If he runs 'make test' it should succeed all tests. Currently it fails
	12cpan and skips 30shell because of 'no Expect'. ==> TODO. DONE with
	rev. 659

	If they have no CPAN/Config.pm and start cpan as an ordinary user, then
	they should get, without asking, a ~/.cpan/CPAN/MyConfig.pm and land in
	the init dialog. This is currently OK.

	* Todo: mention rt.cpan.org in the manpage. Oops, this was already DONE

2006-02-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* rethink if the CPAN/Config.pm file now is being built at all. Shouldn't
	it be built as a system-wide default? Yes, it is being built. DONE

2006-02-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: the new test 12cpan.t is not suited for 5.004_05:

t/12cpan............Unquoted string "qr" may clash with future reserved word at t/12cpan.t line 13.
Unquoted string "command" may clash with future reserved word at t/12cpan.t line 13.
syntax error at t/12cpan.t line 13, near "/,"
Unquoted string "qr" may clash with future reserved word at t/12cpan.t line 17.
Unquoted string "foo" may clash with future reserved word at t/12cpan.t line 17.
syntax error at t/12cpan.t line 17, near "+=>"
Unquoted string "bar" may clash with future reserved word at t/12cpan.t line 17.
Unquoted string "baz" may clash with future reserved word at t/12cpan.t line 17.
Unquoted string "foo" may clash with future reserved word at t/12cpan.t line 17.
Execution of t/12cpan.t aborted due to compilation errors.
# Looks like your test died before it could output anything.
dubious

	and not for 5.005_04:

t/12cpan..........Can't locate object method "catfile" via package "File::Spec" at t/12cpan.t line 3.
# Looks like your test died before it could output anything.
t/12cpan..........dubious                                                    
        Test returned status 255 (wstat 65280, 0xff00)
DIED. FAILED tests 1-3
        Failed 3/3 tests, 0.00% okay

	FIXED

	* Bugalert: I saw the "awry" case without a reason.

cpan[10]> install Bundle::Spd
Signature for /home/k/.cpan/sources/authors/id/G/GA/GAAS/CHECKSUMS ok
Checksum for /home/k/.cpan/sources/authors/id/G/GA/GAAS/libwww-perl-5.805.tar.gz ok
libwww-perl-5.805/
libwww-perl-5.805/lib/
libwww-perl-5.805/lib/HTTP/
libwww-perl-5.805/lib/HTTP/Cookies.pm
[...]
libwww-perl-5.805/Changes
libwww-perl-5.805/AUTHORS
libwww-perl-5.805/README
libwww-perl-5.805/lwpcook.pod
Removing previously used /home/k/.cpan/build/libwww-perl-5.805
Package came without SIGNATURE

Running install for module HTML::HeadParser
Running make for G/GA/GAAS/HTML-Parser-3.50.tar.gz
LWP not available
Fetching with Net::FTP:
  ftp://localhost/pub/CPAN/authors/id/G/GA/GAAS/HTML-Parser-3.50.tar.gz
Signature for /home/k/.cpan/sources/authors/id/G/GA/GAAS/CHECKSUMS ok

Warning: No checksum for HTML-Parser-3.50.tar.gz in /home/k/.cpan/sources/authors/id/G/GA/GAAS/CHECKSUMS.

The cause for this may be that the file is very new and the checksum
has not yet been calculated, but it may also be that something is
going awry right now.
Proceed? [yes] Caught SIGINT
Got another SIGINT

cpan[11]> ls GAAS


	After that, the problem was not reproducable. Remove and reinstall perl,
	install CPAN, install Bundle::CPAN, install Bundle::Spd works.

	So we have a hard to reproduce bug.

	Running 'install Bundle::Phalanx100' gives after 20 minutes

Warning: No checksum for Net-Daemon-0.39.tar.gz in /home/k/.cpan/sources/authors/id/J/JW/JWIED/CHECKSUMS.

The cause for this may be that the file is very new and the checksum
has not yet been calculated, but it may also be that something is
going awry right now.
Proceed? [yes] 

	This time I look immediately into the CHECKSUMS file (which is the cached
	one!) and indeed there is no Net-Daemon-0.39.tar.gz in it. On the CPAN
	we do have a newer checksums file. Is this cool?

	So we have the root of the cause. Now for a solution?

	I can answer 'no' and then reproduce the problem. Note that the old
	CHECKSUMS file is 3 months old and its timestamp is 1 month old.

	Fixed in 638 with the new argument $sloppy for CHECKSUM_check_file, but
	test still missing. ... Test added by adding CHECKSUMS@588 in rev. 643

	Later renamed to CHECKSUMS.2nd (around rev. 1033)

2006-02-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: with 'o debug all' we did not reach 'Distribution seems to have
	never been unzipped/untarred, nothing done' but instead some "Unknown
	distribution" or so. Fixed in 625

	* Bug: in the last test run we did not detect that
	ANDK/CPAN-Test-Dummy-Perl5-Make-1.02.tar.gz was not in the CHECKSUMS
	file. We had the 

	#     CHECKSUM_STATUS NIL -- distro not in CHECKSUMS file

	in the "d" output but we did not pass he code that shouts. Fixed in 624

2006-02-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-02-17  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: on a system without make installed, CPAN happily tries

	Checking if your kit is complete...
	Looks good
	Writing Makefile for CPAN
			-- NOT OK
	Running make test
		Can't test without successful make
	Running make install
		make had returned bad status, install seems impossible

	REJECT: this is a bugreport against an old CPAN.pm

2006-02-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* watch http://perlmonks.org/?node_id=530600

	Does anybody answer my question 'How do you run nmake when it is in a
	path that contains spaces?'? LEAVE WINDOWS ASIDE

2006-02-16  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-02-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-02-14  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: inexistant distro leads to perl error; clean on uninstalled
	distro would be nice as a test case

	% perl -Ilib -MCPAN -e 'CPAN::Shell->$_("MARKSTOS/Test-XML-Valid-0.04345.tar.gz") for qw(clean d);'
Going to read /home/akoenig/.cpan/sources/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok
Going to read /home/akoenig/.cpan/sources/modules/02packages.details.txt.gz
  Database was generated on Tue, 14 Feb 2006 02:18:00 GMT
CPAN: HTTP::Date loaded ok
Going to read /home/akoenig/.cpan/sources/modules/03modlist.data.gz
CPAN: Storable loaded ok
Going to write /home/akoenig/.cpan/Metadata
Running make clean
Distribution has no own directory, nothing to do.
Can't use string ("") as a HASH ref while "strict refs" in use at lib/CPAN.pm line 3857.

	Fixed in rev. 604

2006-02-14  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: Module-Build-0.27_07 fails the test runthrough.t with
	blead@27166:

t/runthrough......ok 14/28                                                   
#   Failed test 'Check version used to create META.yml: 0.2707 == 0.270700'
#   in t/runthrough.t at line 142.
#          got: '0.2707'
#     expected: '0.270700'
t/runthrough......NOK 19# Looks like you failed 1 test of 28.                
t/runthrough......dubious                                                    
        Test returned status 1 (wstat 256, 0x100)

	Ditto for 27154, 27016; 26919 is OK. Hmmm, several perls in between are
	OK. So far these are debugging perls. No, 27088 is another one that is
	OK and it is nondebugging.

	If YAML is not installed, the test is skipped, so I must make sure that
	YAML is installed, but this is difficult because YAML was broken by perl
	until recently.

	OK, looked into the code instead and wrote bug report to the M:B mailing
	list. DONE.

2006-02-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: Randal reports that Zoidberg has both a Makefile.PL and a
	Build.PL and he has prefer_installer EUMM and yet CPAN chose to run the
	Build.PL. rt #17612. RESOLVED as not a bug in CPAN.pm

2006-02-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug?: Somehow I managed to get POE to fail the installation, maybe
	AutoInstall was involved. I then installed LWP and then tried POE again.
	It succeeded in all tests, but make install said, it had "Already tried
	without success". In such a moment this is simply the wrong thing, we
	would much rather that CPAN.pm retried, especially as the test suite
	runs forever!

	So is this a bug? I cannot tell before I know why the first installation
	attempt failed.	Cannot reproduce.

	* Foreign bug: POE with bleadperl@27154 fails a few tests with

	*** glibc detected *** double free or corruption (!prev): 0x085ed6e0 ***
tests/30_loops/30_event/comp_tcp_concurrent.........dubious                  
        Test returned status 0 (wstat 6, 0x6)
DIED. FAILED tests 1-42
        Failed

tests/30_loops/10_select/comp_tcp    0     6    42   42 100.00%  1-42
tests/30_loops/20_poll/comp_tcp_c    0     6    42   42 100.00%  1-42
tests/30_loops/30_event/comp_tcp_    0     6    42   42 100.00%  1-42
44 tests and 16 subtests skipped.

	Does not fail with 5.8.8.	Blame? 27059! REPORTED

2006-02-10  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: t/37-translator-graph....Can't locate object method
	"is_trivial_link" via package "GLOB" at
	/home/k/.cpan/build/SQL-Translator-0.07/blib/lib/SQL/Translator/Schema/Graph.pm
	line 46.

	with bleadperl@17102 when trying to test SQL::Translator. Happends on
	blead, not on 5.8.8 but with 5.8.8 I have other (and much more) failures

	With #16852 I have already a ticket there for the signature.

	I regret that I did not include the full command needed to upload one's
	key. Here it is:

    gpg -a --keyserver hkp://pgp.mit.edu:11371 --send-keys YOURID

2006-02-08  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: when Running "Makefile.PL" fails, then the case is not reachable
	for the failed routine. Need another Naysayer category?? Try
	Digest-SHA-5.34.tar.gz under perl-5.004_05 before Module::Signature is
	installed. FIXED in rev. 580

2006-02-05  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: RDF::Simple installs although I see failing tests?

	./Build test returns true even if tests fail. This was not always the
	case or was it? No, it wasn't.

	I go into the Class-MethodMaker-2.08 directory and try

	perl Build.PL
	./Build test
	./Build clean

	If Module::Build is missing, I install it manually. No CPAN.pm involved.

	These perls behave (exit 255):
	
	/home/src/perl/repoperls/installed-perls/maint-5.8/pIPN6hB/perl-5.8.0@26560/bin/perl
	/home/src/perl/repoperls/installed-perls/maint-5.8/pcE7NPt/perl-5.8.0@24641//bin/perl
	/home/src/perl/repoperls/installed-perls/maint-5.8/piFZwYU/perl-5.8.0@27040//bin/perl
	/home/src/perl/repoperls/installed-perls/perl/pREyceB/perl-5.8.0@27088/bin/perl
	/home/src/perl/repoperls/installed-perls/perl/piR9qHb/perl-5.8.0@27016/bin/perl
	/usr/local/perl-5.8.0@27016/bin/perl

	These don't (shell returns true):

	/usr/local/perl-5.8.7/bin/perl
	/usr/local/perl-5.8.8/bin/perl

	Stepping in the debugger through bleadperl@27088 and 5.8.8:

	27088 has Test::Harness 2.56 while my 5.8.8 has 2.57_03. Apparently a
	Test::Harness bug. REPORTED as #17490
	
2006-02-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2006-01-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Visit the p5p thread C<replacing "inuse" Win files (was Re: Help with
	a Cwd.pm build error)> for our own cpan.bat. Currently Windows users
	cannot 'reload cpan' when they started the shell from cpan.bat, only
	when they used 'perl -MCPAN -eshell' (David Golden)

	* Feature request: integrate more than one source into a common index.

	* dontload: make a dontload_list and deprecate dontload_hash. It seems
	OK to keep $META->{dontload_hash} but it would be nice if changes on
	$Config->{dontload_list} would always adjust the dontload_hash. DONE in
	rev. 581

	* document and provide a dialog for commandnumber_in_prompt or provide a
	sprintf based solution. Or just leave it as it is. Just like
	inhibit_startup_message.

	* Todo: Write a bunch of distros and upload them with the sole purpose
	of testing CPAN.pm. Also helps Test::Prereq and others.
	PITA::Test::Dummy::Perl5::Make and PITA::Test::Dummy::Perl5::Build? A
	start is done in t/shell.t STARTED around rev. 519

	* Bug: with bleadperl and CPAN 1.83_62 I first install Bundle::CPAN.
	Then I try to install Net::LDAP and answer all questions from
	Module::Install with the default. It then installs Convert::ASN1
	successfully and then says

*** Convert::ASN1 successfully installed.                                       
*** ExtUtils::AutoInstall installation finished.                                
Writing Makefile for Net::LDAP                                                  
make: getcwd: No such file or directory                                         
make[1]: Entering directory `'                                                  
make[1]: *** No targets specified and no makefile found.  Stop.                 
make[1]: Leaving directory `'                                                   
  /usr/bin/make  -- NOT OK                                                      

	If I now start a new CPAN session, I can install Net::LDAP without problems.

	If I uninstall Convert::ASN1 and start a new CPAN session I can get
	nearly the same result:

make[1]: Leaving directory `/home/k/.cpan/build/Convert-ASN1-0.19'
  sudo make install UNINST=1 -- OK
*** Convert::ASN1 successfully installed.
*** ExtUtils::AutoInstall installation finished.
Writing Makefile for Net::LDAP
CPAN: YAML loaded ok
make[1]: Entering directory `/home/k/.cpan/build/perl-ldap-0.33'
make[1]: *** No targets specified and no makefile found.  Stop.
make[1]: Leaving directory `/home/k/.cpan/build/perl-ldap-0.33'
  /usr/bin/make  -- NOT OK

	On the other hand, running same thing on a 5.8.7 with 1.83 succeeds, but
	it asks me if I want to run sudo (and I say no and again no).

	Now I tried bleadperl@27016 with its 1.8359: 'install YAML' then
	'install Net::LDAP' and got the same error.

	Now I try perl-5.8.8-RC1 with its 1.83: it succeeds but asks me again if
	I want to run sudo.

	5.8.8-RC1 with 1.8362: succeeds and asks me if I want to run sudo.

	blead@26447 with 1.8362: error.

	What is it about, the ExtUtils::AutoInstall line? ExtUtils::AutoInstall
	is NOT part of the core. Net::LDAP comes with version 0.59, Audrey has
	reached 0.63.

	I think it goes like so:

	have no perm -> ask sudo -> user says no -> success
	have perm       implicit yes             -> failure

	This is consistent with all of above.... After some more investigation
	reported as bug to Audrey and Graham

2006-01-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Revisit 17313: Module::Build people have promised to write a
	./Build.bat file instead of a ./Build file on Windows. Until this
	becomes true, hide mbuild_install_build_command from Windows users.

2006-01-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: broke perl again YAML? blead@26994 fails on test
	dump-perl-types.t of YAML-0.53. Wrote blame report about 26980--DONE

2006-01-27  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign bug: Email::Field or which module was it that just produced
	more than 1000000 eval warnings? Cannot reproduce.

	* bug: if a META.yml specifies a prerequisite module that we do not
	know, the whole prereq_pm became undef. FIXED in rev. 480.

2006-01-26  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: illegal entries in the Config hash are never removed and a hash
	cannot be emptied. The latter is FIXED with rev. 475, the former with
	rev. 476.

	* Bug (Tyler MacDonald): OK, I've figured out what went wrong: 0.27_06
	isn't on www.cpan.org/pub/CPAN yet. However, *how* it went wrong is
	truly bizzare: LWP returned a "404 not found" error, yet somehow I still
	ended up with a .tar.gz and .tar file, and CPAN thinking it had actually
	downloaded something. This looks like a bug in CPAN.pm, both in the 1.7
	version that's distributed with 5.8.7, and the latest release, 1.83.

	In my environment, this comes from curl. After fixing the curl switches,
	the problem persists. This time is lynx to blame, but for lynx there is
	no commandline switch that propagates a 404 to a false. So we now read
	the file that lynx sends us and heuristically decide if it is an error
	message. FIXED in revision 477.

2006-01-25  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: META.yml may contain build_requires which for example File::BOM
	specifies. It doesn't matter that I believe that it is not a
	build_requires, it is really a requires because only tests fail, not the
	build process. But I must merge the two hashes. FIXED in rev. 471

	* Foreign bug: YAML with bleadperl fails a test which succeeds with
	maintperl. REPORTED

	* Bug: with 1.8358 from the core CPAN says after the start
	"lib/CPAN/Config.pm initialized" and goes into the init dialog. After ^C
	I find a lib/CPAN/Config.pm file.

	Ahhh, that's how 'o conf commit' had written my dontload_hash: producing
	a syntax error. FIXED in  rev. 466

2006-01-24  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* 5 new bugs from in RT: 17237 17238 17241 17242 17266

	17237 may be fixed with rev. 464 but not yet tested.

	rev. 465 continued to work on 17237 and I consider it fixed now.

	rev. 467 fixes 17238

	rev. 465 also is an answer to 17241 because this was most likely not a bug

	rev. 469 fixes 17266

	17242 is the request to work with Win32::OLE which I could only reply to
	with 'patches welcome'

	* Bug: setting "o conf dontload_hash ''" breaks the shell: C<Can't use
	string ("") as a HASH ref while "strict refs" in use at lib/CPAN.pm line
	833.> FIXED in rev 464.

2006-01-21  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* see if podlators 2.0.1 fixes the broken README and if so, switch back
	to ${PERL} in the Makefile.PL. FIXED in rev. 457

	* bug: while trying to install Bundle::CPAN, YAML was delayed "until
	after prerequisites" but later was not retried or maybe was retried but
	CPAN said, it was

Running make for I/IN/INGY/YAML-0.53.tar.gz
  Is already unwrapped into directory /home/k/.cpan/build/YAML-0.53
  Delayed until after prerequisites
Running make test
  Delayed until after prerequisites
Running make install
  Delayed until after prerequisites

	So the installation of Bundle::CPAN was not really tried to finish.

	The dependency chain is as follows:

	  YAML depends on Class::Spiffy and Test::Base
    Test::Base depends on Spiffy

	Bug is that ->{later} is not double checked when encountered. Fixed in
	rev. 454.

2006-01-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Foreign Bug: RDF::Simple has LWP::UserAgent as undeclared prereq???

	Running make against RDF::Simple pulls in a lot but it finally comes to
	an end. When I then run test, the whole load of modules starts testing
	and three fail their tests:

  ABW/AppConfig-1.56.tar.gz                    : make_test NO
  FLUFFY/Class-MethodMaker-2.08.tar.gz         : make_test NO
  ZOOLEIKA/RDF-Simple-0.22.tar.gz              : make_test NO

	paging back reveals: all the RDF::Simple tests fail due to missing
	LWP::UserAgent, RDF::Simple::Serialiser, and Class::MethodMaker. The
	latter two do not appear when I test against 5.8.8-tobe. REPORTED via
	RT.

	AppConfig fails due to "Can't modify non-lvalue subroutine call at
	t/file.t line 112, <DATA> line 69." This is a 5.9.3 issue, we succeed
	with 5.8.8-tobe (@26917) REPORTED via p5p.

	Class-MethodMaker tests fail complaining that they cannot find
	Class::MethodMaker. This is also a 5.9.3 issue. Fully automated binary
	search is impossible unless I find a smaller test case. 26492 ok, 26493
	not ok. Ha! It is a Makefile.PL vs Build.PL issue! On RT #16241 I have
	added this observation.

2006-01-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* rt #17089 suggests that we have to care for M:B being installed when
	we find a distro that has only a Build.PL and no Makefile.PL

	AFAIR only CPAN::Metadata::RDF is a module that comes with Build.PL and
	without Makefile.PL, so it is the only one to test the bugreport. This
	takes *quite* a while because of prerequisites (Class::MethodMaker,
	Template::Toolkit, DateTime::TimeZone, DBD::SQLLite, LWP, etc.). And of
	course after all the prerequisites, we HAVE Module::Build, so must
	remove it again. FIXED in rev. 433

	* Foreign Bug? I must investigate DateTime::TimeZone separately. It
	wanted to install Module::Build on its own and then failed giving as a
	reason that Module::Build was not installed???

	It turns out the prereq_pm is undef for some reason. But prereq_pm is
	only built during the 'make' step and then not resetted during a 'force
	get'. The 'prereq_pm_detected' bit is set and I must leave/enter the
	shell to debug this. OK. I see a Makefile.PL that simply fails because
	Module::Build is not installed. At least it says what it wants, but we
	must be better prepared for such an attack. OK, I'll file a bugreport
	against both DateTime::TimeZone and Module::Build -- somebody has to
	confess that it is a prereq and write it into the META.yml. That's what
	I would say. DONE

2006-01-13  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: when ~/.cpan/sources/authors/id/A/AN/ANDK/CPAN-1.83_54.tar.gz is
	not a tar file (because I mistyped a URL and got something else), then
	even "force get ANDK/CPAN-1.83_54.tar.gz" does not overwrite the bogus
	file. The stupid program just keeps complaining that the file is not a
	tarfile and I must remove it manually.

	Ahh, this bug needs not be fixed because it only happens when you have
	no Digest::SHA available. REJECT

	* Bug: $CPAN_config_loaded should be replaced with something like
	$INC{"CPAN/Config.pm"} || $INC{"CPAN/MyConfig.pm"} so that loading one
	of the two before starting the shell will do. Then revert patch 411.
	FIXED in rev. 418

	* Todo: see the newest cpan by brian. DONE (BDFOY/cpan-1.51.tar.gz)

2006-01-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: We cannot determine the prereequisites of File::Find::Rule
	because we have no YAML installed and Richard uses Module::Build, so we
	have no Makefile to parse. There is some MB interface to get them. fixed
	in rev. 396

	* Bug: "install Bundle::CPAN Expect Test::Pod" currently failes
	correctly when we reach YAML because we cannot verify the signature. But
	we must not die, we must only set the correct status so the rest of the
	gang can be installed. Fixed in rev. 384

2006-01-11  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* what happens to "failed" when we reload the index? TESTED OK

	* force: I'd expect 'force ls' to always fetch fresh CHECKSUMS
	files. Currently it doesn't. FIXED in rev. 401

	* optimize "ls dowens": currently fetches D/CHECKSUMS and D/DO/CHECKSUMS
	even if we already have D/DO/DOWENS/CHECKSUMS. Is it worth fixing? NO

	* get rid of the summary currently provided by install bundle, its
	superceded by failed(). REJECT, maybe it's useful

	* Todo: document "failed" (and "status"?) DONE for failed, REJECT for status

	* today's rev. 374 of CPAN.pm should be partially reverted: while
	failed() looks good most of the time, it looks ugly that 'force install
	version' installs version and still failed reports:

Writing /usr/local/perl-5.8.0@26774/lib/site_perl/5.9.3/i686-linux-64int/auto/version/vxs/.packlist
  ./Build install --uninst 1 -- OK
Failed installations in this command:
  JPEACOCK/version-0.53.tar.gz                 : make_test NO

cpan> failed               
Failed installations in this session:
  BDFOY/Test-Prereq-1.029.tar.gz               : make_test NO
  JPEACOCK/version-0.53.tar.gz                 : make_test NO

	Correct behaviour should be that the 'make_test NO' bit be nuked. FIXED
	in rev. 387

	Above that, the "prompt" change was only interesting during debugging.
	Nobody wants to see the internal number of commands in his prompt. FIXED
	in rev. 388

	* Bug: YAML fails to unpack because of bad signature. Retrying leads to
	prereq Test::Base failing due to bad signature. Retrying leads to
	running make test on YAML. dump reveals that somehow SIG_STATUS was set
	to YES. Ahh, that's the signature on the CHECKSUMS file. Need a new
	attribute for broken signatures. FIXED in rev. 374

2006-01-09  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* document CPAN_SHELL_LEVEL DONE

	* find out why Expect is so noisy and when this did start DONE

	* Slaven suggests: How to discover that we are in the subshell?
	Environment? Prompt? Level? PS1 as an environment variable? How does
	Debian's apt-get solve that? HALF-DONE in rev. 360: We now have the
	envariable CPAN_SHELL_LEVEL but I'd still like to make a change to the
	prompt. Update: Debian does not mangle the prompt, they just say 'Type
	exit when you're done':

	*** dvorak (Y/I/N/O/D/Z) [default=N] ? z
Type `exit' when you're done.
Abstaining from writing .zhistory, is younger than stats.dbhash at /root/bin/commandhistory.pl line 513.
Zsh version 4.3.0-dev-2
Linux dev05 2.6.12.6-xen0 #2 Tue Jan 10 17:34:37 CET 2006 i686 GNU/Linux

	So this Todo can also be CLOSED.

	* Rename Releasenotes to Changes and make the ChangeLog in the
	traditional format, there is some XSLT stylesheet somewhere that does
	this. Ah here: http://ch.tudelft.nl/~arthur/svn2cl/svn2cl-0.5.tar.gz
	DONE up to rev. 352

2006-01-01  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Give every command a number and store that number in the object,
	something like incommandcolor but without removing it at the end of the
	command. With such a number we can make failed(commandnumber) filter on
	that commandnumber and have instant per-command-failed. DONE in rev 374

2005-12-31  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: I install Archive::Extract and it has the prerequisite
	Module::Load::Conditional declared but nobody installs it.
	FIXED in rev. 329

2005-12-30  Andreas J Koenig  <akoenig@cellular.de>

	* FirstTime needs a structure over each question or questiongroup so
	that we can ask single questions. Structure was brought by Jim Comie
	around rev. 355

	* Bug: "reload cpan" does not work if the old and the new CPAN.pm
	have a different path. I installed a new CPAN.pm from CPAN and it
	did remove the old /usr/share/perl/5.8/CPAN.pm but installed the
	new one as /usr/local/share/perl/5.8.7/CPAN.pm. The reload then
	always just said "0 subroutines redefined". FIXED in rev. 321

	* rev 315 fixed a path/permission problem with the use of basename() and
	I could see that the error message gets much better than before but we
	need a test case that shows that this strategy can really work in some
	cases. Maybe we need to store the tar file somewhere else to keep the
	tmp/ directory tidy. Also we must see what happens when we cannot remove
	the tmp/ directory. The list of broken distros in
	eg/find-module-install-sudo-bugs.pl will help. DONE

	* add eg/ to the MANIFEST? Not yet, the script is too much focused on a
	problem that is not of interest to others. REJECT

	* Bug: checksum mismatch on a file is being reported even when the
	file has 0 bytes. 0 bytes should clearly constitute the right/the
	duty to overwrite. FIXED in rev. 320

2005-12-29  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug suspected in Module::Install: it seems to run CPAN.pm in a
	subshell with sudo and so we get directories under build/ that we do not
	own. No release before this bug is traced down! Bugreport sent to Audrey
	a few minutes ago (already Friday, 0:30 Berlin time). Bug confirmed and
	has already been fixed in 0.37 and old distros must be redistroed. DONE

	* branching and merging: make current HEAD a branch "1.80_56plus" and
	roll HEAD back to contain only the zero-risk stuff (for maybe later
	releasing that as 1.81?) DONE

2005-12-21  Andreas J Koenig  <akoenig@cellular.de>

	* complete 'o conf' does not show commit. FIXED in rev 291

	* Bug: Module::Install writes into META.yml "perl: 5.004" and we take it
	as a Module requirement. Whose bug? WORKAROUND in rev 290

	* Can't locate object method "prettyprint" via package "CPAN::Config" at
	lib/CPAN.pm line 1246, <STDIN> line 2. FIXED in rev 288

2005-12-19  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Documentation of sudo, ls *, Module::Build, bzip2, YAML; DONE

	* Sudo for Build? Ask mailinglist if we need a
	build_install_build_command or what we need there. DONE

2005-12-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* add to the Bundle: YAML, Text::Glob, Module::Build, Digest::SHA FIXED in rev 280

	* 'make release' is broken. Apparently I have to follow some sequence to
	make release:-( MAYBE FIXED

	* Bug: The following prints "incommandcolor" which should never happen:

perl -Ilib -MCPAN -e 'CPAN::Shell->$_("MARKSTOS/Test-XML-Valid-0.04.tar.gz") for qw(clean d);'
CPAN: LWP::UserAgent loaded ok
CPAN: URI::URL loaded ok
Going to read /home/ftp/pub/CPAN/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok
Going to read /home/ftp/pub/CPAN/modules/02packages.details.txt.gz
  Database was generated on Sun, 18 Dec 2005 00:23:31 GMT
Going to read /home/ftp/pub/CPAN/modules/03modlist.data.gz
CPAN: Storable loaded ok
Going to write /home/k/.cpan/Metadata
Running make clean
  Has no own directory
Distribution id = M/MA/MARKSTOS/Test-XML-Valid-0.04.tar.gz
    CPAN_USERID  MARKSTOS (Mark Stosberg <mark@summersault.com>)
    CALLED_FOR   M/MA/MARKSTOS/Test-XML-Valid-0.04.tar.gz
    CONTAINSMODS Test::XML::Valid
    UPLOAD_DATE  2004-06-01
    incommandcolor 0

	FIXED in rev 279

2005-12-17  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* make selectable in the config if M:B should be chosen over
	Makefile.PL. prefer_installer DONE in rev 271

	* Bug: tolerance on colon only works with m command but not with install command:

cpan> install Class:Container
CPAN: Storable loaded ok
Going to read /root/.cpan/Metadata
  Database was generated on Sat, 17 Dec 2005 10:06:33 GMT
Warning: Cannot install Class:Container, don't know what it is.
Try the command

    i /Class:Container/

to find objects with matching identifiers.

cpan> m Class:Container      
Module id = Class::Container
    CPAN_USERID  KWILLIAMS (Ken Williams <ken@mathforum.org>)
    CPAN_VERSION 0.12
    CPAN_FILE    K/KW/KWILLIAMS/Class-Container-0.12.tar.gz
    MANPAGE      Class::Container - Glues object frameworks together transparently
    INST_FILE    /usr/local/share/perl/5.8.7/Class/Container.pm
    INST_VERSION 0.12

	FIXED in rev 269

	* switch back and forth between preferring Build.PL or Makefile.PL; find
	12 modules that are good for testing Module::Build:

	SVN::Notify::Mirror  failed a test with "could not exec svnnotify" but it
                       worked on the commandline

	SVN::Notify::Config  is the whole family of SVN::Notify a mess, dependency-wise?

	SVN::Notify          must be installed first???

	Text::Lorem HTTP::Proxy Workflow Calendar::Simple DateTime::HiRes
	CGI::Wiki::Kwiki Class::Container HTML::TagCloud
	Data::FormValidator::Util::HTML

	DONE for rev 269

2005-12-15  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: what? we still do not support Build.PL? Didn't anybody send
	me a patch? Try 'install CPAN::Metadata::RDF' and see how this can
	be fixed as quickly as possible.

	Try:        look CPAN::Metadata::RDF
	then there: perl Build.PL;./Build;./Build install

	This does nothing for the prerequisites. We could lookup META.yml either
	then or beforehand. FIXED although only minimal tested in rev 269

	* YAML for dependency checking in rev 268

	* bz2 support: testobject is ARTURAZ/Net-Vypress-Chat-0.72.1.tar.bz2
	DONE in rev 264

	* Todo: sha256 DONE in rev 263

	* Todo: 4th colmn in the 'r' command has not the canonical name
	but the unneeded D/DC/ stuff. DONE in rev 262.

	* Globbing on the ls command: completion? REJECTED

2005-12-12  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Feature request: if I type 'm CGI:Session' (note the missing second
	colon) I get

	No objects of type Module found for argument CGI:Session

	I believe, CPAN could supply the missing colon in this case. DONE

2005-11-30  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: when the Metadata file has been read with the old version and
	CPAN reads the new index it does not update the version. Witness
	Crypt::Khazad. Once the Metadata are removed completely and built up
	correctly, everything is OK.

	Can be tested by running

	!print $CPAN::META->{readonly}{"CPAN::Module"}{"Crypt::Khazad"}{"CPAN_VERSION"} = "1.0"
	reload index

	This may have nothing to do with multidot versions, just some
	pessimization in the code dealing with replacement of META when
	re-reading index files. FIXED

2005-11-22  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* From: David Golden <david@hyperbolic.net>:

	> Also, "lack of distname support" is overblowing the situation.
	> Distnames are supported perfectly fine as long as you put it in the
	> proper syntax with author's ID and version.
	
	I think the problem Jim encountered is that "proper syntax" is part of
	the arcana of CPAN.  It's not obvious from the help:
	
	>  a,b,d,m  WORD or /REGEXP/  about authors, bundles, distributions, modules
	>  i        WORD or /REGEXP/  about anything of above
	>  r        NONE              reinstall recommendations
	>  ls       AUTHOR            about files in the author's directory
	
	Something that clarifies that AUTHOR/DIST-VERSION is a valid format
	would help.  Or rather, some specific example of what that WORD can be:
	
	  where WORD is either a module, bundle or author name or a
	  distribution name of the form AUTHOR/DISTRIBUTION-VERSION
	
	It's vaguely alluded to in the CPAN perldoc, but only in the section
	describing the four CPAN::* classes.
	
	A doc patch would be a quick fix for this.

2005-11-07  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* globbing on the ls command: only ls 'GBARR/Scalar*', or even 'ls
	*/makepatch'? 2005-12-12: DONE 

	* script to copy relevant files to the perl tree. DONE

2005-11-04  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* is version in script/cpan OK? It was 1.3 in perl @25981! Same
	for Nox.pm FIXED

	* PAUSE key 2005? DONE

2005-11-03  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Need Releasenotes, the ChangeLog is a big mess with the numerous
	checkins that all were just testing the release cycle itself and
	not generating anything useful for the user. DONE

2005-11-02  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: why did the release only contain a ChangeLog up to release
	206 when we were at 212? Ah, I see, the disttest target does not
	make a to-be-released file, must be done by make dist. So the
	whole release was @206. No harm done because between 206 and 212 I
	only worked on the release target. I think I need a disttest of my
	own that takes the dist.tar.gz already built and tests it, not the
	one that builds a dist from the air again into the air and tests
	that. I want a real test of that file that is going to be
	released. Then I can live with 'make release' running both dist
	and disttest. I think. DONE
	
	* Bug: as a non-root user and first-time caller (no ~/.cpan/
	directory) I said "not ready for interactive configuration" and
	then said 'o conf init'. I got no questions asked but into a fast
	endless loop like so:

(1) Africa
(2) Asia
(3) Central America
(4) Europe
(5) North America
(6) Oceania
(7) South America
Select your continent (or several nearby continents) []

Sorry! since you don't have any existing picks, you must make a
geographic selection.

(1) Africa
(2) Asia
(3) Central America
(4) Europe
(5) North America
(6) Oceania
(7) South America
Select your continent (or several nearby continents) []

Sorry! since you don't have any existing picks, you must make a
geographic selection.


	until I hot ^C. *Very* Clever tricks with prompt?

	Reproducable as described. Leaving the shell and entering it again
	make it not reproducable. I must 'rm -rf ~/.cpan
	lib/CPAN/Config.pm' to reproduce. FIXED in rev 214

2005-10-28  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

2005-10-21  Andreas J Koenig  <akoenig@cellular.de>

	* cpan> m Apache::AuthAny 
	Can't call method "upload_date" on an undefined value at /usr/perl-5.8.4/lib/5.8.4/CPAN.pm line 5761.

	FIXED in rev 186.

	* Slaven suggests a variable "permanently_connected" that helps to
	decide if a connection to the internet is available. Do ask the
	community if people care about such stuff. Slaven expects, some
	will care that the the 'm' and 'd' commands now make a connection
	to the internet. FIXED by introducing do_ls_on_m_and_d.

2005-10-20  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* ChangeLog needs to be written by svn during make dist, and the
	dependencies must care for a rerun of 'perl Makefile.PL' when
	CPAN.pm gets edited. This would be 'svn log -r HEAD:131' for the
	ChangeLog, I think. FIXED

2005-10-18  Andreas J. Koenig  <andreas.koenig.gmwojprw@franz.ak.mind.de>

	* Bug: installing SWETH/IPv4.pm did not seem to work anymore.
	FIXED in revision 172.

	* Bug: there is a directory ZTANG/Text-PORE-102/ on CPAN with a
	single file README in it. ls chokes on ZTANG because of this. Is
	it a bug that the directory exists or is it a bug that it has no
	CHECKSUMS file? FIXED by simply removing the README file from
	CPAN.

2005-10-12  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: the nonsense command 'force ls andk' should just do a plain
	'ls andk'. Instead it complains: C<Warning: Cannot ls andk, don't
	know what it is.> FIXED in rev. 180

2005-10-11  Andreas J Koenig  <akoenig@cellular.de>

	* Bug: "o conf foo bar" should complain about invalid key "foo".
	It does instead set "foo" to "bar" and it happened to me to set
	"debug" to "all" and then I wondered why debugging was not turned
	on. Would it have complained, I would have found the correct
	command ("o debug all") much quicker. FIXED in rev. 178.

	* Same effect can be illustrated by changing to the source's root
	directory, running 'perl -Ilib -MCPAN -e shell', 'install
	Tie::CPHash' (or something else???) and then 'reload cpan'....
	Ahhh, this latter example it is a matter of somebody having turned
	off $^W globally:-)...FIXED

2003-08-13  Andreas J Koenig

	cpan script should accept arguments as suggested by Matt Sergeant:
	   cpan install My::Foo
	
	Cache manager should read youngest directories first and start
	deleting without measuring as soon as the cache limit is reached.
	
	Rename 'o conf' to 'set' and 'o debug' to 'set debug'.
	
	Profiling?
	
	Provide something, so that the next "o conf commit" will not overwrite
	the config file. maybe "myconfig_readonly"?
	
	I have a patch by Jochen Wiedmann that implements a per-distribution
	permanent configuration directory. The new containsmods() method in
	1.52 should help to fit the patch with the rest of CPAN.pm.
	
	Option to skip testing (Ask Bjoern Hansen).
	
	Default Argument for make,test,look,etc. could be the last argument???
	
	Make a preferred download method configurable (allow further download
	methods via plugin?)
	
	Allow different site preferences for index files and other files
	
	Replace make with Make
	
	Maintain the cache at runtime. Currently we only check it at startup.
	
	Distribute compressed CHECKSUM files
	
	Security layer
	
	make plugins configurable, adjust @ISA
	
	Make configurable that multiple additional index files can be
	integrated (for Intra-CPANs). I believe CPAN::Site did it right
	anyway, so we might skip this.
	
	Make the 'make' command itself configurable as suggested by Rujith de
	Silva <rujith.desilva@ps.net>, who wants to run 'sudo make install'
	instead of 'make install'. (Fixing this is delayed, because it
	interacts with Make.pm)

	* What does E1, E2, E3, E4, E5, M1, M2, M3, M4, M5, H1, H2, H3, H4, H5
	mean?
	
	E=Easy
	M=Middle
	H=Hard
	1 = unimportant
	5 = important
	
	

	Local Variables:
	mode: change-log
	change-log-default-name: "Todo"
	tab-width: 2
	left-margin: 2
	End:
